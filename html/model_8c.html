<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Simple robot decision making model: model.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Simple robot decision making model<span id="projectnumber">&#160;0.1</span>
   </div>
   <div id="projectbrief">A simple robot model for decision making in homeosatsis 2RP context</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('model_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">model.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Simple model for decision making in a TRP with Khepera IV robot.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;khepera/khepera.h&gt;</code><br />
<code>#include &lt;pthread.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;math.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for model.c:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c__incl.png" border="0" usemap="#amodel_8c" alt=""/></div>
<map name="amodel_8c" id="amodel_8c">
<area shape="rect" title="Simple model for decision making in a TRP with Khepera IV robot." alt="" coords="256,5,324,32"/>
<area shape="rect" title=" " alt="" coords="5,80,135,107"/>
<area shape="rect" title=" " alt="" coords="159,80,235,107"/>
<area shape="rect" title=" " alt="" coords="259,80,321,107"/>
<area shape="rect" title=" " alt="" coords="345,80,409,107"/>
<area shape="rect" title=" " alt="" coords="433,80,496,107"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a525335710b53cb064ca56b936120431e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a525335710b53cb064ca56b936120431e">_USE_MATH_DEFINES</a></td></tr>
<tr class="memdesc:a525335710b53cb064ca56b936120431e"><td class="mdescLeft">&#160;</td><td class="mdescRight">for using math constants  <a href="model_8c.html#a525335710b53cb064ca56b936120431e">More...</a><br /></td></tr>
<tr class="separator:a525335710b53cb064ca56b936120431e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac3553b3932cbfeeac4526ce7ca0336b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#aac3553b3932cbfeeac4526ce7ca0336b">SPEED</a>&#160;&#160;&#160;200</td></tr>
<tr class="memdesc:aac3553b3932cbfeeac4526ce7ca0336b"><td class="mdescLeft">&#160;</td><td class="mdescRight">speed basic input  <a href="model_8c.html#aac3553b3932cbfeeac4526ce7ca0336b">More...</a><br /></td></tr>
<tr class="separator:aac3553b3932cbfeeac4526ce7ca0336b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a078b6c12f1ac6819cecef90ab5870276"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a078b6c12f1ac6819cecef90ab5870276">TIME</a>&#160;&#160;&#160;100000</td></tr>
<tr class="memdesc:a078b6c12f1ac6819cecef90ab5870276"><td class="mdescLeft">&#160;</td><td class="mdescRight">time for model update (in ms)  <a href="model_8c.html#a078b6c12f1ac6819cecef90ab5870276">More...</a><br /></td></tr>
<tr class="separator:a078b6c12f1ac6819cecef90ab5870276"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84977424b647dd9248ebf1436aaa1cc8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a84977424b647dd9248ebf1436aaa1cc8">MAXBUFFERSIZE</a>&#160;&#160;&#160;128</td></tr>
<tr class="memdesc:a84977424b647dd9248ebf1436aaa1cc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer size for robot communication.  <a href="model_8c.html#a84977424b647dd9248ebf1436aaa1cc8">More...</a><br /></td></tr>
<tr class="separator:a84977424b647dd9248ebf1436aaa1cc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4f6058c45a018de2c45bc43f0c405ae"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#ae4f6058c45a018de2c45bc43f0c405ae">MAX_DIST</a>&#160;&#160;&#160;500</td></tr>
<tr class="memdesc:ae4f6058c45a018de2c45bc43f0c405ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum distance for ir sensor.  <a href="model_8c.html#ae4f6058c45a018de2c45bc43f0c405ae">More...</a><br /></td></tr>
<tr class="separator:ae4f6058c45a018de2c45bc43f0c405ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0242b872f13ae044f308ee8865fecc57"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a0242b872f13ae044f308ee8865fecc57">MIN_DIST</a>&#160;&#160;&#160;80</td></tr>
<tr class="memdesc:a0242b872f13ae044f308ee8865fecc57"><td class="mdescLeft">&#160;</td><td class="mdescRight">or 70 | minimum distance for ir sensor  <a href="model_8c.html#a0242b872f13ae044f308ee8865fecc57">More...</a><br /></td></tr>
<tr class="separator:a0242b872f13ae044f308ee8865fecc57"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a024bee244394eeb174d636f297a7e857"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a024bee244394eeb174d636f297a7e857">display_battery</a> ()</td></tr>
<tr class="memdesc:a024bee244394eeb174d636f297a7e857"><td class="mdescLeft">&#160;</td><td class="mdescRight">display battery info  <a href="model_8c.html#a024bee244394eeb174d636f297a7e857">More...</a><br /></td></tr>
<tr class="separator:a024bee244394eeb174d636f297a7e857"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf91428d3c07a9e825283b794ead7f4c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#adf91428d3c07a9e825283b794ead7f4c">set_leds</a> (int left, int right, int back)</td></tr>
<tr class="memdesc:adf91428d3c07a9e825283b794ead7f4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">function that set color for 4 robot leds  <a href="model_8c.html#adf91428d3c07a9e825283b794ead7f4c">More...</a><br /></td></tr>
<tr class="separator:adf91428d3c07a9e825283b794ead7f4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfb70eef697ff0c61b7a04fd7bb857ba"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#acfb70eef697ff0c61b7a04fd7bb857ba">turn_off_leds</a> ()</td></tr>
<tr class="memdesc:acfb70eef697ff0c61b7a04fd7bb857ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">function that turn of all leds  <a href="model_8c.html#acfb70eef697ff0c61b7a04fd7bb857ba">More...</a><br /></td></tr>
<tr class="separator:acfb70eef697ff0c61b7a04fd7bb857ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13b684a14e79f0144fbfdbd71bb6bc6e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a13b684a14e79f0144fbfdbd71bb6bc6e">death_animation</a> ()</td></tr>
<tr class="memdesc:a13b684a14e79f0144fbfdbd71bb6bc6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">function that make animation for death  <a href="model_8c.html#a13b684a14e79f0144fbfdbd71bb6bc6e">More...</a><br /></td></tr>
<tr class="separator:a13b684a14e79f0144fbfdbd71bb6bc6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae44811dea0e1843c571619d692a463ac"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#ae44811dea0e1843c571619d692a463ac">damage_animation</a> (void *args)</td></tr>
<tr class="memdesc:ae44811dea0e1843c571619d692a463ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">function that make animation when robot has damage  <a href="model_8c.html#ae44811dea0e1843c571619d692a463ac">More...</a><br /></td></tr>
<tr class="separator:ae44811dea0e1843c571619d692a463ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bf656f8e903944d7b5c9e1166eb71c4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a5bf656f8e903944d7b5c9e1166eb71c4">winner_takes_all</a> (float m1, float m2, float m3)</td></tr>
<tr class="memdesc:a5bf656f8e903944d7b5c9e1166eb71c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Winner take all for decision making.  <a href="model_8c.html#a5bf656f8e903944d7b5c9e1166eb71c4">More...</a><br /></td></tr>
<tr class="separator:a5bf656f8e903944d7b5c9e1166eb71c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88cc80b1bb6c547c836b5490c0db3099"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a88cc80b1bb6c547c836b5490c0db3099">stop_moving</a> ()</td></tr>
<tr class="memdesc:a88cc80b1bb6c547c836b5490c0db3099"><td class="mdescLeft">&#160;</td><td class="mdescRight">stop robot's motor  <a href="model_8c.html#a88cc80b1bb6c547c836b5490c0db3099">More...</a><br /></td></tr>
<tr class="separator:a88cc80b1bb6c547c836b5490c0db3099"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22159ec5786bcd0c518d86dc97d44b4e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a22159ec5786bcd0c518d86dc97d44b4e">move</a> (float motor_left, float motor_right)</td></tr>
<tr class="memdesc:a22159ec5786bcd0c518d86dc97d44b4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">function to make robot move  <a href="model_8c.html#a22159ec5786bcd0c518d86dc97d44b4e">More...</a><br /></td></tr>
<tr class="separator:a22159ec5786bcd0c518d86dc97d44b4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51433c029591b579b2325061d785ca36"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a51433c029591b579b2325061d785ca36">run</a> (void)</td></tr>
<tr class="memdesc:a51433c029591b579b2325061d785ca36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Robot is controlled with zqsd input, a for quit, e for stop.  <a href="model_8c.html#a51433c029591b579b2325061d785ca36">More...</a><br /></td></tr>
<tr class="separator:a51433c029591b579b2325061d785ca36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3bb390d68f40aaee86dbed19b15218c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#ad3bb390d68f40aaee86dbed19b15218c">induce_damage</a> (float level)</td></tr>
<tr class="memdesc:ad3bb390d68f40aaee86dbed19b15218c"><td class="mdescLeft">&#160;</td><td class="mdescRight">function that decrease physiological variable for integrity  <a href="model_8c.html#ad3bb390d68f40aaee86dbed19b15218c">More...</a><br /></td></tr>
<tr class="separator:ad3bb390d68f40aaee86dbed19b15218c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0c3fbb5b2d6e17fcd9f47246bca839d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#ae0c3fbb5b2d6e17fcd9f47246bca839d">read_and_print_sensors</a> (void)</td></tr>
<tr class="memdesc:ae0c3fbb5b2d6e17fcd9f47246bca839d"><td class="mdescLeft">&#160;</td><td class="mdescRight">function to read and print robot's ir and us sensors  <a href="model_8c.html#ae0c3fbb5b2d6e17fcd9f47246bca839d">More...</a><br /></td></tr>
<tr class="separator:ae0c3fbb5b2d6e17fcd9f47246bca839d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d6be2c2d6d79c4bf8daa9019640e5a7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a0d6be2c2d6d79c4bf8daa9019640e5a7">get_sensors_history</a> (void)</td></tr>
<tr class="memdesc:a0d6be2c2d6d79c4bf8daa9019640e5a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">function that store actual for sensor values for later use  <a href="model_8c.html#a0d6be2c2d6d79c4bf8daa9019640e5a7">More...</a><br /></td></tr>
<tr class="separator:a0d6be2c2d6d79c4bf8daa9019640e5a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdbf3026a1d40b44651f0f5f76ad7102"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#afdbf3026a1d40b44651f0f5f76ad7102">get_sensors</a> (void)</td></tr>
<tr class="memdesc:afdbf3026a1d40b44651f0f5f76ad7102"><td class="mdescLeft">&#160;</td><td class="mdescRight">function to read and store sensors values  <a href="model_8c.html#afdbf3026a1d40b44651f0f5f76ad7102">More...</a><br /></td></tr>
<tr class="separator:afdbf3026a1d40b44651f0f5f76ad7102"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4839931386cb5fae8e015d2173de57e0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a4839931386cb5fae8e015d2173de57e0">compute_deficit</a> (void)</td></tr>
<tr class="memdesc:a4839931386cb5fae8e015d2173de57e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">function that compute deficits for physiological internal values  <a href="model_8c.html#a4839931386cb5fae8e015d2173de57e0">More...</a><br /></td></tr>
<tr class="separator:a4839931386cb5fae8e015d2173de57e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60c16f1cf7d0c222208477d5810a4020"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a60c16f1cf7d0c222208477d5810a4020">compute_motivations</a> (void)</td></tr>
<tr class="memdesc:a60c16f1cf7d0c222208477d5810a4020"><td class="mdescLeft">&#160;</td><td class="mdescRight">function that compute motivations for physiological internal values  <a href="model_8c.html#a60c16f1cf7d0c222208477d5810a4020">More...</a><br /></td></tr>
<tr class="separator:a60c16f1cf7d0c222208477d5810a4020"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a762377c04f5d71221c66a23c81777f96"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a762377c04f5d71221c66a23c81777f96">get_mean_normalized</a> (int table[], int size, int min, int max)</td></tr>
<tr class="memdesc:a762377c04f5d71221c66a23c81777f96"><td class="mdescLeft">&#160;</td><td class="mdescRight">function that get mean of table and normalize it  <a href="model_8c.html#a762377c04f5d71221c66a23c81777f96">More...</a><br /></td></tr>
<tr class="separator:a762377c04f5d71221c66a23c81777f96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77821830aaf0356c92238ea9d040fd9f"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a77821830aaf0356c92238ea9d040fd9f">get_mean_normalized_f</a> (float table[], int size, float min, float max)</td></tr>
<tr class="memdesc:a77821830aaf0356c92238ea9d040fd9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">function that get mean of table and normalize it but for a float table  <a href="model_8c.html#a77821830aaf0356c92238ea9d040fd9f">More...</a><br /></td></tr>
<tr class="separator:a77821830aaf0356c92238ea9d040fd9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a507792eccb7b93c5c65436fd8f37c84b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a507792eccb7b93c5c65436fd8f37c84b">compute_cues</a> (void)</td></tr>
<tr class="memdesc:a507792eccb7b93c5c65436fd8f37c84b"><td class="mdescLeft">&#160;</td><td class="mdescRight">function that compute cues  <a href="model_8c.html#a507792eccb7b93c5c65436fd8f37c84b">More...</a><br /></td></tr>
<tr class="separator:a507792eccb7b93c5c65436fd8f37c84b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a58010fca227c64de0d57e5f5a8a0ea"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a1a58010fca227c64de0d57e5f5a8a0ea">decrease_physoligical_variables</a> (void)</td></tr>
<tr class="memdesc:a1a58010fca227c64de0d57e5f5a8a0ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">function that decrease physiological variables  <a href="model_8c.html#a1a58010fca227c64de0d57e5f5a8a0ea">More...</a><br /></td></tr>
<tr class="separator:a1a58010fca227c64de0d57e5f5a8a0ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a045b7ae19635db4c0c565677d9cd3071"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a045b7ae19635db4c0c565677d9cd3071">circ_damage</a> (void)</td></tr>
<tr class="memdesc:a045b7ae19635db4c0c565677d9cd3071"><td class="mdescLeft">&#160;</td><td class="mdescRight">function that compute circulare based damage  <a href="model_8c.html#a045b7ae19635db4c0c565677d9cd3071">More...</a><br /></td></tr>
<tr class="separator:a045b7ae19635db4c0c565677d9cd3071"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff392d961d3f5d759aa041d27780a848"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#aff392d961d3f5d759aa041d27780a848">speed_damage</a> (void)</td></tr>
<tr class="memdesc:aff392d961d3f5d759aa041d27780a848"><td class="mdescLeft">&#160;</td><td class="mdescRight">function that compute speed based damage  <a href="model_8c.html#aff392d961d3f5d759aa041d27780a848">More...</a><br /></td></tr>
<tr class="separator:aff392d961d3f5d759aa041d27780a848"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9772aee7d0e45a3f4927f4df78ee5ed7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a9772aee7d0e45a3f4927f4df78ee5ed7">check_if_damage</a> (void)</td></tr>
<tr class="memdesc:a9772aee7d0e45a3f4927f4df78ee5ed7"><td class="mdescLeft">&#160;</td><td class="mdescRight">function that check if there is damage based on two types of damage  <a href="model_8c.html#a9772aee7d0e45a3f4927f4df78ee5ed7">More...</a><br /></td></tr>
<tr class="separator:a9772aee7d0e45a3f4927f4df78ee5ed7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5b9c8b8ad9d20f047d6ff2ba808dacc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#ab5b9c8b8ad9d20f047d6ff2ba808dacc">update_vars</a> (int loopstart)</td></tr>
<tr class="memdesc:ab5b9c8b8ad9d20f047d6ff2ba808dacc"><td class="mdescLeft">&#160;</td><td class="mdescRight">function that update the internal variables, compute deficits, cues and motivation  <a href="model_8c.html#ab5b9c8b8ad9d20f047d6ff2ba808dacc">More...</a><br /></td></tr>
<tr class="separator:ab5b9c8b8ad9d20f047d6ff2ba808dacc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa752ff33a7112b07dc5f606c72432459"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#aa752ff33a7112b07dc5f606c72432459">print_vars</a> ()</td></tr>
<tr class="memdesc:aa752ff33a7112b07dc5f606c72432459"><td class="mdescLeft">&#160;</td><td class="mdescRight">function that print internal variables  <a href="model_8c.html#aa752ff33a7112b07dc5f606c72432459">More...</a><br /></td></tr>
<tr class="separator:aa752ff33a7112b07dc5f606c72432459"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a970963d2eed5a3ef973adef84ac6b735"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a970963d2eed5a3ef973adef84ac6b735">print_sensors</a> (void)</td></tr>
<tr class="memdesc:a970963d2eed5a3ef973adef84ac6b735"><td class="mdescLeft">&#160;</td><td class="mdescRight">function that print sensor values  <a href="model_8c.html#a970963d2eed5a3ef973adef84ac6b735">More...</a><br /></td></tr>
<tr class="separator:a970963d2eed5a3ef973adef84ac6b735"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5cb99f889d3e3964f2107a2f0b660e3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#ae5cb99f889d3e3964f2107a2f0b660e3">print_sensors_history</a> (void)</td></tr>
<tr class="memdesc:ae5cb99f889d3e3964f2107a2f0b660e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">function that print previous sensor values  <a href="model_8c.html#ae5cb99f889d3e3964f2107a2f0b660e3">More...</a><br /></td></tr>
<tr class="separator:ae5cb99f889d3e3964f2107a2f0b660e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af95500fa642cb6e2114df9f22cef1b49"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#af95500fa642cb6e2114df9f22cef1b49">print_sensors_diff</a> (void)</td></tr>
<tr class="memdesc:af95500fa642cb6e2114df9f22cef1b49"><td class="mdescLeft">&#160;</td><td class="mdescRight">function that print diff between actual and previous sensor data  <a href="model_8c.html#af95500fa642cb6e2114df9f22cef1b49">More...</a><br /></td></tr>
<tr class="separator:af95500fa642cb6e2114df9f22cef1b49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bf485e78be0ae99ec1a866746d462b9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a5bf485e78be0ae99ec1a866746d462b9">print_sensors_speed</a> (void)</td></tr>
<tr class="memdesc:a5bf485e78be0ae99ec1a866746d462b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">function that print speed table  <a href="model_8c.html#a5bf485e78be0ae99ec1a866746d462b9">More...</a><br /></td></tr>
<tr class="separator:a5bf485e78be0ae99ec1a866746d462b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c16fb089e42438d504caa856a3c97ac"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a4c16fb089e42438d504caa856a3c97ac">print_sensors_circ_speed</a> (void)</td></tr>
<tr class="memdesc:a4c16fb089e42438d504caa856a3c97ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">function that print diff between actual and previous sensor data  <a href="model_8c.html#a4c16fb089e42438d504caa856a3c97ac">More...</a><br /></td></tr>
<tr class="separator:a4c16fb089e42438d504caa856a3c97ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d387ae5e71c0596ea733356d5304663"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a8d387ae5e71c0596ea733356d5304663">print_clean_sensor</a> (void)</td></tr>
<tr class="memdesc:a8d387ae5e71c0596ea733356d5304663"><td class="mdescLeft">&#160;</td><td class="mdescRight">function that print previous and actual sensor values  <a href="model_8c.html#a8d387ae5e71c0596ea733356d5304663">More...</a><br /></td></tr>
<tr class="separator:a8d387ae5e71c0596ea733356d5304663"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03aafff51ffe76d9da3f028bef80161b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a03aafff51ffe76d9da3f028bef80161b">eat</a> (void)</td></tr>
<tr class="memdesc:a03aafff51ffe76d9da3f028bef80161b"><td class="mdescLeft">&#160;</td><td class="mdescRight">function that increase physiological energy variable  <a href="model_8c.html#a03aafff51ffe76d9da3f028bef80161b">More...</a><br /></td></tr>
<tr class="separator:a03aafff51ffe76d9da3f028bef80161b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac05d0fc423a7e961f72d76e0b5cdfa9e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#ac05d0fc423a7e961f72d76e0b5cdfa9e">seek_food</a> (void)</td></tr>
<tr class="memdesc:ac05d0fc423a7e961f72d76e0b5cdfa9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">function that select send mootor control for food seeking  <a href="model_8c.html#ac05d0fc423a7e961f72d76e0b5cdfa9e">More...</a><br /></td></tr>
<tr class="separator:ac05d0fc423a7e961f72d76e0b5cdfa9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a256b18090d240375c58448c8693d391b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a256b18090d240375c58448c8693d391b">energy_behavioral_group</a> (void)</td></tr>
<tr class="memdesc:a256b18090d240375c58448c8693d391b"><td class="mdescLeft">&#160;</td><td class="mdescRight">function that select sub-behavioral group for energy  <a href="model_8c.html#a256b18090d240375c58448c8693d391b">More...</a><br /></td></tr>
<tr class="separator:a256b18090d240375c58448c8693d391b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ae2fb5c7962e93ebf2074037de03226"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a1ae2fb5c7962e93ebf2074037de03226">groom_animation</a> (void)</td></tr>
<tr class="memdesc:a1ae2fb5c7962e93ebf2074037de03226"><td class="mdescLeft">&#160;</td><td class="mdescRight">function that make a grooming animation  <a href="model_8c.html#a1ae2fb5c7962e93ebf2074037de03226">More...</a><br /></td></tr>
<tr class="separator:a1ae2fb5c7962e93ebf2074037de03226"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23bae2c9f13446680670ca6f98121f22"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a23bae2c9f13446680670ca6f98121f22">seek_grooming_spot</a> (void)</td></tr>
<tr class="memdesc:a23bae2c9f13446680670ca6f98121f22"><td class="mdescLeft">&#160;</td><td class="mdescRight">function that select send mootor control for groooming spot seeking  <a href="model_8c.html#a23bae2c9f13446680670ca6f98121f22">More...</a><br /></td></tr>
<tr class="separator:a23bae2c9f13446680670ca6f98121f22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a059df531c8f30b7a8700a6b1209fd666"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a059df531c8f30b7a8700a6b1209fd666">groom</a> (void)</td></tr>
<tr class="memdesc:a059df531c8f30b7a8700a6b1209fd666"><td class="mdescLeft">&#160;</td><td class="mdescRight">function that increase physiological tegument variable  <a href="model_8c.html#a059df531c8f30b7a8700a6b1209fd666">More...</a><br /></td></tr>
<tr class="separator:a059df531c8f30b7a8700a6b1209fd666"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b71e438b829313af4267abdfa355e66"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a9b71e438b829313af4267abdfa355e66">tegument_behavioral_group</a> (void)</td></tr>
<tr class="memdesc:a9b71e438b829313af4267abdfa355e66"><td class="mdescLeft">&#160;</td><td class="mdescRight">function that select sub-behavioral group for tegument  <a href="model_8c.html#a9b71e438b829313af4267abdfa355e66">More...</a><br /></td></tr>
<tr class="separator:a9b71e438b829313af4267abdfa355e66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99aa10b152e9998e638b721be1840266"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a99aa10b152e9998e638b721be1840266">avoid</a> (void)</td></tr>
<tr class="memdesc:a99aa10b152e9998e638b721be1840266"><td class="mdescLeft">&#160;</td><td class="mdescRight">function that give motor speed avoidance control  <a href="model_8c.html#a99aa10b152e9998e638b721be1840266">More...</a><br /></td></tr>
<tr class="separator:a99aa10b152e9998e638b721be1840266"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8de3d99966a8a9e1e793c359877b04a3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a8de3d99966a8a9e1e793c359877b04a3">integrity_behavioral_group</a> (void)</td></tr>
<tr class="memdesc:a8de3d99966a8a9e1e793c359877b04a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">function that select sub-behavioral group for integrity  <a href="model_8c.html#a8de3d99966a8a9e1e793c359877b04a3">More...</a><br /></td></tr>
<tr class="separator:a8de3d99966a8a9e1e793c359877b04a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42168e51ee7171713d66b7dcbb41887a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a42168e51ee7171713d66b7dcbb41887a">compute_speed</a> (int bhv)</td></tr>
<tr class="memdesc:a42168e51ee7171713d66b7dcbb41887a"><td class="mdescLeft">&#160;</td><td class="mdescRight">function that select behavioral grroup to compute robot's speed based on input  <a href="model_8c.html#a42168e51ee7171713d66b7dcbb41887a">More...</a><br /></td></tr>
<tr class="separator:a42168e51ee7171713d66b7dcbb41887a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afff2d3c32d3cf9812c2844d012a17142"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#afff2d3c32d3cf9812c2844d012a17142">model</a> (void)</td></tr>
<tr class="memdesc:afff2d3c32d3cf9812c2844d012a17142"><td class="mdescLeft">&#160;</td><td class="mdescRight">Robot model based on our work.  <a href="model_8c.html#afff2d3c32d3cf9812c2844d012a17142">More...</a><br /></td></tr>
<tr class="separator:afff2d3c32d3cf9812c2844d012a17142"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ddf1224851353fc92bfbff6f499fa97"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main</a> (int argc, char *argv[])</td></tr>
<tr class="memdesc:a0ddf1224851353fc92bfbff6f499fa97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main program function.  <a href="model_8c.html#a0ddf1224851353fc92bfbff6f499fa97">More...</a><br /></td></tr>
<tr class="separator:a0ddf1224851353fc92bfbff6f499fa97"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab6f899a116b8a0c5179cd0f0cef9c4d6"><td class="memItemLeft" align="right" valign="top">knet_dev_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#ab6f899a116b8a0c5179cd0f0cef9c4d6">dsPic</a></td></tr>
<tr class="memdesc:ab6f899a116b8a0c5179cd0f0cef9c4d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">robot pic microcontroller access  <a href="model_8c.html#ab6f899a116b8a0c5179cd0f0cef9c4d6">More...</a><br /></td></tr>
<tr class="separator:ab6f899a116b8a0c5179cd0f0cef9c4d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accee4678747584fcd7984a1a9530cc7c"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#accee4678747584fcd7984a1a9530cc7c">left_speed</a></td></tr>
<tr class="memdesc:accee4678747584fcd7984a1a9530cc7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">speed of left motor  <a href="model_8c.html#accee4678747584fcd7984a1a9530cc7c">More...</a><br /></td></tr>
<tr class="separator:accee4678747584fcd7984a1a9530cc7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a3dc9f0e243ebe2212e56a172122fbf"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a5a3dc9f0e243ebe2212e56a172122fbf">right_speed</a></td></tr>
<tr class="memdesc:a5a3dc9f0e243ebe2212e56a172122fbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">speed of right motor  <a href="model_8c.html#a5a3dc9f0e243ebe2212e56a172122fbf">More...</a><br /></td></tr>
<tr class="separator:a5a3dc9f0e243ebe2212e56a172122fbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4f1fe78f78ef60528c944f991ceca7f"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#af4f1fe78f78ef60528c944f991ceca7f">var_energy</a> = 1.0</td></tr>
<tr class="memdesc:af4f1fe78f78ef60528c944f991ceca7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">physological variable for ernergy  <a href="model_8c.html#af4f1fe78f78ef60528c944f991ceca7f">More...</a><br /></td></tr>
<tr class="separator:af4f1fe78f78ef60528c944f991ceca7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cf4f7c491e651d5fac669ae60af667d"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a5cf4f7c491e651d5fac669ae60af667d">var_tegument</a> = 1.0</td></tr>
<tr class="memdesc:a5cf4f7c491e651d5fac669ae60af667d"><td class="mdescLeft">&#160;</td><td class="mdescRight">physological variable for tegument  <a href="model_8c.html#a5cf4f7c491e651d5fac669ae60af667d">More...</a><br /></td></tr>
<tr class="separator:a5cf4f7c491e651d5fac669ae60af667d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24043223f501c4103d8ad849dcfe7416"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a24043223f501c4103d8ad849dcfe7416">var_integrity</a> = 1.0</td></tr>
<tr class="memdesc:a24043223f501c4103d8ad849dcfe7416"><td class="mdescLeft">&#160;</td><td class="mdescRight">physological variable for integrity  <a href="model_8c.html#a24043223f501c4103d8ad849dcfe7416">More...</a><br /></td></tr>
<tr class="separator:a24043223f501c4103d8ad849dcfe7416"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc0df53ad73ec6a6bd79841b15504a66"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#acc0df53ad73ec6a6bd79841b15504a66">def_energy</a> = 1.0</td></tr>
<tr class="memdesc:acc0df53ad73ec6a6bd79841b15504a66"><td class="mdescLeft">&#160;</td><td class="mdescRight">deficit for ernergy  <a href="model_8c.html#acc0df53ad73ec6a6bd79841b15504a66">More...</a><br /></td></tr>
<tr class="separator:acc0df53ad73ec6a6bd79841b15504a66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f9eb877fe2738dae536a6f5a0fb1080"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a5f9eb877fe2738dae536a6f5a0fb1080">def_tegument</a> = 1.0</td></tr>
<tr class="memdesc:a5f9eb877fe2738dae536a6f5a0fb1080"><td class="mdescLeft">&#160;</td><td class="mdescRight">deficit for tegument  <a href="model_8c.html#a5f9eb877fe2738dae536a6f5a0fb1080">More...</a><br /></td></tr>
<tr class="separator:a5f9eb877fe2738dae536a6f5a0fb1080"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0689660b72c446b95cd5c9d9dc6a91dd"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a0689660b72c446b95cd5c9d9dc6a91dd">def_integrity</a> = 1.0</td></tr>
<tr class="memdesc:a0689660b72c446b95cd5c9d9dc6a91dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">deficit for integrity  <a href="model_8c.html#a0689660b72c446b95cd5c9d9dc6a91dd">More...</a><br /></td></tr>
<tr class="separator:a0689660b72c446b95cd5c9d9dc6a91dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a058d1dbc8d7d4223a3071bd3a7e46b9f"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a058d1dbc8d7d4223a3071bd3a7e46b9f">cue_energy</a> = 1.0</td></tr>
<tr class="memdesc:a058d1dbc8d7d4223a3071bd3a7e46b9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">cue for ernergy  <a href="model_8c.html#a058d1dbc8d7d4223a3071bd3a7e46b9f">More...</a><br /></td></tr>
<tr class="separator:a058d1dbc8d7d4223a3071bd3a7e46b9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c429a7e08bb24d3367e060a10cb98ca"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a4c429a7e08bb24d3367e060a10cb98ca">cue_tegument</a> = 1.0</td></tr>
<tr class="memdesc:a4c429a7e08bb24d3367e060a10cb98ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">cue for tegument  <a href="model_8c.html#a4c429a7e08bb24d3367e060a10cb98ca">More...</a><br /></td></tr>
<tr class="separator:a4c429a7e08bb24d3367e060a10cb98ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2c9a6bd1bf91b6fd3c76584b941da17"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#ad2c9a6bd1bf91b6fd3c76584b941da17">cue_integrity</a> = 1.0</td></tr>
<tr class="memdesc:ad2c9a6bd1bf91b6fd3c76584b941da17"><td class="mdescLeft">&#160;</td><td class="mdescRight">cue for integrity  <a href="model_8c.html#ad2c9a6bd1bf91b6fd3c76584b941da17">More...</a><br /></td></tr>
<tr class="separator:ad2c9a6bd1bf91b6fd3c76584b941da17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a273125eebd2bdb137979392cc775f77f"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a273125eebd2bdb137979392cc775f77f">mot_energy</a> = 1.0</td></tr>
<tr class="memdesc:a273125eebd2bdb137979392cc775f77f"><td class="mdescLeft">&#160;</td><td class="mdescRight">motivation for ernergy  <a href="model_8c.html#a273125eebd2bdb137979392cc775f77f">More...</a><br /></td></tr>
<tr class="separator:a273125eebd2bdb137979392cc775f77f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb3d8fe19864e05769a9cae731aa8761"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#afb3d8fe19864e05769a9cae731aa8761">mot_tegument</a> = 1.0</td></tr>
<tr class="memdesc:afb3d8fe19864e05769a9cae731aa8761"><td class="mdescLeft">&#160;</td><td class="mdescRight">motivation for tegument  <a href="model_8c.html#afb3d8fe19864e05769a9cae731aa8761">More...</a><br /></td></tr>
<tr class="separator:afb3d8fe19864e05769a9cae731aa8761"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52c8382801478332b7788ef390ff25bc"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a52c8382801478332b7788ef390ff25bc">mot_integrity</a> = 1.0</td></tr>
<tr class="memdesc:a52c8382801478332b7788ef390ff25bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">motivation for integrity  <a href="model_8c.html#a52c8382801478332b7788ef390ff25bc">More...</a><br /></td></tr>
<tr class="separator:a52c8382801478332b7788ef390ff25bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8498583fd530c799fdd9046d09e10134"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a8498583fd530c799fdd9046d09e10134">_secure_led_animation</a> = 0</td></tr>
<tr class="memdesc:a8498583fd530c799fdd9046d09e10134"><td class="mdescLeft">&#160;</td><td class="mdescRight">to secure threading led animation  <a href="model_8c.html#a8498583fd530c799fdd9046d09e10134">More...</a><br /></td></tr>
<tr class="separator:a8498583fd530c799fdd9046d09e10134"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2975e70127642bfc88c4783c37eca03b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a2975e70127642bfc88c4783c37eca03b">prev_sensors</a> [8]</td></tr>
<tr class="memdesc:a2975e70127642bfc88c4783c37eca03b"><td class="mdescLeft">&#160;</td><td class="mdescRight">to store previous sensors values for  <a href="model_8c.html#a2975e70127642bfc88c4783c37eca03b">More...</a><br /></td></tr>
<tr class="separator:a2975e70127642bfc88c4783c37eca03b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ee85ec09b3bcd5c3e9ef979cbf91013"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a1ee85ec09b3bcd5c3e9ef979cbf91013">sensors</a> [8]</td></tr>
<tr class="memdesc:a1ee85ec09b3bcd5c3e9ef979cbf91013"><td class="mdescLeft">&#160;</td><td class="mdescRight">actual sensors values  <a href="model_8c.html#a1ee85ec09b3bcd5c3e9ef979cbf91013">More...</a><br /></td></tr>
<tr class="separator:a1ee85ec09b3bcd5c3e9ef979cbf91013"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a074e970c2069dbb55b2f964e3e1b5a11"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#a074e970c2069dbb55b2f964e3e1b5a11">speed</a> [8]</td></tr>
<tr class="memdesc:a074e970c2069dbb55b2f964e3e1b5a11"><td class="mdescLeft">&#160;</td><td class="mdescRight">table for speeed based on IR sensor values  <a href="model_8c.html#a074e970c2069dbb55b2f964e3e1b5a11">More...</a><br /></td></tr>
<tr class="separator:a074e970c2069dbb55b2f964e3e1b5a11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca8cf00b69caa2362577672a01a6d7b8"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="model_8c.html#aca8cf00b69caa2362577672a01a6d7b8">circ_speed</a> [7]</td></tr>
<tr class="memdesc:aca8cf00b69caa2362577672a01a6d7b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">table for circular speeed based on IR sensor values (size is n-1 because of circular speeed)  <a href="model_8c.html#aca8cf00b69caa2362577672a01a6d7b8">More...</a><br /></td></tr>
<tr class="separator:aca8cf00b69caa2362577672a01a6d7b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Simple model for decision making in a TRP with Khepera IV robot. </p>
<hr  />
<dl class="section author"><dt>Author</dt><dd>Louis L'Haridon </dd></dl>
<dl class="section version"><dt>Version</dt><dd>0.1 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>20 février 2022</dd></dl>
<p>Decision making model based on a TRP homeostatis model with a Khepera IV robot. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a525335710b53cb064ca56b936120431e" name="a525335710b53cb064ca56b936120431e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a525335710b53cb064ca56b936120431e">&#9670;&nbsp;</a></span>_USE_MATH_DEFINES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _USE_MATH_DEFINES</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>for using math constants </p>

</div>
</div>
<a id="ae4f6058c45a018de2c45bc43f0c405ae" name="ae4f6058c45a018de2c45bc43f0c405ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4f6058c45a018de2c45bc43f0c405ae">&#9670;&nbsp;</a></span>MAX_DIST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_DIST&#160;&#160;&#160;500</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum distance for ir sensor. </p>

</div>
</div>
<a id="a84977424b647dd9248ebf1436aaa1cc8" name="a84977424b647dd9248ebf1436aaa1cc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84977424b647dd9248ebf1436aaa1cc8">&#9670;&nbsp;</a></span>MAXBUFFERSIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAXBUFFERSIZE&#160;&#160;&#160;128</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Buffer size for robot communication. </p>

</div>
</div>
<a id="a0242b872f13ae044f308ee8865fecc57" name="a0242b872f13ae044f308ee8865fecc57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0242b872f13ae044f308ee8865fecc57">&#9670;&nbsp;</a></span>MIN_DIST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MIN_DIST&#160;&#160;&#160;80</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>or 70 | minimum distance for ir sensor </p>

</div>
</div>
<a id="aac3553b3932cbfeeac4526ce7ca0336b" name="aac3553b3932cbfeeac4526ce7ca0336b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac3553b3932cbfeeac4526ce7ca0336b">&#9670;&nbsp;</a></span>SPEED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SPEED&#160;&#160;&#160;200</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>speed basic input </p>

</div>
</div>
<a id="a078b6c12f1ac6819cecef90ab5870276" name="a078b6c12f1ac6819cecef90ab5870276"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a078b6c12f1ac6819cecef90ab5870276">&#9670;&nbsp;</a></span>TIME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TIME&#160;&#160;&#160;100000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>time for model update (in ms) </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a99aa10b152e9998e638b721be1840266" name="a99aa10b152e9998e638b721be1840266"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99aa10b152e9998e638b721be1840266">&#9670;&nbsp;</a></span>avoid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int avoid </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function that give motor speed avoidance control </p>
<hr  />
<p> Danger avoidance behavior</p>
<dl class="section return"><dt>Returns</dt><dd>0 when ok </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  810</span>               {</div>
<div class="line"><span class="lineno">  811</span>    <span class="keywordtype">int</span> min = 0, max = 1023;</div>
<div class="line"><span class="lineno">  812</span>    <span class="comment">// Normalization of sensors</span></div>
<div class="line"><span class="lineno">  813</span>    <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  814</span>    <span class="keywordtype">float</span> normalized_sensors[8];</div>
<div class="line"><span class="lineno">  815</span>    <span class="keywordflow">for</span>(i=0;i&lt;8;i++){</div>
<div class="line"><span class="lineno">  816</span>        normalized_sensors[i] = (<a class="code hl_variable" href="model_8c.html#a1ee85ec09b3bcd5c3e9ef979cbf91013">sensors</a>[i]-min)/(max-min);</div>
<div class="line"><span class="lineno">  817</span>    }</div>
<div class="line"><span class="lineno">  818</span> </div>
<div class="line"><span class="lineno">  819</span>    <span class="comment">//TODO </span></div>
<div class="line"><span class="lineno">  820</span>    <span class="comment">//Braitenberg avoidance</span></div>
<div class="line"><span class="lineno">  821</span>    <span class="keywordtype">float</span> weight_l[8] = {0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0};</div>
<div class="line"><span class="lineno">  822</span>    <span class="keywordtype">float</span> weight_r[8] = {0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0};</div>
<div class="line"><span class="lineno">  823</span> </div>
<div class="line"><span class="lineno">  824</span>    <span class="keywordflow">for</span>(i=0;i&lt;8; i++){</div>
<div class="line"><span class="lineno">  825</span>        <a class="code hl_variable" href="model_8c.html#accee4678747584fcd7984a1a9530cc7c">left_speed</a> += weight_l[i]*normalized_sensors[i];</div>
<div class="line"><span class="lineno">  826</span>        <a class="code hl_variable" href="model_8c.html#a5a3dc9f0e243ebe2212e56a172122fbf">right_speed</a> += weight_r[i]*normalized_sensors[i];</div>
<div class="line"><span class="lineno">  827</span>    }</div>
<div class="line"><span class="lineno">  828</span>    <a class="code hl_variable" href="model_8c.html#accee4678747584fcd7984a1a9530cc7c">left_speed</a> /= 8;</div>
<div class="line"><span class="lineno">  829</span>    <a class="code hl_variable" href="model_8c.html#a5a3dc9f0e243ebe2212e56a172122fbf">right_speed</a> /= 8;</div>
<div class="line"><span class="lineno">  830</span> </div>
<div class="line"><span class="lineno">  831</span>    <a class="code hl_function" href="model_8c.html#a22159ec5786bcd0c518d86dc97d44b4e">move</a>(<a class="code hl_variable" href="model_8c.html#accee4678747584fcd7984a1a9530cc7c">left_speed</a>, <a class="code hl_variable" href="model_8c.html#a5a3dc9f0e243ebe2212e56a172122fbf">right_speed</a>);</div>
<div class="line"><span class="lineno">  832</span> </div>
<div class="line"><span class="lineno">  833</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  834</span>}</div>
<div class="ttc" id="amodel_8c_html_a1ee85ec09b3bcd5c3e9ef979cbf91013"><div class="ttname"><a href="model_8c.html#a1ee85ec09b3bcd5c3e9ef979cbf91013">sensors</a></div><div class="ttdeci">int sensors[8]</div><div class="ttdoc">actual sensors values</div><div class="ttdef"><b>Definition:</b> model.c:47</div></div>
<div class="ttc" id="amodel_8c_html_a22159ec5786bcd0c518d86dc97d44b4e"><div class="ttname"><a href="model_8c.html#a22159ec5786bcd0c518d86dc97d44b4e">move</a></div><div class="ttdeci">int move(float motor_left, float motor_right)</div><div class="ttdoc">function to make robot move</div><div class="ttdef"><b>Definition:</b> model.c:256</div></div>
<div class="ttc" id="amodel_8c_html_a5a3dc9f0e243ebe2212e56a172122fbf"><div class="ttname"><a href="model_8c.html#a5a3dc9f0e243ebe2212e56a172122fbf">right_speed</a></div><div class="ttdeci">float right_speed</div><div class="ttdoc">speed of right motor</div><div class="ttdef"><b>Definition:</b> model.c:26</div></div>
<div class="ttc" id="amodel_8c_html_accee4678747584fcd7984a1a9530cc7c"><div class="ttname"><a href="model_8c.html#accee4678747584fcd7984a1a9530cc7c">left_speed</a></div><div class="ttdeci">float left_speed</div><div class="ttdoc">speed of left motor</div><div class="ttdef"><b>Definition:</b> model.c:25</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_a99aa10b152e9998e638b721be1840266_cgraph.png" border="0" usemap="#amodel_8c_a99aa10b152e9998e638b721be1840266_cgraph" alt=""/></div>
<map name="amodel_8c_a99aa10b152e9998e638b721be1840266_cgraph" id="amodel_8c_a99aa10b152e9998e638b721be1840266_cgraph">
<area shape="rect" title="function that give motor speed avoidance control" alt="" coords="5,5,59,32"/>
<area shape="rect" href="model_8c.html#a22159ec5786bcd0c518d86dc97d44b4e" title="function to make robot move" alt="" coords="107,5,161,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_a99aa10b152e9998e638b721be1840266_icgraph.png" border="0" usemap="#amodel_8c_a99aa10b152e9998e638b721be1840266_icgraph" alt=""/></div>
<map name="amodel_8c_a99aa10b152e9998e638b721be1840266_icgraph" id="amodel_8c_a99aa10b152e9998e638b721be1840266_icgraph">
<area shape="rect" title="function that give motor speed avoidance control" alt="" coords="555,13,608,39"/>
<area shape="rect" href="model_8c.html#a8de3d99966a8a9e1e793c359877b04a3" title="function that select sub&#45;behavioral group for integrity" alt="" coords="372,5,507,47"/>
<area shape="rect" href="model_8c.html#a42168e51ee7171713d66b7dcbb41887a" title="function that select behavioral grroup to compute robot&#39;s speed based on input" alt="" coords="209,13,324,39"/>
<area shape="rect" href="model_8c.html#afff2d3c32d3cf9812c2844d012a17142" title="Robot model based on our work." alt="" coords="104,13,161,39"/>
<area shape="rect" href="model_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program function." alt="" coords="5,13,56,39"/>
</map>
</div>

</div>
</div>
<a id="a9772aee7d0e45a3f4927f4df78ee5ed7" name="a9772aee7d0e45a3f4927f4df78ee5ed7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9772aee7d0e45a3f4927f4df78ee5ed7">&#9670;&nbsp;</a></span>check_if_damage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int check_if_damage </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function that check if there is damage based on two types of damage </p>
<hr  />
<p> check if damage</p>
<dl class="section return"><dt>Returns</dt><dd>0 when not, 1 when yes </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  562</span>                         {</div>
<div class="line"><span class="lineno">  563</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="model_8c.html#a045b7ae19635db4c0c565677d9cd3071">circ_damage</a>() || <a class="code hl_function" href="model_8c.html#aff392d961d3f5d759aa041d27780a848">speed_damage</a>())</div>
<div class="line"><span class="lineno">  564</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  565</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  566</span>}</div>
<div class="ttc" id="amodel_8c_html_a045b7ae19635db4c0c565677d9cd3071"><div class="ttname"><a href="model_8c.html#a045b7ae19635db4c0c565677d9cd3071">circ_damage</a></div><div class="ttdeci">int circ_damage(void)</div><div class="ttdoc">function that compute circulare based damage</div><div class="ttdef"><b>Definition:</b> model.c:495</div></div>
<div class="ttc" id="amodel_8c_html_aff392d961d3f5d759aa041d27780a848"><div class="ttname"><a href="model_8c.html#aff392d961d3f5d759aa041d27780a848">speed_damage</a></div><div class="ttdeci">int speed_damage(void)</div><div class="ttdoc">function that compute speed based damage</div><div class="ttdef"><b>Definition:</b> model.c:527</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_a9772aee7d0e45a3f4927f4df78ee5ed7_cgraph.png" border="0" usemap="#amodel_8c_a9772aee7d0e45a3f4927f4df78ee5ed7_cgraph" alt=""/></div>
<map name="amodel_8c_a9772aee7d0e45a3f4927f4df78ee5ed7_cgraph" id="amodel_8c_a9772aee7d0e45a3f4927f4df78ee5ed7_cgraph">
<area shape="rect" title="function that check if there is damage based on two types of damage" alt="" coords="5,81,129,108"/>
<area shape="rect" href="model_8c.html#a045b7ae19635db4c0c565677d9cd3071" title="function that compute circulare based damage" alt="" coords="185,31,281,57"/>
<area shape="rect" href="model_8c.html#aff392d961d3f5d759aa041d27780a848" title="function that compute speed based damage" alt="" coords="177,81,288,108"/>
<area shape="rect" href="model_8c.html#ad3bb390d68f40aaee86dbed19b15218c" title="function that decrease physiological variable for integrity" alt="" coords="359,31,473,57"/>
<area shape="rect" href="model_8c.html#ae44811dea0e1843c571619d692a463ac" title="function that make animation when robot has damage" alt="" coords="544,19,675,45"/>
<area shape="rect" href="model_8c.html#ab5b9c8b8ad9d20f047d6ff2ba808dacc" title="function that update the internal variables, compute deficits, cues and motivation" alt="" coords="563,132,656,159"/>
<area shape="rect" href="model_8c.html#adf91428d3c07a9e825283b794ead7f4c" title="function that set color for 4 robot leds" alt="" coords="763,5,833,32"/>
<area shape="rect" href="model_8c.html#a507792eccb7b93c5c65436fd8f37c84b" title="function that compute cues" alt="" coords="745,56,851,83"/>
<area shape="rect" href="model_8c.html#a4839931386cb5fae8e015d2173de57e0" title="function that compute deficits for physiological internal values" alt="" coords="741,107,855,133"/>
<area shape="rect" href="model_8c.html#a60c16f1cf7d0c222208477d5810a4020" title="function that compute motivations for physiological internal values" alt="" coords="725,157,871,184"/>
<area shape="rect" href="model_8c.html#a1a58010fca227c64de0d57e5f5a8a0ea" title="function that decrease physiological variables" alt="" coords="723,209,873,250"/>
<area shape="rect" href="model_8c.html#afdbf3026a1d40b44651f0f5f76ad7102" title="function to read and store sensors values" alt="" coords="751,275,845,301"/>
<area shape="rect" href="model_8c.html#a762377c04f5d71221c66a23c81777f96" title="function that get mean of table and normalize it" alt="" coords="921,56,1071,83"/>
<area shape="rect" href="model_8c.html#a77821830aaf0356c92238ea9d040fd9f" title="function that get mean of table and normalize it but for a float table" alt="" coords="336,81,496,108"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_a9772aee7d0e45a3f4927f4df78ee5ed7_icgraph.png" border="0" usemap="#amodel_8c_a9772aee7d0e45a3f4927f4df78ee5ed7_icgraph" alt=""/></div>
<map name="amodel_8c_a9772aee7d0e45a3f4927f4df78ee5ed7_icgraph" id="amodel_8c_a9772aee7d0e45a3f4927f4df78ee5ed7_icgraph">
<area shape="rect" title="function that check if there is damage based on two types of damage" alt="" coords="467,107,591,133"/>
<area shape="rect" href="model_8c.html#ab5b9c8b8ad9d20f047d6ff2ba808dacc" title="function that update the internal variables, compute deficits, cues and motivation" alt="" coords="325,56,419,83"/>
<area shape="rect" href="model_8c.html#ad3bb390d68f40aaee86dbed19b15218c" title="function that decrease physiological variable for integrity" alt="" coords="164,56,277,83"/>
<area shape="rect" href="model_8c.html#afff2d3c32d3cf9812c2844d012a17142" title="Robot model based on our work." alt="" coords="192,5,249,32"/>
<area shape="rect" href="model_8c.html#a045b7ae19635db4c0c565677d9cd3071" title="function that compute circulare based damage" alt="" coords="13,69,109,96"/>
<area shape="rect" href="model_8c.html#aff392d961d3f5d759aa041d27780a848" title="function that compute speed based damage" alt="" coords="5,145,116,172"/>
<area shape="rect" href="model_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program function." alt="" coords="35,5,86,32"/>
</map>
</div>

</div>
</div>
<a id="a045b7ae19635db4c0c565677d9cd3071" name="a045b7ae19635db4c0c565677d9cd3071"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a045b7ae19635db4c0c565677d9cd3071">&#9670;&nbsp;</a></span>circ_damage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int circ_damage </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function that compute circulare based damage </p>
<hr  />
<p> TODO Circular damage function</p>
<dl class="section return"><dt>Returns</dt><dd>0 when not, 1 when yes </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  495</span>                     {</div>
<div class="line"><span class="lineno">  496</span>    <span class="comment">// TODO debug this function</span></div>
<div class="line"><span class="lineno">  497</span>    <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  498</span>    <span class="keywordtype">int</span> diff[7]; <span class="comment">// generate an array of n-1 value to compute difference between ith sensor and ith-1 history value </span></div>
<div class="line"><span class="lineno">  499</span>    <span class="keywordtype">float</span> ray = 6; <span class="comment">// robot&#39;s ray in cm</span></div>
<div class="line"><span class="lineno">  500</span>    <span class="keywordflow">for</span>(i=1; i&lt;7; i++){</div>
<div class="line"><span class="lineno">  501</span>        diff[i] = (<a class="code hl_variable" href="model_8c.html#a1ee85ec09b3bcd5c3e9ef979cbf91013">sensors</a>[i]-<a class="code hl_variable" href="model_8c.html#a2975e70127642bfc88c4783c37eca03b">prev_sensors</a>[i-1]); <span class="comment">// compute distance between neighboor sensor history and actual value</span></div>
<div class="line"><span class="lineno">  502</span>        <span class="keywordflow">if</span>(abs(diff[i]) &lt; 0.5*<a class="code hl_variable" href="model_8c.html#a1ee85ec09b3bcd5c3e9ef979cbf91013">sensors</a>[i]){ <span class="comment">// if this difference is less than 50% of actual sensor value</span></div>
<div class="line"><span class="lineno">  503</span>            <a class="code hl_variable" href="model_8c.html#aca8cf00b69caa2362577672a01a6d7b8">circ_speed</a>[i] = (M_PI*ray)/<a class="code hl_define" href="model_8c.html#a078b6c12f1ac6819cecef90ab5870276">TIME</a>;</div>
<div class="line"><span class="lineno">  504</span>        }</div>
<div class="line"><span class="lineno">  505</span>        <span class="comment">// printf(&quot;s[%d]=%d-ps[%d]=%d =&gt; d[%d]=%d &quot;,i, sensors[i], i-1, prev_sensors[i-1], i, diff[i]); </span></div>
<div class="line"><span class="lineno">  506</span>        <span class="comment">// printf(&quot; s[%d]:%.2f | &quot;,i, circ_speed[i]);</span></div>
<div class="line"><span class="lineno">  507</span>    }</div>
<div class="line"><span class="lineno">  508</span>    <span class="comment">//  Now we&#39;re computing if scratching is spreading aroung robot and increasing damage if so</span></div>
<div class="line"><span class="lineno">  509</span>    <span class="keywordflow">for</span>(i=1; i&lt;7; i++){</div>
<div class="line"><span class="lineno">  510</span>        <span class="keywordflow">if</span>( abs(<a class="code hl_variable" href="model_8c.html#aca8cf00b69caa2362577672a01a6d7b8">circ_speed</a>[i]-<a class="code hl_variable" href="model_8c.html#aca8cf00b69caa2362577672a01a6d7b8">circ_speed</a>[i-1]) &lt; 0.5*<a class="code hl_variable" href="model_8c.html#aca8cf00b69caa2362577672a01a6d7b8">circ_speed</a>[i]){</div>
<div class="line"><span class="lineno">  511</span>            <a class="code hl_variable" href="model_8c.html#aca8cf00b69caa2362577672a01a6d7b8">circ_speed</a>[i-1] *= 2;</div>
<div class="line"><span class="lineno">  512</span>            <a class="code hl_variable" href="model_8c.html#aca8cf00b69caa2362577672a01a6d7b8">circ_speed</a>[i] *= 2;</div>
<div class="line"><span class="lineno">  513</span>        }</div>
<div class="line"><span class="lineno">  514</span>    }</div>
<div class="line"><span class="lineno">  515</span>    <span class="keywordflow">for</span>(i=0;i&lt;7; i++){</div>
<div class="line"><span class="lineno">  516</span>        <a class="code hl_function" href="model_8c.html#ad3bb390d68f40aaee86dbed19b15218c">induce_damage</a>(<a class="code hl_variable" href="model_8c.html#aca8cf00b69caa2362577672a01a6d7b8">circ_speed</a>[i]); <span class="comment">// inducing damage based on speed</span></div>
<div class="line"><span class="lineno">  517</span>    }</div>
<div class="line"><span class="lineno">  518</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  519</span>}</div>
<div class="ttc" id="amodel_8c_html_a078b6c12f1ac6819cecef90ab5870276"><div class="ttname"><a href="model_8c.html#a078b6c12f1ac6819cecef90ab5870276">TIME</a></div><div class="ttdeci">#define TIME</div><div class="ttdoc">time for model update (in ms)</div><div class="ttdef"><b>Definition:</b> model.c:18</div></div>
<div class="ttc" id="amodel_8c_html_a2975e70127642bfc88c4783c37eca03b"><div class="ttname"><a href="model_8c.html#a2975e70127642bfc88c4783c37eca03b">prev_sensors</a></div><div class="ttdeci">int prev_sensors[8]</div><div class="ttdoc">to store previous sensors values for</div><div class="ttdef"><b>Definition:</b> model.c:46</div></div>
<div class="ttc" id="amodel_8c_html_aca8cf00b69caa2362577672a01a6d7b8"><div class="ttname"><a href="model_8c.html#aca8cf00b69caa2362577672a01a6d7b8">circ_speed</a></div><div class="ttdeci">float circ_speed[7]</div><div class="ttdoc">table for circular speeed based on IR sensor values (size is n-1 because of circular speeed)</div><div class="ttdef"><b>Definition:</b> model.c:50</div></div>
<div class="ttc" id="amodel_8c_html_ad3bb390d68f40aaee86dbed19b15218c"><div class="ttname"><a href="model_8c.html#ad3bb390d68f40aaee86dbed19b15218c">induce_damage</a></div><div class="ttdeci">int induce_damage(float level)</div><div class="ttdoc">function that decrease physiological variable for integrity</div><div class="ttdef"><b>Definition:</b> model.c:315</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_a045b7ae19635db4c0c565677d9cd3071_cgraph.png" border="0" usemap="#amodel_8c_a045b7ae19635db4c0c565677d9cd3071_cgraph" alt=""/></div>
<map name="amodel_8c_a045b7ae19635db4c0c565677d9cd3071_cgraph" id="amodel_8c_a045b7ae19635db4c0c565677d9cd3071_cgraph">
<area shape="rect" title="function that compute circulare based damage" alt="" coords="5,187,101,213"/>
<area shape="rect" href="model_8c.html#ad3bb390d68f40aaee86dbed19b15218c" title="function that decrease physiological variable for integrity" alt="" coords="149,212,263,239"/>
<area shape="rect" href="model_8c.html#ae44811dea0e1843c571619d692a463ac" title="function that make animation when robot has damage" alt="" coords="311,376,441,403"/>
<area shape="rect" href="model_8c.html#ab5b9c8b8ad9d20f047d6ff2ba808dacc" title="function that update the internal variables, compute deficits, cues and motivation" alt="" coords="329,173,423,200"/>
<area shape="rect" href="model_8c.html#adf91428d3c07a9e825283b794ead7f4c" title="function that set color for 4 robot leds" alt="" coords="529,376,600,403"/>
<area shape="rect" href="model_8c.html#a9772aee7d0e45a3f4927f4df78ee5ed7" title="function that check if there is damage based on two types of damage" alt="" coords="503,5,627,32"/>
<area shape="rect" href="model_8c.html#a507792eccb7b93c5c65436fd8f37c84b" title="function that compute cues" alt="" coords="511,275,618,301"/>
<area shape="rect" href="model_8c.html#a4839931386cb5fae8e015d2173de57e0" title="function that compute deficits for physiological internal values" alt="" coords="507,173,622,200"/>
<area shape="rect" href="model_8c.html#a60c16f1cf7d0c222208477d5810a4020" title="function that compute motivations for physiological internal values" alt="" coords="491,224,638,251"/>
<area shape="rect" href="model_8c.html#a1a58010fca227c64de0d57e5f5a8a0ea" title="function that decrease physiological variables" alt="" coords="489,57,640,98"/>
<area shape="rect" href="model_8c.html#afdbf3026a1d40b44651f0f5f76ad7102" title="function to read and store sensors values" alt="" coords="518,123,611,149"/>
<area shape="rect" href="model_8c.html#aff392d961d3f5d759aa041d27780a848" title="function that compute speed based damage" alt="" coords="707,325,818,352"/>
<area shape="rect" href="model_8c.html#a77821830aaf0356c92238ea9d040fd9f" title="function that get mean of table and normalize it but for a float table" alt="" coords="885,325,1045,352"/>
<area shape="rect" href="model_8c.html#a762377c04f5d71221c66a23c81777f96" title="function that get mean of table and normalize it" alt="" coords="688,275,837,301"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_a045b7ae19635db4c0c565677d9cd3071_icgraph.png" border="0" usemap="#amodel_8c_a045b7ae19635db4c0c565677d9cd3071_icgraph" alt=""/></div>
<map name="amodel_8c_a045b7ae19635db4c0c565677d9cd3071_icgraph" id="amodel_8c_a045b7ae19635db4c0c565677d9cd3071_icgraph">
<area shape="rect" title="function that compute circulare based damage" alt="" coords="639,66,735,93"/>
<area shape="rect" href="model_8c.html#a9772aee7d0e45a3f4927f4df78ee5ed7" title="function that check if there is damage based on two types of damage" alt="" coords="467,41,591,67"/>
<area shape="rect" href="model_8c.html#ab5b9c8b8ad9d20f047d6ff2ba808dacc" title="function that update the internal variables, compute deficits, cues and motivation" alt="" coords="325,41,419,67"/>
<area shape="rect" href="model_8c.html#ad3bb390d68f40aaee86dbed19b15218c" title="function that decrease physiological variable for integrity" alt="" coords="164,91,277,118"/>
<area shape="rect" href="model_8c.html#afff2d3c32d3cf9812c2844d012a17142" title="Robot model based on our work." alt="" coords="192,41,249,67"/>
<area shape="rect" href="model_8c.html#aff392d961d3f5d759aa041d27780a848" title="function that compute speed based damage" alt="" coords="5,91,116,118"/>
<area shape="rect" href="model_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program function." alt="" coords="35,41,86,67"/>
</map>
</div>

</div>
</div>
<a id="a507792eccb7b93c5c65436fd8f37c84b" name="a507792eccb7b93c5c65436fd8f37c84b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a507792eccb7b93c5c65436fd8f37c84b">&#9670;&nbsp;</a></span>compute_cues()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int compute_cues </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function that compute cues </p>
<hr  />
<p> Compute cues</p>
<dl class="section return"><dt>Returns</dt><dd>0 when ok </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  470</span>                      {</div>
<div class="line"><span class="lineno">  471</span>    <a class="code hl_variable" href="model_8c.html#a058d1dbc8d7d4223a3071bd3a7e46b9f">cue_energy</a> = 0.06;</div>
<div class="line"><span class="lineno">  472</span>    <a class="code hl_variable" href="model_8c.html#a4c429a7e08bb24d3367e060a10cb98ca">cue_tegument</a> = 0.055;</div>
<div class="line"><span class="lineno">  473</span>    <a class="code hl_variable" href="model_8c.html#ad2c9a6bd1bf91b6fd3c76584b941da17">cue_integrity</a> = <a class="code hl_function" href="model_8c.html#a762377c04f5d71221c66a23c81777f96">get_mean_normalized</a>(<a class="code hl_variable" href="model_8c.html#a1ee85ec09b3bcd5c3e9ef979cbf91013">sensors</a>,8,<a class="code hl_define" href="model_8c.html#a0242b872f13ae044f308ee8865fecc57">MIN_DIST</a>, <a class="code hl_define" href="model_8c.html#ae4f6058c45a018de2c45bc43f0c405ae">MAX_DIST</a>);</div>
<div class="line"><span class="lineno">  474</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  475</span>}</div>
<div class="ttc" id="amodel_8c_html_a0242b872f13ae044f308ee8865fecc57"><div class="ttname"><a href="model_8c.html#a0242b872f13ae044f308ee8865fecc57">MIN_DIST</a></div><div class="ttdeci">#define MIN_DIST</div><div class="ttdoc">or 70 | minimum distance for ir sensor</div><div class="ttdef"><b>Definition:</b> model.c:21</div></div>
<div class="ttc" id="amodel_8c_html_a058d1dbc8d7d4223a3071bd3a7e46b9f"><div class="ttname"><a href="model_8c.html#a058d1dbc8d7d4223a3071bd3a7e46b9f">cue_energy</a></div><div class="ttdeci">float cue_energy</div><div class="ttdoc">cue for ernergy</div><div class="ttdef"><b>Definition:</b> model.c:36</div></div>
<div class="ttc" id="amodel_8c_html_a4c429a7e08bb24d3367e060a10cb98ca"><div class="ttname"><a href="model_8c.html#a4c429a7e08bb24d3367e060a10cb98ca">cue_tegument</a></div><div class="ttdeci">float cue_tegument</div><div class="ttdoc">cue for tegument</div><div class="ttdef"><b>Definition:</b> model.c:37</div></div>
<div class="ttc" id="amodel_8c_html_a762377c04f5d71221c66a23c81777f96"><div class="ttname"><a href="model_8c.html#a762377c04f5d71221c66a23c81777f96">get_mean_normalized</a></div><div class="ttdeci">float get_mean_normalized(int table[], int size, int min, int max)</div><div class="ttdoc">function that get mean of table and normalize it</div><div class="ttdef"><b>Definition:</b> model.c:438</div></div>
<div class="ttc" id="amodel_8c_html_ad2c9a6bd1bf91b6fd3c76584b941da17"><div class="ttname"><a href="model_8c.html#ad2c9a6bd1bf91b6fd3c76584b941da17">cue_integrity</a></div><div class="ttdeci">float cue_integrity</div><div class="ttdoc">cue for integrity</div><div class="ttdef"><b>Definition:</b> model.c:38</div></div>
<div class="ttc" id="amodel_8c_html_ae4f6058c45a018de2c45bc43f0c405ae"><div class="ttname"><a href="model_8c.html#ae4f6058c45a018de2c45bc43f0c405ae">MAX_DIST</a></div><div class="ttdeci">#define MAX_DIST</div><div class="ttdoc">Maximum distance for ir sensor.</div><div class="ttdef"><b>Definition:</b> model.c:20</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_a507792eccb7b93c5c65436fd8f37c84b_cgraph.png" border="0" usemap="#amodel_8c_a507792eccb7b93c5c65436fd8f37c84b_cgraph" alt=""/></div>
<map name="amodel_8c_a507792eccb7b93c5c65436fd8f37c84b_cgraph" id="amodel_8c_a507792eccb7b93c5c65436fd8f37c84b_cgraph">
<area shape="rect" title="function that compute cues" alt="" coords="5,5,112,32"/>
<area shape="rect" href="model_8c.html#a762377c04f5d71221c66a23c81777f96" title="function that get mean of table and normalize it" alt="" coords="160,5,309,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_a507792eccb7b93c5c65436fd8f37c84b_icgraph.png" border="0" usemap="#amodel_8c_a507792eccb7b93c5c65436fd8f37c84b_icgraph" alt=""/></div>
<map name="amodel_8c_a507792eccb7b93c5c65436fd8f37c84b_icgraph" id="amodel_8c_a507792eccb7b93c5c65436fd8f37c84b_icgraph">
<area shape="rect" title="function that compute cues" alt="" coords="639,107,745,133"/>
<area shape="rect" href="model_8c.html#ab5b9c8b8ad9d20f047d6ff2ba808dacc" title="function that update the internal variables, compute deficits, cues and motivation" alt="" coords="497,107,591,133"/>
<area shape="rect" href="model_8c.html#ad3bb390d68f40aaee86dbed19b15218c" title="function that decrease physiological variable for integrity" alt="" coords="336,56,449,83"/>
<area shape="rect" href="model_8c.html#afff2d3c32d3cf9812c2844d012a17142" title="Robot model based on our work." alt="" coords="364,107,421,133"/>
<area shape="rect" href="model_8c.html#a045b7ae19635db4c0c565677d9cd3071" title="function that compute circulare based damage" alt="" coords="185,5,281,32"/>
<area shape="rect" href="model_8c.html#aff392d961d3f5d759aa041d27780a848" title="function that compute speed based damage" alt="" coords="177,56,288,83"/>
<area shape="rect" href="model_8c.html#a9772aee7d0e45a3f4927f4df78ee5ed7" title="function that check if there is damage based on two types of damage" alt="" coords="5,56,129,83"/>
<area shape="rect" href="model_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program function." alt="" coords="207,107,258,133"/>
</map>
</div>

</div>
</div>
<a id="a4839931386cb5fae8e015d2173de57e0" name="a4839931386cb5fae8e015d2173de57e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4839931386cb5fae8e015d2173de57e0">&#9670;&nbsp;</a></span>compute_deficit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int compute_deficit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function that compute deficits for physiological internal values </p>
<hr  />
<p> Compute internal deficits</p>
<dl class="section return"><dt>Returns</dt><dd>0 when ok </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  409</span>                         {</div>
<div class="line"><span class="lineno">  410</span>    <span class="comment">// def_energy = (0.85 - var_energy)&gt;0 ?(0.85 - var_energy) : 0.0 ;</span></div>
<div class="line"><span class="lineno">  411</span>    <span class="comment">// def_tegument = (0.85 - var_tegument)&gt;0 ?(0.85 - var_tegument) : 0.0 ;</span></div>
<div class="line"><span class="lineno">  412</span>    <span class="comment">// def_integrity = (0.85 - var_integrity)&gt;0 ?(0.85 - var_integrity) : 0.0 ;</span></div>
<div class="line"><span class="lineno">  413</span>    <a class="code hl_variable" href="model_8c.html#acc0df53ad73ec6a6bd79841b15504a66">def_energy</a> = 1.0 - <a class="code hl_variable" href="model_8c.html#af4f1fe78f78ef60528c944f991ceca7f">var_energy</a>;</div>
<div class="line"><span class="lineno">  414</span>    <a class="code hl_variable" href="model_8c.html#a5f9eb877fe2738dae536a6f5a0fb1080">def_tegument</a> = 1.0 - <a class="code hl_variable" href="model_8c.html#a5cf4f7c491e651d5fac669ae60af667d">var_tegument</a>;</div>
<div class="line"><span class="lineno">  415</span>    <a class="code hl_variable" href="model_8c.html#a0689660b72c446b95cd5c9d9dc6a91dd">def_integrity</a> = 1.0 - <a class="code hl_variable" href="model_8c.html#a24043223f501c4103d8ad849dcfe7416">var_integrity</a>;</div>
<div class="line"><span class="lineno">  416</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  417</span>}</div>
<div class="ttc" id="amodel_8c_html_a0689660b72c446b95cd5c9d9dc6a91dd"><div class="ttname"><a href="model_8c.html#a0689660b72c446b95cd5c9d9dc6a91dd">def_integrity</a></div><div class="ttdeci">float def_integrity</div><div class="ttdoc">deficit for integrity</div><div class="ttdef"><b>Definition:</b> model.c:34</div></div>
<div class="ttc" id="amodel_8c_html_a24043223f501c4103d8ad849dcfe7416"><div class="ttname"><a href="model_8c.html#a24043223f501c4103d8ad849dcfe7416">var_integrity</a></div><div class="ttdeci">float var_integrity</div><div class="ttdoc">physological variable for integrity</div><div class="ttdef"><b>Definition:</b> model.c:30</div></div>
<div class="ttc" id="amodel_8c_html_a5cf4f7c491e651d5fac669ae60af667d"><div class="ttname"><a href="model_8c.html#a5cf4f7c491e651d5fac669ae60af667d">var_tegument</a></div><div class="ttdeci">float var_tegument</div><div class="ttdoc">physological variable for tegument</div><div class="ttdef"><b>Definition:</b> model.c:29</div></div>
<div class="ttc" id="amodel_8c_html_a5f9eb877fe2738dae536a6f5a0fb1080"><div class="ttname"><a href="model_8c.html#a5f9eb877fe2738dae536a6f5a0fb1080">def_tegument</a></div><div class="ttdeci">float def_tegument</div><div class="ttdoc">deficit for tegument</div><div class="ttdef"><b>Definition:</b> model.c:33</div></div>
<div class="ttc" id="amodel_8c_html_acc0df53ad73ec6a6bd79841b15504a66"><div class="ttname"><a href="model_8c.html#acc0df53ad73ec6a6bd79841b15504a66">def_energy</a></div><div class="ttdeci">float def_energy</div><div class="ttdoc">deficit for ernergy</div><div class="ttdef"><b>Definition:</b> model.c:32</div></div>
<div class="ttc" id="amodel_8c_html_af4f1fe78f78ef60528c944f991ceca7f"><div class="ttname"><a href="model_8c.html#af4f1fe78f78ef60528c944f991ceca7f">var_energy</a></div><div class="ttdeci">float var_energy</div><div class="ttdoc">physological variable for ernergy</div><div class="ttdef"><b>Definition:</b> model.c:28</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_a4839931386cb5fae8e015d2173de57e0_icgraph.png" border="0" usemap="#amodel_8c_a4839931386cb5fae8e015d2173de57e0_icgraph" alt=""/></div>
<map name="amodel_8c_a4839931386cb5fae8e015d2173de57e0_icgraph" id="amodel_8c_a4839931386cb5fae8e015d2173de57e0_icgraph">
<area shape="rect" title="function that compute deficits for physiological internal values" alt="" coords="639,107,753,133"/>
<area shape="rect" href="model_8c.html#ab5b9c8b8ad9d20f047d6ff2ba808dacc" title="function that update the internal variables, compute deficits, cues and motivation" alt="" coords="497,107,591,133"/>
<area shape="rect" href="model_8c.html#ad3bb390d68f40aaee86dbed19b15218c" title="function that decrease physiological variable for integrity" alt="" coords="336,56,449,83"/>
<area shape="rect" href="model_8c.html#afff2d3c32d3cf9812c2844d012a17142" title="Robot model based on our work." alt="" coords="364,107,421,133"/>
<area shape="rect" href="model_8c.html#a045b7ae19635db4c0c565677d9cd3071" title="function that compute circulare based damage" alt="" coords="185,5,281,32"/>
<area shape="rect" href="model_8c.html#aff392d961d3f5d759aa041d27780a848" title="function that compute speed based damage" alt="" coords="177,56,288,83"/>
<area shape="rect" href="model_8c.html#a9772aee7d0e45a3f4927f4df78ee5ed7" title="function that check if there is damage based on two types of damage" alt="" coords="5,56,129,83"/>
<area shape="rect" href="model_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program function." alt="" coords="207,107,258,133"/>
</map>
</div>

</div>
</div>
<a id="a60c16f1cf7d0c222208477d5810a4020" name="a60c16f1cf7d0c222208477d5810a4020"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60c16f1cf7d0c222208477d5810a4020">&#9670;&nbsp;</a></span>compute_motivations()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int compute_motivations </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function that compute motivations for physiological internal values </p>
<hr  />
<p> Compute motivations</p>
<dl class="section return"><dt>Returns</dt><dd>0 when ok </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  425</span>                             {</div>
<div class="line"><span class="lineno">  426</span>    <a class="code hl_variable" href="model_8c.html#a273125eebd2bdb137979392cc775f77f">mot_energy</a> = <a class="code hl_variable" href="model_8c.html#acc0df53ad73ec6a6bd79841b15504a66">def_energy</a> + (<a class="code hl_variable" href="model_8c.html#acc0df53ad73ec6a6bd79841b15504a66">def_energy</a> * <a class="code hl_variable" href="model_8c.html#a058d1dbc8d7d4223a3071bd3a7e46b9f">cue_energy</a>);</div>
<div class="line"><span class="lineno">  427</span>    <a class="code hl_variable" href="model_8c.html#afb3d8fe19864e05769a9cae731aa8761">mot_tegument</a> = <a class="code hl_variable" href="model_8c.html#a5f9eb877fe2738dae536a6f5a0fb1080">def_tegument</a> + (<a class="code hl_variable" href="model_8c.html#a5f9eb877fe2738dae536a6f5a0fb1080">def_tegument</a> * <a class="code hl_variable" href="model_8c.html#a4c429a7e08bb24d3367e060a10cb98ca">cue_tegument</a>);</div>
<div class="line"><span class="lineno">  428</span>    <a class="code hl_variable" href="model_8c.html#a52c8382801478332b7788ef390ff25bc">mot_integrity</a> = <a class="code hl_variable" href="model_8c.html#a0689660b72c446b95cd5c9d9dc6a91dd">def_integrity</a> + (<a class="code hl_variable" href="model_8c.html#a0689660b72c446b95cd5c9d9dc6a91dd">def_integrity</a> * <a class="code hl_variable" href="model_8c.html#ad2c9a6bd1bf91b6fd3c76584b941da17">cue_integrity</a>);</div>
<div class="line"><span class="lineno">  429</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  430</span>}</div>
<div class="ttc" id="amodel_8c_html_a273125eebd2bdb137979392cc775f77f"><div class="ttname"><a href="model_8c.html#a273125eebd2bdb137979392cc775f77f">mot_energy</a></div><div class="ttdeci">float mot_energy</div><div class="ttdoc">motivation for ernergy</div><div class="ttdef"><b>Definition:</b> model.c:40</div></div>
<div class="ttc" id="amodel_8c_html_a52c8382801478332b7788ef390ff25bc"><div class="ttname"><a href="model_8c.html#a52c8382801478332b7788ef390ff25bc">mot_integrity</a></div><div class="ttdeci">float mot_integrity</div><div class="ttdoc">motivation for integrity</div><div class="ttdef"><b>Definition:</b> model.c:42</div></div>
<div class="ttc" id="amodel_8c_html_afb3d8fe19864e05769a9cae731aa8761"><div class="ttname"><a href="model_8c.html#afb3d8fe19864e05769a9cae731aa8761">mot_tegument</a></div><div class="ttdeci">float mot_tegument</div><div class="ttdoc">motivation for tegument</div><div class="ttdef"><b>Definition:</b> model.c:41</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_a60c16f1cf7d0c222208477d5810a4020_icgraph.png" border="0" usemap="#amodel_8c_a60c16f1cf7d0c222208477d5810a4020_icgraph" alt=""/></div>
<map name="amodel_8c_a60c16f1cf7d0c222208477d5810a4020_icgraph" id="amodel_8c_a60c16f1cf7d0c222208477d5810a4020_icgraph">
<area shape="rect" title="function that compute motivations for physiological internal values" alt="" coords="639,107,785,133"/>
<area shape="rect" href="model_8c.html#ab5b9c8b8ad9d20f047d6ff2ba808dacc" title="function that update the internal variables, compute deficits, cues and motivation" alt="" coords="497,107,591,133"/>
<area shape="rect" href="model_8c.html#ad3bb390d68f40aaee86dbed19b15218c" title="function that decrease physiological variable for integrity" alt="" coords="336,56,449,83"/>
<area shape="rect" href="model_8c.html#afff2d3c32d3cf9812c2844d012a17142" title="Robot model based on our work." alt="" coords="364,107,421,133"/>
<area shape="rect" href="model_8c.html#a045b7ae19635db4c0c565677d9cd3071" title="function that compute circulare based damage" alt="" coords="185,5,281,32"/>
<area shape="rect" href="model_8c.html#aff392d961d3f5d759aa041d27780a848" title="function that compute speed based damage" alt="" coords="177,56,288,83"/>
<area shape="rect" href="model_8c.html#a9772aee7d0e45a3f4927f4df78ee5ed7" title="function that check if there is damage based on two types of damage" alt="" coords="5,56,129,83"/>
<area shape="rect" href="model_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program function." alt="" coords="207,107,258,133"/>
</map>
</div>

</div>
</div>
<a id="a42168e51ee7171713d66b7dcbb41887a" name="a42168e51ee7171713d66b7dcbb41887a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42168e51ee7171713d66b7dcbb41887a">&#9670;&nbsp;</a></span>compute_speed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int compute_speed </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bhv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function that select behavioral grroup to compute robot's speed based on input </p>
<hr  />
<p> Select behavioral group to compute speed</p>
<dl class="section return"><dt>Returns</dt><dd>0 when ok </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bhv</td><td>the selected behavioral group </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>1 if energy, 2 if tegument, 3 if integrity, -1 if error </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  855</span>                          {</div>
<div class="line"><span class="lineno">  856</span>    <span class="keywordflow">switch</span>(bhv){</div>
<div class="line"><span class="lineno">  857</span>        <span class="keywordflow">case</span> 1 : <span class="comment">// energy behaviorral group</span></div>
<div class="line"><span class="lineno">  858</span>            <a class="code hl_function" href="model_8c.html#a256b18090d240375c58448c8693d391b">energy_behavioral_group</a>();</div>
<div class="line"><span class="lineno">  859</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  860</span>        <span class="keywordflow">case</span> 2 : <span class="comment">// tegument behaviorral group</span></div>
<div class="line"><span class="lineno">  861</span>            <a class="code hl_function" href="model_8c.html#a9b71e438b829313af4267abdfa355e66">tegument_behavioral_group</a>();</div>
<div class="line"><span class="lineno">  862</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  863</span>        <span class="keywordflow">case</span> 3 : <span class="comment">// integrity behaviorral group</span></div>
<div class="line"><span class="lineno">  864</span>            <a class="code hl_function" href="model_8c.html#a8de3d99966a8a9e1e793c359877b04a3">integrity_behavioral_group</a>();</div>
<div class="line"><span class="lineno">  865</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  866</span>        <span class="keywordflow">case</span> -1 : <span class="comment">// Error -&gt; stop robot</span></div>
<div class="line"><span class="lineno">  867</span>        default :</div>
<div class="line"><span class="lineno">  868</span>            <a class="code hl_variable" href="model_8c.html#accee4678747584fcd7984a1a9530cc7c">left_speed</a> = 0.0;</div>
<div class="line"><span class="lineno">  869</span>            <a class="code hl_variable" href="model_8c.html#a5a3dc9f0e243ebe2212e56a172122fbf">right_speed</a> = 0.0;</div>
<div class="line"><span class="lineno">  870</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  871</span>    }</div>
<div class="line"><span class="lineno">  872</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  873</span>}</div>
<div class="ttc" id="amodel_8c_html_a256b18090d240375c58448c8693d391b"><div class="ttname"><a href="model_8c.html#a256b18090d240375c58448c8693d391b">energy_behavioral_group</a></div><div class="ttdeci">int energy_behavioral_group(void)</div><div class="ttdoc">function that select sub-behavioral group for energy</div><div class="ttdef"><b>Definition:</b> model.c:744</div></div>
<div class="ttc" id="amodel_8c_html_a8de3d99966a8a9e1e793c359877b04a3"><div class="ttname"><a href="model_8c.html#a8de3d99966a8a9e1e793c359877b04a3">integrity_behavioral_group</a></div><div class="ttdeci">int integrity_behavioral_group(void)</div><div class="ttdoc">function that select sub-behavioral group for integrity</div><div class="ttdef"><b>Definition:</b> model.c:842</div></div>
<div class="ttc" id="amodel_8c_html_a9b71e438b829313af4267abdfa355e66"><div class="ttname"><a href="model_8c.html#a9b71e438b829313af4267abdfa355e66">tegument_behavioral_group</a></div><div class="ttdeci">int tegument_behavioral_group(void)</div><div class="ttdoc">function that select sub-behavioral group for tegument</div><div class="ttdef"><b>Definition:</b> model.c:796</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_a42168e51ee7171713d66b7dcbb41887a_cgraph.png" border="0" usemap="#amodel_8c_a42168e51ee7171713d66b7dcbb41887a_cgraph" alt=""/></div>
<map name="amodel_8c_a42168e51ee7171713d66b7dcbb41887a_cgraph" id="amodel_8c_a42168e51ee7171713d66b7dcbb41887a_cgraph">
<area shape="rect" title="function that select behavioral grroup to compute robot&#39;s speed based on input" alt="" coords="5,107,120,133"/>
<area shape="rect" href="model_8c.html#a256b18090d240375c58448c8693d391b" title="function that select sub&#45;behavioral group for energy" alt="" coords="168,48,335,75"/>
<area shape="rect" href="model_8c.html#a8de3d99966a8a9e1e793c359877b04a3" title="function that select sub&#45;behavioral group for integrity" alt="" coords="184,99,319,141"/>
<area shape="rect" href="model_8c.html#a9b71e438b829313af4267abdfa355e66" title="function that select sub&#45;behavioral group for tegument" alt="" coords="180,165,323,206"/>
<area shape="rect" href="model_8c.html#a03aafff51ffe76d9da3f028bef80161b" title="function that increase physiological energy variable" alt="" coords="392,5,432,32"/>
<area shape="rect" href="model_8c.html#ac05d0fc423a7e961f72d76e0b5cdfa9e" title="function that select send mootor control for food seeking" alt="" coords="519,56,602,83"/>
<area shape="rect" href="model_8c.html#a22159ec5786bcd0c518d86dc97d44b4e" title="function to make robot move" alt="" coords="680,132,735,159"/>
<area shape="rect" href="model_8c.html#a99aa10b152e9998e638b721be1840266" title="function that give motor speed avoidance control" alt="" coords="385,107,439,133"/>
<area shape="rect" href="model_8c.html#a059df531c8f30b7a8700a6b1209fd666" title="function that increase physiological tegument variable" alt="" coords="383,157,441,184"/>
<area shape="rect" href="model_8c.html#a23bae2c9f13446680670ca6f98121f22" title="function that select send mootor control for groooming spot seeking" alt="" coords="489,208,632,235"/>
<area shape="rect" href="model_8c.html#a1ae2fb5c7962e93ebf2074037de03226" title="function that make a grooming animation" alt="" coords="500,157,621,184"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_a42168e51ee7171713d66b7dcbb41887a_icgraph.png" border="0" usemap="#amodel_8c_a42168e51ee7171713d66b7dcbb41887a_icgraph" alt=""/></div>
<map name="amodel_8c_a42168e51ee7171713d66b7dcbb41887a_icgraph" id="amodel_8c_a42168e51ee7171713d66b7dcbb41887a_icgraph">
<area shape="rect" title="function that select behavioral grroup to compute robot&#39;s speed based on input" alt="" coords="209,5,324,32"/>
<area shape="rect" href="model_8c.html#afff2d3c32d3cf9812c2844d012a17142" title="Robot model based on our work." alt="" coords="104,5,161,32"/>
<area shape="rect" href="model_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program function." alt="" coords="5,5,56,32"/>
</map>
</div>

</div>
</div>
<a id="ae44811dea0e1843c571619d692a463ac" name="ae44811dea0e1843c571619d692a463ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae44811dea0e1843c571619d692a463ac">&#9670;&nbsp;</a></span>damage_animation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * damage_animation </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function that make animation when robot has damage </p>
<hr  />
<p> Robot damage animation</p>
<dl class="section note"><dt>Note</dt><dd>_secure_led_animation is used to secure threading </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  192</span>                                  {</div>
<div class="line"><span class="lineno">  193</span>    <a class="code hl_variable" href="model_8c.html#a8498583fd530c799fdd9046d09e10134">_secure_led_animation</a> = 1;</div>
<div class="line"><span class="lineno">  194</span>    <span class="keywordtype">int</span> animation_time = 50000;</div>
<div class="line"><span class="lineno">  195</span>    <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  196</span>    <a class="code hl_function" href="model_8c.html#adf91428d3c07a9e825283b794ead7f4c">set_leds</a>(0,0,0);</div>
<div class="line"><span class="lineno">  197</span>    usleep(animation_time); </div>
<div class="line"><span class="lineno">  198</span>    <span class="keywordflow">for</span>(i=0; i&lt;5; i++){</div>
<div class="line"><span class="lineno">  199</span>        <a class="code hl_function" href="model_8c.html#adf91428d3c07a9e825283b794ead7f4c">set_leds</a>(4,0,0);</div>
<div class="line"><span class="lineno">  200</span>        usleep(animation_time);</div>
<div class="line"><span class="lineno">  201</span>        <a class="code hl_function" href="model_8c.html#adf91428d3c07a9e825283b794ead7f4c">set_leds</a>(0,4,0);</div>
<div class="line"><span class="lineno">  202</span>        usleep(animation_time);</div>
<div class="line"><span class="lineno">  203</span>        <a class="code hl_function" href="model_8c.html#adf91428d3c07a9e825283b794ead7f4c">set_leds</a>(0,0,4);</div>
<div class="line"><span class="lineno">  204</span>        usleep(animation_time);</div>
<div class="line"><span class="lineno">  205</span>    }   </div>
<div class="line"><span class="lineno">  206</span>    <a class="code hl_variable" href="model_8c.html#a8498583fd530c799fdd9046d09e10134">_secure_led_animation</a> = 0;</div>
<div class="line"><span class="lineno">  207</span>}</div>
<div class="ttc" id="amodel_8c_html_a8498583fd530c799fdd9046d09e10134"><div class="ttname"><a href="model_8c.html#a8498583fd530c799fdd9046d09e10134">_secure_led_animation</a></div><div class="ttdeci">int _secure_led_animation</div><div class="ttdoc">to secure threading led animation</div><div class="ttdef"><b>Definition:</b> model.c:44</div></div>
<div class="ttc" id="amodel_8c_html_adf91428d3c07a9e825283b794ead7f4c"><div class="ttname"><a href="model_8c.html#adf91428d3c07a9e825283b794ead7f4c">set_leds</a></div><div class="ttdeci">int set_leds(int left, int right, int back)</div><div class="ttdoc">function that set color for 4 robot leds</div><div class="ttdef"><b>Definition:</b> model.c:79</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_ae44811dea0e1843c571619d692a463ac_cgraph.png" border="0" usemap="#amodel_8c_ae44811dea0e1843c571619d692a463ac_cgraph" alt=""/></div>
<map name="amodel_8c_ae44811dea0e1843c571619d692a463ac_cgraph" id="amodel_8c_ae44811dea0e1843c571619d692a463ac_cgraph">
<area shape="rect" title="function that make animation when robot has damage" alt="" coords="5,5,136,32"/>
<area shape="rect" href="model_8c.html#adf91428d3c07a9e825283b794ead7f4c" title="function that set color for 4 robot leds" alt="" coords="184,5,255,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_ae44811dea0e1843c571619d692a463ac_icgraph.png" border="0" usemap="#amodel_8c_ae44811dea0e1843c571619d692a463ac_icgraph" alt=""/></div>
<map name="amodel_8c_ae44811dea0e1843c571619d692a463ac_icgraph" id="amodel_8c_ae44811dea0e1843c571619d692a463ac_icgraph">
<area shape="rect" title="function that make animation when robot has damage" alt="" coords="843,56,973,83"/>
<area shape="rect" href="model_8c.html#ad3bb390d68f40aaee86dbed19b15218c" title="function that decrease physiological variable for integrity" alt="" coords="681,56,795,83"/>
<area shape="rect" href="model_8c.html#a045b7ae19635db4c0c565677d9cd3071" title="function that compute circulare based damage" alt="" coords="530,5,626,32"/>
<area shape="rect" href="model_8c.html#aff392d961d3f5d759aa041d27780a848" title="function that compute speed based damage" alt="" coords="523,56,633,83"/>
<area shape="rect" href="model_8c.html#a9772aee7d0e45a3f4927f4df78ee5ed7" title="function that check if there is damage based on two types of damage" alt="" coords="351,56,475,83"/>
<area shape="rect" href="model_8c.html#ab5b9c8b8ad9d20f047d6ff2ba808dacc" title="function that update the internal variables, compute deficits, cues and motivation" alt="" coords="209,81,303,108"/>
<area shape="rect" href="model_8c.html#afff2d3c32d3cf9812c2844d012a17142" title="Robot model based on our work." alt="" coords="104,81,161,108"/>
<area shape="rect" href="model_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program function." alt="" coords="5,81,56,108"/>
</map>
</div>

</div>
</div>
<a id="a13b684a14e79f0144fbfdbd71bb6bc6e" name="a13b684a14e79f0144fbfdbd71bb6bc6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13b684a14e79f0144fbfdbd71bb6bc6e">&#9670;&nbsp;</a></span>death_animation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int death_animation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function that make animation for death </p>
<hr  />
<p> Robot death animation</p>
<dl class="section return"><dt>Returns</dt><dd>: 0 when ok </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  154</span>                     {</div>
<div class="line"><span class="lineno">  155</span>    <span class="keywordtype">int</span> animation_time = 50000;</div>
<div class="line"><span class="lineno">  156</span>    <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  157</span>    <a class="code hl_function" href="model_8c.html#adf91428d3c07a9e825283b794ead7f4c">set_leds</a>(0,0,0);</div>
<div class="line"><span class="lineno">  158</span>    usleep(animation_time); </div>
<div class="line"><span class="lineno">  159</span>    <span class="keywordflow">for</span>(i=0; i&lt;4; i++){</div>
<div class="line"><span class="lineno">  160</span>        <a class="code hl_function" href="model_8c.html#adf91428d3c07a9e825283b794ead7f4c">set_leds</a>(2,0,0);</div>
<div class="line"><span class="lineno">  161</span>        usleep(animation_time);</div>
<div class="line"><span class="lineno">  162</span>        <a class="code hl_function" href="model_8c.html#adf91428d3c07a9e825283b794ead7f4c">set_leds</a>(0,2,0);</div>
<div class="line"><span class="lineno">  163</span>        usleep(animation_time);</div>
<div class="line"><span class="lineno">  164</span>        <a class="code hl_function" href="model_8c.html#adf91428d3c07a9e825283b794ead7f4c">set_leds</a>(0,0,2);</div>
<div class="line"><span class="lineno">  165</span>        usleep(animation_time);</div>
<div class="line"><span class="lineno">  166</span>    }   </div>
<div class="line"><span class="lineno">  167</span>    <span class="keywordflow">for</span>(i=0; i&lt;4; i++){</div>
<div class="line"><span class="lineno">  168</span>        <a class="code hl_function" href="model_8c.html#adf91428d3c07a9e825283b794ead7f4c">set_leds</a>(4,0,0);</div>
<div class="line"><span class="lineno">  169</span>        usleep(animation_time);</div>
<div class="line"><span class="lineno">  170</span>        <a class="code hl_function" href="model_8c.html#adf91428d3c07a9e825283b794ead7f4c">set_leds</a>(0,4,0);</div>
<div class="line"><span class="lineno">  171</span>        usleep(animation_time);</div>
<div class="line"><span class="lineno">  172</span>        <a class="code hl_function" href="model_8c.html#adf91428d3c07a9e825283b794ead7f4c">set_leds</a>(0,0,4);</div>
<div class="line"><span class="lineno">  173</span>        usleep(animation_time);</div>
<div class="line"><span class="lineno">  174</span>    }   </div>
<div class="line"><span class="lineno">  175</span>    <span class="keywordflow">for</span>(i=0; i&lt;6; i++){</div>
<div class="line"><span class="lineno">  176</span>        <a class="code hl_function" href="model_8c.html#adf91428d3c07a9e825283b794ead7f4c">set_leds</a>(4,4,4);</div>
<div class="line"><span class="lineno">  177</span>        usleep(animation_time);</div>
<div class="line"><span class="lineno">  178</span>        <a class="code hl_function" href="model_8c.html#adf91428d3c07a9e825283b794ead7f4c">set_leds</a>(0,0,0);</div>
<div class="line"><span class="lineno">  179</span>        usleep(animation_time);</div>
<div class="line"><span class="lineno">  180</span>    }   </div>
<div class="line"><span class="lineno">  181</span> </div>
<div class="line"><span class="lineno">  182</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  183</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_a13b684a14e79f0144fbfdbd71bb6bc6e_cgraph.png" border="0" usemap="#amodel_8c_a13b684a14e79f0144fbfdbd71bb6bc6e_cgraph" alt=""/></div>
<map name="amodel_8c_a13b684a14e79f0144fbfdbd71bb6bc6e_cgraph" id="amodel_8c_a13b684a14e79f0144fbfdbd71bb6bc6e_cgraph">
<area shape="rect" title="function that make animation for death" alt="" coords="5,5,123,32"/>
<area shape="rect" href="model_8c.html#adf91428d3c07a9e825283b794ead7f4c" title="function that set color for 4 robot leds" alt="" coords="171,5,241,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_a13b684a14e79f0144fbfdbd71bb6bc6e_icgraph.png" border="0" usemap="#amodel_8c_a13b684a14e79f0144fbfdbd71bb6bc6e_icgraph" alt=""/></div>
<map name="amodel_8c_a13b684a14e79f0144fbfdbd71bb6bc6e_icgraph" id="amodel_8c_a13b684a14e79f0144fbfdbd71bb6bc6e_icgraph">
<area shape="rect" title="function that make animation for death" alt="" coords="209,5,327,32"/>
<area shape="rect" href="model_8c.html#afff2d3c32d3cf9812c2844d012a17142" title="Robot model based on our work." alt="" coords="104,5,161,32"/>
<area shape="rect" href="model_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program function." alt="" coords="5,5,56,32"/>
</map>
</div>

</div>
</div>
<a id="a1a58010fca227c64de0d57e5f5a8a0ea" name="a1a58010fca227c64de0d57e5f5a8a0ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a58010fca227c64de0d57e5f5a8a0ea">&#9670;&nbsp;</a></span>decrease_physoligical_variables()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int decrease_physoligical_variables </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function that decrease physiological variables </p>
<hr  />
<p> Decrease physoligical variables</p>
<dl class="section return"><dt>Returns</dt><dd>0 when ok </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  483</span>                                         {</div>
<div class="line"><span class="lineno">  484</span>    <a class="code hl_variable" href="model_8c.html#af4f1fe78f78ef60528c944f991ceca7f">var_energy</a> -= 0.004;</div>
<div class="line"><span class="lineno">  485</span>    <a class="code hl_variable" href="model_8c.html#a5cf4f7c491e651d5fac669ae60af667d">var_tegument</a> -= 0.0015;</div>
<div class="line"><span class="lineno">  486</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  487</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_a1a58010fca227c64de0d57e5f5a8a0ea_icgraph.png" border="0" usemap="#amodel_8c_a1a58010fca227c64de0d57e5f5a8a0ea_icgraph" alt=""/></div>
<map name="amodel_8c_a1a58010fca227c64de0d57e5f5a8a0ea_icgraph" id="amodel_8c_a1a58010fca227c64de0d57e5f5a8a0ea_icgraph">
<area shape="rect" title="function that decrease physiological variables" alt="" coords="639,99,789,141"/>
<area shape="rect" href="model_8c.html#ab5b9c8b8ad9d20f047d6ff2ba808dacc" title="function that update the internal variables, compute deficits, cues and motivation" alt="" coords="497,107,591,133"/>
<area shape="rect" href="model_8c.html#ad3bb390d68f40aaee86dbed19b15218c" title="function that decrease physiological variable for integrity" alt="" coords="336,56,449,83"/>
<area shape="rect" href="model_8c.html#afff2d3c32d3cf9812c2844d012a17142" title="Robot model based on our work." alt="" coords="364,107,421,133"/>
<area shape="rect" href="model_8c.html#a045b7ae19635db4c0c565677d9cd3071" title="function that compute circulare based damage" alt="" coords="185,5,281,32"/>
<area shape="rect" href="model_8c.html#aff392d961d3f5d759aa041d27780a848" title="function that compute speed based damage" alt="" coords="177,56,288,83"/>
<area shape="rect" href="model_8c.html#a9772aee7d0e45a3f4927f4df78ee5ed7" title="function that check if there is damage based on two types of damage" alt="" coords="5,56,129,83"/>
<area shape="rect" href="model_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program function." alt="" coords="207,107,258,133"/>
</map>
</div>

</div>
</div>
<a id="a024bee244394eeb174d636f297a7e857" name="a024bee244394eeb174d636f297a7e857"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a024bee244394eeb174d636f297a7e857">&#9670;&nbsp;</a></span>display_battery()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int display_battery </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>display battery info </p>
<hr  />
<p> Display robot battery informations</p>
<dl class="section return"><dt>Returns</dt><dd>: 0 </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">   58</span>                     {</div>
<div class="line"><span class="lineno">   59</span>    <span class="keywordtype">char</span> buf[32]; <span class="comment">// Uses 12 bytes, extra space for future compat</span></div>
<div class="line"><span class="lineno">   60</span>    kh4_battery_status(buf, <a class="code hl_variable" href="model_8c.html#ab6f899a116b8a0c5179cd0f0cef9c4d6">dsPic</a>);</div>
<div class="line"><span class="lineno">   61</span>    printf(<span class="stringliteral">&quot;Battery charge: %d%%\n&quot;</span>, buf[3]);</div>
<div class="line"><span class="lineno">   62</span>    printf(<span class="stringliteral">&quot;Current: %4.0f mA\n&quot;</span>,*(<span class="keywordtype">short</span>*)(buf+4)*0.07813);</div>
<div class="line"><span class="lineno">   63</span>    printf(<span class="stringliteral">&quot;Temperature: %3.1f C\n&quot;</span>,*(<span class="keywordtype">short</span>*)(buf+8)*0.003906);</div>
<div class="line"><span class="lineno">   64</span>    printf(<span class="stringliteral">&quot;Voltage: %4.0f mV\n&quot;</span>,*(<span class="keywordtype">short</span>*)(buf+10)*9.76);</div>
<div class="line"><span class="lineno">   65</span>    printf(<span class="stringliteral">&quot;Charger: %s\n&quot;</span>,kh4_battery_charge(<a class="code hl_variable" href="model_8c.html#ab6f899a116b8a0c5179cd0f0cef9c4d6">dsPic</a>)?<span class="stringliteral">&quot;plugged&quot;</span>:<span class="stringliteral">&quot;unplugged&quot;</span>);</div>
<div class="line"><span class="lineno">   66</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   67</span>}</div>
<div class="ttc" id="amodel_8c_html_ab6f899a116b8a0c5179cd0f0cef9c4d6"><div class="ttname"><a href="model_8c.html#ab6f899a116b8a0c5179cd0f0cef9c4d6">dsPic</a></div><div class="ttdeci">knet_dev_t * dsPic</div><div class="ttdoc">robot pic microcontroller access</div><div class="ttdef"><b>Definition:</b> model.c:23</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_a024bee244394eeb174d636f297a7e857_icgraph.png" border="0" usemap="#amodel_8c_a024bee244394eeb174d636f297a7e857_icgraph" alt=""/></div>
<map name="amodel_8c_a024bee244394eeb174d636f297a7e857_icgraph" id="amodel_8c_a024bee244394eeb174d636f297a7e857_icgraph">
<area shape="rect" title="display battery info" alt="" coords="104,5,215,32"/>
<area shape="rect" href="model_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program function." alt="" coords="5,5,56,32"/>
</map>
</div>

</div>
</div>
<a id="a03aafff51ffe76d9da3f028bef80161b" name="a03aafff51ffe76d9da3f028bef80161b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03aafff51ffe76d9da3f028bef80161b">&#9670;&nbsp;</a></span>eat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int eat </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function that increase physiological energy variable </p>
<hr  />
<p> Eat function</p>
<dl class="section return"><dt>Returns</dt><dd>0 when ok </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  722</span>             {</div>
<div class="line"><span class="lineno">  723</span>    <a class="code hl_variable" href="model_8c.html#af4f1fe78f78ef60528c944f991ceca7f">var_energy</a> += 0.05;</div>
<div class="line"><span class="lineno">  724</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  725</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_a03aafff51ffe76d9da3f028bef80161b_icgraph.png" border="0" usemap="#amodel_8c_a03aafff51ffe76d9da3f028bef80161b_icgraph" alt=""/></div>
<map name="amodel_8c_a03aafff51ffe76d9da3f028bef80161b_icgraph" id="amodel_8c_a03aafff51ffe76d9da3f028bef80161b_icgraph">
<area shape="rect" title="function that increase physiological energy variable" alt="" coords="587,5,627,32"/>
<area shape="rect" href="model_8c.html#a256b18090d240375c58448c8693d391b" title="function that select sub&#45;behavioral group for energy" alt="" coords="372,5,539,32"/>
<area shape="rect" href="model_8c.html#a42168e51ee7171713d66b7dcbb41887a" title="function that select behavioral grroup to compute robot&#39;s speed based on input" alt="" coords="209,5,324,32"/>
<area shape="rect" href="model_8c.html#afff2d3c32d3cf9812c2844d012a17142" title="Robot model based on our work." alt="" coords="104,5,161,32"/>
<area shape="rect" href="model_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program function." alt="" coords="5,5,56,32"/>
</map>
</div>

</div>
</div>
<a id="a256b18090d240375c58448c8693d391b" name="a256b18090d240375c58448c8693d391b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a256b18090d240375c58448c8693d391b">&#9670;&nbsp;</a></span>energy_behavioral_group()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int energy_behavioral_group </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function that select sub-behavioral group for energy </p>
<hr  />
<p> Energy behavioral group</p>
<dl class="section return"><dt>Returns</dt><dd>0 when ok </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  744</span>                                 {</div>
<div class="line"><span class="lineno">  745</span>    <span class="keywordtype">int</span> can_eat = 0;</div>
<div class="line"><span class="lineno">  746</span>    <span class="keywordflow">if</span>(can_eat)</div>
<div class="line"><span class="lineno">  747</span>        <a class="code hl_function" href="model_8c.html#a03aafff51ffe76d9da3f028bef80161b">eat</a>();</div>
<div class="line"><span class="lineno">  748</span>    <a class="code hl_function" href="model_8c.html#ac05d0fc423a7e961f72d76e0b5cdfa9e">seek_food</a>();</div>
<div class="line"><span class="lineno">  749</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  750</span>}</div>
<div class="ttc" id="amodel_8c_html_a03aafff51ffe76d9da3f028bef80161b"><div class="ttname"><a href="model_8c.html#a03aafff51ffe76d9da3f028bef80161b">eat</a></div><div class="ttdeci">int eat(void)</div><div class="ttdoc">function that increase physiological energy variable</div><div class="ttdef"><b>Definition:</b> model.c:722</div></div>
<div class="ttc" id="amodel_8c_html_ac05d0fc423a7e961f72d76e0b5cdfa9e"><div class="ttname"><a href="model_8c.html#ac05d0fc423a7e961f72d76e0b5cdfa9e">seek_food</a></div><div class="ttdeci">int seek_food(void)</div><div class="ttdoc">function that select send mootor control for food seeking</div><div class="ttdef"><b>Definition:</b> model.c:733</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_a256b18090d240375c58448c8693d391b_cgraph.png" border="0" usemap="#amodel_8c_a256b18090d240375c58448c8693d391b_cgraph" alt=""/></div>
<map name="amodel_8c_a256b18090d240375c58448c8693d391b_cgraph" id="amodel_8c_a256b18090d240375c58448c8693d391b_cgraph">
<area shape="rect" title="function that select sub&#45;behavioral group for energy" alt="" coords="5,31,172,57"/>
<area shape="rect" href="model_8c.html#a03aafff51ffe76d9da3f028bef80161b" title="function that increase physiological energy variable" alt="" coords="241,5,281,32"/>
<area shape="rect" href="model_8c.html#ac05d0fc423a7e961f72d76e0b5cdfa9e" title="function that select send mootor control for food seeking" alt="" coords="220,56,303,83"/>
<area shape="rect" href="model_8c.html#a22159ec5786bcd0c518d86dc97d44b4e" title="function to make robot move" alt="" coords="351,56,405,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_a256b18090d240375c58448c8693d391b_icgraph.png" border="0" usemap="#amodel_8c_a256b18090d240375c58448c8693d391b_icgraph" alt=""/></div>
<map name="amodel_8c_a256b18090d240375c58448c8693d391b_icgraph" id="amodel_8c_a256b18090d240375c58448c8693d391b_icgraph">
<area shape="rect" title="function that select sub&#45;behavioral group for energy" alt="" coords="372,5,539,32"/>
<area shape="rect" href="model_8c.html#a42168e51ee7171713d66b7dcbb41887a" title="function that select behavioral grroup to compute robot&#39;s speed based on input" alt="" coords="209,5,324,32"/>
<area shape="rect" href="model_8c.html#afff2d3c32d3cf9812c2844d012a17142" title="Robot model based on our work." alt="" coords="104,5,161,32"/>
<area shape="rect" href="model_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program function." alt="" coords="5,5,56,32"/>
</map>
</div>

</div>
</div>
<a id="a762377c04f5d71221c66a23c81777f96" name="a762377c04f5d71221c66a23c81777f96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a762377c04f5d71221c66a23c81777f96">&#9670;&nbsp;</a></span>get_mean_normalized()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float get_mean_normalized </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>table</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function that get mean of table and normalize it </p>
<hr  />
<p> Get mean and normalize a table</p>
<dl class="section return"><dt>Returns</dt><dd>mean noramlized between 0 and 1 </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  438</span>                                                                  {</div>
<div class="line"><span class="lineno">  439</span>    <span class="keywordtype">float</span> mean;</div>
<div class="line"><span class="lineno">  440</span>    <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  441</span>    <span class="keywordflow">for</span>(i=0; i&lt;size; i++){</div>
<div class="line"><span class="lineno">  442</span>        mean += table[i];</div>
<div class="line"><span class="lineno">  443</span>    }</div>
<div class="line"><span class="lineno">  444</span>    mean /= size;</div>
<div class="line"><span class="lineno">  445</span>    <span class="keywordflow">return</span> ((mean-min)/(max-min));</div>
<div class="line"><span class="lineno">  446</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_a762377c04f5d71221c66a23c81777f96_icgraph.png" border="0" usemap="#amodel_8c_a762377c04f5d71221c66a23c81777f96_icgraph" alt=""/></div>
<map name="amodel_8c_a762377c04f5d71221c66a23c81777f96_icgraph" id="amodel_8c_a762377c04f5d71221c66a23c81777f96_icgraph">
<area shape="rect" title="function that get mean of table and normalize it" alt="" coords="793,107,943,133"/>
<area shape="rect" href="model_8c.html#a507792eccb7b93c5c65436fd8f37c84b" title="function that compute cues" alt="" coords="639,107,745,133"/>
<area shape="rect" href="model_8c.html#ab5b9c8b8ad9d20f047d6ff2ba808dacc" title="function that update the internal variables, compute deficits, cues and motivation" alt="" coords="497,107,591,133"/>
<area shape="rect" href="model_8c.html#ad3bb390d68f40aaee86dbed19b15218c" title="function that decrease physiological variable for integrity" alt="" coords="336,56,449,83"/>
<area shape="rect" href="model_8c.html#afff2d3c32d3cf9812c2844d012a17142" title="Robot model based on our work." alt="" coords="364,107,421,133"/>
<area shape="rect" href="model_8c.html#a045b7ae19635db4c0c565677d9cd3071" title="function that compute circulare based damage" alt="" coords="185,5,281,32"/>
<area shape="rect" href="model_8c.html#aff392d961d3f5d759aa041d27780a848" title="function that compute speed based damage" alt="" coords="177,56,288,83"/>
<area shape="rect" href="model_8c.html#a9772aee7d0e45a3f4927f4df78ee5ed7" title="function that check if there is damage based on two types of damage" alt="" coords="5,56,129,83"/>
<area shape="rect" href="model_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program function." alt="" coords="207,107,258,133"/>
</map>
</div>

</div>
</div>
<a id="a77821830aaf0356c92238ea9d040fd9f" name="a77821830aaf0356c92238ea9d040fd9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77821830aaf0356c92238ea9d040fd9f">&#9670;&nbsp;</a></span>get_mean_normalized_f()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float get_mean_normalized_f </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>table</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function that get mean of table and normalize it but for a float table </p>
<hr  />
<p> Get mean and normalize a float table</p>
<dl class="section return"><dt>Returns</dt><dd>mean noramlized between 0 and 1 </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  454</span>                                                                          {</div>
<div class="line"><span class="lineno">  455</span>    <span class="keywordtype">float</span> mean;</div>
<div class="line"><span class="lineno">  456</span>    <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  457</span>    <span class="keywordflow">for</span>(i=0; i&lt;size; i++){</div>
<div class="line"><span class="lineno">  458</span>        mean += table[i];</div>
<div class="line"><span class="lineno">  459</span>    }</div>
<div class="line"><span class="lineno">  460</span>    mean /= size;</div>
<div class="line"><span class="lineno">  461</span>    <span class="keywordflow">return</span> ((mean-min)/(max-min));</div>
<div class="line"><span class="lineno">  462</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_a77821830aaf0356c92238ea9d040fd9f_icgraph.png" border="0" usemap="#amodel_8c_a77821830aaf0356c92238ea9d040fd9f_icgraph" alt=""/></div>
<map name="amodel_8c_a77821830aaf0356c92238ea9d040fd9f_icgraph" id="amodel_8c_a77821830aaf0356c92238ea9d040fd9f_icgraph">
<area shape="rect" title="function that get mean of table and normalize it but for a float table" alt="" coords="783,66,943,93"/>
<area shape="rect" href="model_8c.html#aff392d961d3f5d759aa041d27780a848" title="function that compute speed based damage" alt="" coords="624,66,735,93"/>
<area shape="rect" href="model_8c.html#a9772aee7d0e45a3f4927f4df78ee5ed7" title="function that check if there is damage based on two types of damage" alt="" coords="452,41,576,67"/>
<area shape="rect" href="model_8c.html#ab5b9c8b8ad9d20f047d6ff2ba808dacc" title="function that update the internal variables, compute deficits, cues and motivation" alt="" coords="311,41,404,67"/>
<area shape="rect" href="model_8c.html#ad3bb390d68f40aaee86dbed19b15218c" title="function that decrease physiological variable for integrity" alt="" coords="149,91,263,118"/>
<area shape="rect" href="model_8c.html#afff2d3c32d3cf9812c2844d012a17142" title="Robot model based on our work." alt="" coords="177,41,235,67"/>
<area shape="rect" href="model_8c.html#a045b7ae19635db4c0c565677d9cd3071" title="function that compute circulare based damage" alt="" coords="5,91,101,118"/>
<area shape="rect" href="model_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program function." alt="" coords="28,41,79,67"/>
</map>
</div>

</div>
</div>
<a id="afdbf3026a1d40b44651f0f5f76ad7102" name="afdbf3026a1d40b44651f0f5f76ad7102"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdbf3026a1d40b44651f0f5f76ad7102">&#9670;&nbsp;</a></span>get_sensors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_sensors </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function to read and store sensors values </p>
<hr  />
<p> Read and store sensor values</p>
<dl class="section return"><dt>Returns</dt><dd>0 if ok </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  384</span>                     {</div>
<div class="line"><span class="lineno">  385</span>        <span class="keywordtype">char</span> Buffer[256];</div>
<div class="line"><span class="lineno">  386</span>        <span class="keywordtype">int</span> sensval, i;</div>
<div class="line"><span class="lineno">  387</span>        <span class="comment">// get ir sensor</span></div>
<div class="line"><span class="lineno">  388</span>        kh4_proximity_ir(Buffer, <a class="code hl_variable" href="model_8c.html#ab6f899a116b8a0c5179cd0f0cef9c4d6">dsPic</a>);                 </div>
<div class="line"><span class="lineno">  389</span>        <span class="comment">//limit the sensor values, don&#39;t use ground sensors</span></div>
<div class="line"><span class="lineno">  390</span>        <span class="keywordflow">for</span> (i = 0; i &lt; 8; i++) </div>
<div class="line"><span class="lineno">  391</span>        {</div>
<div class="line"><span class="lineno">  392</span>            sensval = (Buffer[i*2] | Buffer[i*2+1]&lt;&lt;8);</div>
<div class="line"><span class="lineno">  393</span>            <span class="keywordflow">if</span>(sensval &gt; <a class="code hl_define" href="model_8c.html#ae4f6058c45a018de2c45bc43f0c405ae">MAX_DIST</a>)</div>
<div class="line"><span class="lineno">  394</span>                <a class="code hl_variable" href="model_8c.html#a1ee85ec09b3bcd5c3e9ef979cbf91013">sensors</a>[i] = <a class="code hl_define" href="model_8c.html#ae4f6058c45a018de2c45bc43f0c405ae">MAX_DIST</a>;</div>
<div class="line"><span class="lineno">  395</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sensval &lt; <a class="code hl_define" href="model_8c.html#a0242b872f13ae044f308ee8865fecc57">MIN_DIST</a>)</div>
<div class="line"><span class="lineno">  396</span>                <a class="code hl_variable" href="model_8c.html#a1ee85ec09b3bcd5c3e9ef979cbf91013">sensors</a>[i] = 0;</div>
<div class="line"><span class="lineno">  397</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  398</span>                <a class="code hl_variable" href="model_8c.html#a1ee85ec09b3bcd5c3e9ef979cbf91013">sensors</a>[i] = (sensval-<a class="code hl_define" href="model_8c.html#a0242b872f13ae044f308ee8865fecc57">MIN_DIST</a>)&gt;&gt;1;</div>
<div class="line"><span class="lineno">  399</span>        }</div>
<div class="line"><span class="lineno">  400</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  401</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_afdbf3026a1d40b44651f0f5f76ad7102_icgraph.png" border="0" usemap="#amodel_8c_afdbf3026a1d40b44651f0f5f76ad7102_icgraph" alt=""/></div>
<map name="amodel_8c_afdbf3026a1d40b44651f0f5f76ad7102_icgraph" id="amodel_8c_afdbf3026a1d40b44651f0f5f76ad7102_icgraph">
<area shape="rect" title="function to read and store sensors values" alt="" coords="639,56,732,83"/>
<area shape="rect" href="model_8c.html#afff2d3c32d3cf9812c2844d012a17142" title="Robot model based on our work." alt="" coords="364,31,421,57"/>
<area shape="rect" href="model_8c.html#ab5b9c8b8ad9d20f047d6ff2ba808dacc" title="function that update the internal variables, compute deficits, cues and motivation" alt="" coords="497,81,591,108"/>
<area shape="rect" href="model_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program function." alt="" coords="207,5,258,32"/>
<area shape="rect" href="model_8c.html#ad3bb390d68f40aaee86dbed19b15218c" title="function that decrease physiological variable for integrity" alt="" coords="336,81,449,108"/>
<area shape="rect" href="model_8c.html#a045b7ae19635db4c0c565677d9cd3071" title="function that compute circulare based damage" alt="" coords="185,56,281,83"/>
<area shape="rect" href="model_8c.html#aff392d961d3f5d759aa041d27780a848" title="function that compute speed based damage" alt="" coords="177,107,288,133"/>
<area shape="rect" href="model_8c.html#a9772aee7d0e45a3f4927f4df78ee5ed7" title="function that check if there is damage based on two types of damage" alt="" coords="5,107,129,133"/>
</map>
</div>

</div>
</div>
<a id="a0d6be2c2d6d79c4bf8daa9019640e5a7" name="a0d6be2c2d6d79c4bf8daa9019640e5a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d6be2c2d6d79c4bf8daa9019640e5a7">&#9670;&nbsp;</a></span>get_sensors_history()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_sensors_history </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function that store actual for sensor values for later use </p>
<hr  />
<p> Store previous sensors values</p>
<dl class="section return"><dt>Returns</dt><dd>0 if ok </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  370</span>                             {</div>
<div class="line"><span class="lineno">  371</span>    <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  372</span>    <span class="keywordflow">for</span>(i=0; i&lt;8;i++){ </div>
<div class="line"><span class="lineno">  373</span>        <a class="code hl_variable" href="model_8c.html#a2975e70127642bfc88c4783c37eca03b">prev_sensors</a>[i] = <a class="code hl_variable" href="model_8c.html#a1ee85ec09b3bcd5c3e9ef979cbf91013">sensors</a>[i];</div>
<div class="line"><span class="lineno">  374</span>    }</div>
<div class="line"><span class="lineno">  375</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  376</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_a0d6be2c2d6d79c4bf8daa9019640e5a7_icgraph.png" border="0" usemap="#amodel_8c_a0d6be2c2d6d79c4bf8daa9019640e5a7_icgraph" alt=""/></div>
<map name="amodel_8c_a0d6be2c2d6d79c4bf8daa9019640e5a7_icgraph" id="amodel_8c_a0d6be2c2d6d79c4bf8daa9019640e5a7_icgraph">
<area shape="rect" title="function that store actual for sensor values for later use" alt="" coords="209,5,348,32"/>
<area shape="rect" href="model_8c.html#afff2d3c32d3cf9812c2844d012a17142" title="Robot model based on our work." alt="" coords="104,5,161,32"/>
<area shape="rect" href="model_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program function." alt="" coords="5,5,56,32"/>
</map>
</div>

</div>
</div>
<a id="a059df531c8f30b7a8700a6b1209fd666" name="a059df531c8f30b7a8700a6b1209fd666"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a059df531c8f30b7a8700a6b1209fd666">&#9670;&nbsp;</a></span>groom()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int groom </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function that increase physiological tegument variable </p>
<hr  />
<p> Groom function</p>
<dl class="section return"><dt>Returns</dt><dd>0 when ok </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  784</span>               {</div>
<div class="line"><span class="lineno">  785</span>    <a class="code hl_variable" href="model_8c.html#af4f1fe78f78ef60528c944f991ceca7f">var_energy</a> += 0.05;</div>
<div class="line"><span class="lineno">  786</span>    <a class="code hl_function" href="model_8c.html#a1ae2fb5c7962e93ebf2074037de03226">groom_animation</a>();</div>
<div class="line"><span class="lineno">  787</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  788</span>}</div>
<div class="ttc" id="amodel_8c_html_a1ae2fb5c7962e93ebf2074037de03226"><div class="ttname"><a href="model_8c.html#a1ae2fb5c7962e93ebf2074037de03226">groom_animation</a></div><div class="ttdeci">int groom_animation(void)</div><div class="ttdoc">function that make a grooming animation</div><div class="ttdef"><b>Definition:</b> model.c:759</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_a059df531c8f30b7a8700a6b1209fd666_cgraph.png" border="0" usemap="#amodel_8c_a059df531c8f30b7a8700a6b1209fd666_cgraph" alt=""/></div>
<map name="amodel_8c_a059df531c8f30b7a8700a6b1209fd666_cgraph" id="amodel_8c_a059df531c8f30b7a8700a6b1209fd666_cgraph">
<area shape="rect" title="function that increase physiological tegument variable" alt="" coords="5,5,64,32"/>
<area shape="rect" href="model_8c.html#a1ae2fb5c7962e93ebf2074037de03226" title="function that make a grooming animation" alt="" coords="112,5,233,32"/>
<area shape="rect" href="model_8c.html#a22159ec5786bcd0c518d86dc97d44b4e" title="function to make robot move" alt="" coords="281,5,336,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_a059df531c8f30b7a8700a6b1209fd666_icgraph.png" border="0" usemap="#amodel_8c_a059df531c8f30b7a8700a6b1209fd666_icgraph" alt=""/></div>
<map name="amodel_8c_a059df531c8f30b7a8700a6b1209fd666_icgraph" id="amodel_8c_a059df531c8f30b7a8700a6b1209fd666_icgraph">
<area shape="rect" title="function that increase physiological tegument variable" alt="" coords="563,13,621,39"/>
<area shape="rect" href="model_8c.html#a9b71e438b829313af4267abdfa355e66" title="function that select sub&#45;behavioral group for tegument" alt="" coords="372,5,515,47"/>
<area shape="rect" href="model_8c.html#a42168e51ee7171713d66b7dcbb41887a" title="function that select behavioral grroup to compute robot&#39;s speed based on input" alt="" coords="209,13,324,39"/>
<area shape="rect" href="model_8c.html#afff2d3c32d3cf9812c2844d012a17142" title="Robot model based on our work." alt="" coords="104,13,161,39"/>
<area shape="rect" href="model_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program function." alt="" coords="5,13,56,39"/>
</map>
</div>

</div>
</div>
<a id="a1ae2fb5c7962e93ebf2074037de03226" name="a1ae2fb5c7962e93ebf2074037de03226"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ae2fb5c7962e93ebf2074037de03226">&#9670;&nbsp;</a></span>groom_animation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int groom_animation </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function that make a grooming animation </p>
<hr  />
<p> TODO ADD LEDS Grooming animation</p>
<dl class="section return"><dt>Returns</dt><dd>0 when ok </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  759</span>                         {</div>
<div class="line"><span class="lineno">  760</span>    <a class="code hl_function" href="model_8c.html#a22159ec5786bcd0c518d86dc97d44b4e">move</a>(-1.0,1.0);</div>
<div class="line"><span class="lineno">  761</span>    usleep(2*<a class="code hl_define" href="model_8c.html#a078b6c12f1ac6819cecef90ab5870276">TIME</a>);</div>
<div class="line"><span class="lineno">  762</span>    <a class="code hl_function" href="model_8c.html#a22159ec5786bcd0c518d86dc97d44b4e">move</a>(1.0,-1.0);</div>
<div class="line"><span class="lineno">  763</span>    usleep(2*<a class="code hl_define" href="model_8c.html#a078b6c12f1ac6819cecef90ab5870276">TIME</a>);</div>
<div class="line"><span class="lineno">  764</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  765</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_a1ae2fb5c7962e93ebf2074037de03226_cgraph.png" border="0" usemap="#amodel_8c_a1ae2fb5c7962e93ebf2074037de03226_cgraph" alt=""/></div>
<map name="amodel_8c_a1ae2fb5c7962e93ebf2074037de03226_cgraph" id="amodel_8c_a1ae2fb5c7962e93ebf2074037de03226_cgraph">
<area shape="rect" title="function that make a grooming animation" alt="" coords="5,5,127,32"/>
<area shape="rect" href="model_8c.html#a22159ec5786bcd0c518d86dc97d44b4e" title="function to make robot move" alt="" coords="175,5,229,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_a1ae2fb5c7962e93ebf2074037de03226_icgraph.png" border="0" usemap="#amodel_8c_a1ae2fb5c7962e93ebf2074037de03226_icgraph" alt=""/></div>
<map name="amodel_8c_a1ae2fb5c7962e93ebf2074037de03226_icgraph" id="amodel_8c_a1ae2fb5c7962e93ebf2074037de03226_icgraph">
<area shape="rect" title="function that make a grooming animation" alt="" coords="669,13,791,39"/>
<area shape="rect" href="model_8c.html#a059df531c8f30b7a8700a6b1209fd666" title="function that increase physiological tegument variable" alt="" coords="563,13,621,39"/>
<area shape="rect" href="model_8c.html#a9b71e438b829313af4267abdfa355e66" title="function that select sub&#45;behavioral group for tegument" alt="" coords="372,5,515,47"/>
<area shape="rect" href="model_8c.html#a42168e51ee7171713d66b7dcbb41887a" title="function that select behavioral grroup to compute robot&#39;s speed based on input" alt="" coords="209,13,324,39"/>
<area shape="rect" href="model_8c.html#afff2d3c32d3cf9812c2844d012a17142" title="Robot model based on our work." alt="" coords="104,13,161,39"/>
<area shape="rect" href="model_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program function." alt="" coords="5,13,56,39"/>
</map>
</div>

</div>
</div>
<a id="ad3bb390d68f40aaee86dbed19b15218c" name="ad3bb390d68f40aaee86dbed19b15218c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3bb390d68f40aaee86dbed19b15218c">&#9670;&nbsp;</a></span>induce_damage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int induce_damage </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>level</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function that decrease physiological variable for integrity </p>
<hr  />
<p> Induce damage</p>
<dl class="section return"><dt>Returns</dt><dd>0 when ok </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">level,the</td><td>level of damage from 0 to 1 </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">  315</span>                              {</div>
<div class="line"><span class="lineno">  316</span>    <a class="code hl_variable" href="model_8c.html#a24043223f501c4103d8ad849dcfe7416">var_integrity</a> -= (level*0.01);</div>
<div class="line"><span class="lineno">  317</span>    <a class="code hl_function" href="model_8c.html#ab5b9c8b8ad9d20f047d6ff2ba808dacc">update_vars</a>(0);</div>
<div class="line"><span class="lineno">  318</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="model_8c.html#a8498583fd530c799fdd9046d09e10134">_secure_led_animation</a> == 0){</div>
<div class="line"><span class="lineno">  319</span>        <span class="comment">// Thread id</span></div>
<div class="line"><span class="lineno">  320</span>        pthread_t threadId;</div>
<div class="line"><span class="lineno">  321</span>        <span class="comment">// Create a thread that will function damage_animation()</span></div>
<div class="line"><span class="lineno">  322</span>        <span class="keywordtype">int</span> err = pthread_create(&amp;threadId, NULL, &amp;<a class="code hl_function" href="model_8c.html#ae44811dea0e1843c571619d692a463ac">damage_animation</a>, NULL);</div>
<div class="line"><span class="lineno">  323</span>        <span class="comment">// Check if thread is created sucessfuly</span></div>
<div class="line"><span class="lineno">  324</span>    }</div>
<div class="line"><span class="lineno">  325</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  326</span>}</div>
<div class="ttc" id="amodel_8c_html_ab5b9c8b8ad9d20f047d6ff2ba808dacc"><div class="ttname"><a href="model_8c.html#ab5b9c8b8ad9d20f047d6ff2ba808dacc">update_vars</a></div><div class="ttdeci">int update_vars(int loopstart)</div><div class="ttdoc">function that update the internal variables, compute deficits, cues and motivation</div><div class="ttdef"><b>Definition:</b> model.c:575</div></div>
<div class="ttc" id="amodel_8c_html_ae44811dea0e1843c571619d692a463ac"><div class="ttname"><a href="model_8c.html#ae44811dea0e1843c571619d692a463ac">damage_animation</a></div><div class="ttdeci">void * damage_animation(void *args)</div><div class="ttdoc">function that make animation when robot has damage</div><div class="ttdef"><b>Definition:</b> model.c:192</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_ad3bb390d68f40aaee86dbed19b15218c_cgraph.png" border="0" usemap="#amodel_8c_ad3bb390d68f40aaee86dbed19b15218c_cgraph" alt=""/></div>
<map name="amodel_8c_ad3bb390d68f40aaee86dbed19b15218c_cgraph" id="amodel_8c_ad3bb390d68f40aaee86dbed19b15218c_cgraph">
<area shape="rect" title="function that decrease physiological variable for integrity" alt="" coords="5,81,119,108"/>
<area shape="rect" href="model_8c.html#ae44811dea0e1843c571619d692a463ac" title="function that make animation when robot has damage" alt="" coords="167,5,297,32"/>
<area shape="rect" href="model_8c.html#ab5b9c8b8ad9d20f047d6ff2ba808dacc" title="function that update the internal variables, compute deficits, cues and motivation" alt="" coords="185,267,279,293"/>
<area shape="rect" href="model_8c.html#adf91428d3c07a9e825283b794ead7f4c" title="function that set color for 4 robot leds" alt="" coords="385,5,456,32"/>
<area shape="rect" href="model_8c.html#a9772aee7d0e45a3f4927f4df78ee5ed7" title="function that check if there is damage based on two types of damage" alt="" coords="359,157,483,184"/>
<area shape="rect" href="model_8c.html#a507792eccb7b93c5c65436fd8f37c84b" title="function that compute cues" alt="" coords="367,325,474,352"/>
<area shape="rect" href="model_8c.html#a4839931386cb5fae8e015d2173de57e0" title="function that compute deficits for physiological internal values" alt="" coords="363,427,478,453"/>
<area shape="rect" href="model_8c.html#a60c16f1cf7d0c222208477d5810a4020" title="function that compute motivations for physiological internal values" alt="" coords="347,208,494,235"/>
<area shape="rect" href="model_8c.html#a1a58010fca227c64de0d57e5f5a8a0ea" title="function that decrease physiological variables" alt="" coords="345,259,496,301"/>
<area shape="rect" href="model_8c.html#afdbf3026a1d40b44651f0f5f76ad7102" title="function to read and store sensors values" alt="" coords="374,376,467,403"/>
<area shape="rect" href="model_8c.html#a045b7ae19635db4c0c565677d9cd3071" title="function that compute circulare based damage" alt="" coords="571,69,667,96"/>
<area shape="rect" href="model_8c.html#aff392d961d3f5d759aa041d27780a848" title="function that compute speed based damage" alt="" coords="563,145,674,172"/>
<area shape="rect" href="model_8c.html#a77821830aaf0356c92238ea9d040fd9f" title="function that get mean of table and normalize it but for a float table" alt="" coords="741,145,901,172"/>
<area shape="rect" href="model_8c.html#a762377c04f5d71221c66a23c81777f96" title="function that get mean of table and normalize it" alt="" coords="544,325,693,352"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_ad3bb390d68f40aaee86dbed19b15218c_icgraph.png" border="0" usemap="#amodel_8c_ad3bb390d68f40aaee86dbed19b15218c_icgraph" alt=""/></div>
<map name="amodel_8c_ad3bb390d68f40aaee86dbed19b15218c_icgraph" id="amodel_8c_ad3bb390d68f40aaee86dbed19b15218c_icgraph">
<area shape="rect" title="function that decrease physiological variable for integrity" alt="" coords="681,56,795,83"/>
<area shape="rect" href="model_8c.html#a045b7ae19635db4c0c565677d9cd3071" title="function that compute circulare based damage" alt="" coords="530,5,626,32"/>
<area shape="rect" href="model_8c.html#aff392d961d3f5d759aa041d27780a848" title="function that compute speed based damage" alt="" coords="523,56,633,83"/>
<area shape="rect" href="model_8c.html#a9772aee7d0e45a3f4927f4df78ee5ed7" title="function that check if there is damage based on two types of damage" alt="" coords="351,56,475,83"/>
<area shape="rect" href="model_8c.html#ab5b9c8b8ad9d20f047d6ff2ba808dacc" title="function that update the internal variables, compute deficits, cues and motivation" alt="" coords="209,81,303,108"/>
<area shape="rect" href="model_8c.html#afff2d3c32d3cf9812c2844d012a17142" title="Robot model based on our work." alt="" coords="104,81,161,108"/>
<area shape="rect" href="model_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program function." alt="" coords="5,81,56,108"/>
</map>
</div>

</div>
</div>
<a id="a8de3d99966a8a9e1e793c359877b04a3" name="a8de3d99966a8a9e1e793c359877b04a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8de3d99966a8a9e1e793c359877b04a3">&#9670;&nbsp;</a></span>integrity_behavioral_group()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int integrity_behavioral_group </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function that select sub-behavioral group for integrity </p>
<hr  />
<p> Integrity behavioral group</p>
<dl class="section return"><dt>Returns</dt><dd>0 when ok </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  842</span>                                    {</div>
<div class="line"><span class="lineno">  843</span>    <a class="code hl_function" href="model_8c.html#a99aa10b152e9998e638b721be1840266">avoid</a>();</div>
<div class="line"><span class="lineno">  844</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  845</span>}</div>
<div class="ttc" id="amodel_8c_html_a99aa10b152e9998e638b721be1840266"><div class="ttname"><a href="model_8c.html#a99aa10b152e9998e638b721be1840266">avoid</a></div><div class="ttdeci">int avoid(void)</div><div class="ttdoc">function that give motor speed avoidance control</div><div class="ttdef"><b>Definition:</b> model.c:810</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_a8de3d99966a8a9e1e793c359877b04a3_cgraph.png" border="0" usemap="#amodel_8c_a8de3d99966a8a9e1e793c359877b04a3_cgraph" alt=""/></div>
<map name="amodel_8c_a8de3d99966a8a9e1e793c359877b04a3_cgraph" id="amodel_8c_a8de3d99966a8a9e1e793c359877b04a3_cgraph">
<area shape="rect" title="function that select sub&#45;behavioral group for integrity" alt="" coords="5,5,140,47"/>
<area shape="rect" href="model_8c.html#a99aa10b152e9998e638b721be1840266" title="function that give motor speed avoidance control" alt="" coords="188,13,241,39"/>
<area shape="rect" href="model_8c.html#a22159ec5786bcd0c518d86dc97d44b4e" title="function to make robot move" alt="" coords="289,13,344,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_a8de3d99966a8a9e1e793c359877b04a3_icgraph.png" border="0" usemap="#amodel_8c_a8de3d99966a8a9e1e793c359877b04a3_icgraph" alt=""/></div>
<map name="amodel_8c_a8de3d99966a8a9e1e793c359877b04a3_icgraph" id="amodel_8c_a8de3d99966a8a9e1e793c359877b04a3_icgraph">
<area shape="rect" title="function that select sub&#45;behavioral group for integrity" alt="" coords="372,5,507,47"/>
<area shape="rect" href="model_8c.html#a42168e51ee7171713d66b7dcbb41887a" title="function that select behavioral grroup to compute robot&#39;s speed based on input" alt="" coords="209,13,324,39"/>
<area shape="rect" href="model_8c.html#afff2d3c32d3cf9812c2844d012a17142" title="Robot model based on our work." alt="" coords="104,13,161,39"/>
<area shape="rect" href="model_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program function." alt="" coords="5,13,56,39"/>
</map>
</div>

</div>
</div>
<a id="a0ddf1224851353fc92bfbff6f499fa97" name="a0ddf1224851353fc92bfbff6f499fa97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ddf1224851353fc92bfbff6f499fa97">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main program function. </p>
<hr  />
<p> Main function</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argc</td><td>an int input non used on this function </td></tr>
    <tr><td class="paramname">argv</td><td>a string input used to say if you want to run model or keyboard control </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>: none </dd></dl>
<dl class="section note"><dt>Note</dt><dd>type run for keyboard control </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  913</span>                                {</div>
<div class="line"><span class="lineno">  914</span>    <span class="comment">// Set the libkhepera debug level - recommended for development.</span></div>
<div class="line"><span class="lineno">  915</span>    kb_set_debug_level(2);</div>
<div class="line"><span class="lineno">  916</span> </div>
<div class="line"><span class="lineno">  917</span>    printf(<span class="stringliteral">&quot;Running...\n\n&quot;</span>);</div>
<div class="line"><span class="lineno">  918</span> </div>
<div class="line"><span class="lineno">  919</span>    <span class="comment">// Init the Khepera library</span></div>
<div class="line"><span class="lineno">  920</span>    <span class="keywordflow">if</span>(kb_init(argc, argv) &lt; 0)</div>
<div class="line"><span class="lineno">  921</span>    {</div>
<div class="line"><span class="lineno">  922</span>        printf(<span class="stringliteral">&quot;ERROR: kb_init error (no privs? try sudo)\n&quot;</span>);</div>
<div class="line"><span class="lineno">  923</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  924</span>    }</div>
<div class="line"><span class="lineno">  925</span> </div>
<div class="line"><span class="lineno">  926</span>    <span class="comment">// open K-Net device and store the handle</span></div>
<div class="line"><span class="lineno">  927</span>    <a class="code hl_variable" href="model_8c.html#ab6f899a116b8a0c5179cd0f0cef9c4d6">dsPic</a>  = knet_open(<span class="stringliteral">&quot;Khepera4:dsPic&quot;</span>, KNET_BUS_I2C, 0, NULL);</div>
<div class="line"><span class="lineno">  928</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="model_8c.html#ab6f899a116b8a0c5179cd0f0cef9c4d6">dsPic</a>==NULL)</div>
<div class="line"><span class="lineno">  929</span>    {</div>
<div class="line"><span class="lineno">  930</span>        printf(<span class="stringliteral">&quot;ERROR: could not initiate comms with Kh4 dsPic\n&quot;</span>);</div>
<div class="line"><span class="lineno">  931</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  932</span>    }</div>
<div class="line"><span class="lineno">  933</span> </div>
<div class="line"><span class="lineno">  934</span>    <span class="comment">// mute Ultrasounds</span></div>
<div class="line"><span class="lineno">  935</span>    kh4_activate_us(0,<a class="code hl_variable" href="model_8c.html#ab6f899a116b8a0c5179cd0f0cef9c4d6">dsPic</a>);</div>
<div class="line"><span class="lineno">  936</span> </div>
<div class="line"><span class="lineno">  937</span>    <span class="keywordtype">int</span> r = 0;</div>
<div class="line"><span class="lineno">  938</span> </div>
<div class="line"><span class="lineno">  939</span>    <span class="keywordflow">if</span>(strcmp(argv[1],<span class="stringliteral">&quot;-r&quot;</span>)==0){</div>
<div class="line"><span class="lineno">  940</span>        r = <a class="code hl_function" href="model_8c.html#a024bee244394eeb174d636f297a7e857">display_battery</a>();</div>
<div class="line"><span class="lineno">  941</span>        r = <a class="code hl_function" href="model_8c.html#a51433c029591b579b2325061d785ca36">run</a>();</div>
<div class="line"><span class="lineno">  942</span>    }</div>
<div class="line"><span class="lineno">  943</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(strcmp(argv[1],<span class="stringliteral">&quot;-m&quot;</span>)==0){</div>
<div class="line"><span class="lineno">  944</span>        r = <a class="code hl_function" href="model_8c.html#afff2d3c32d3cf9812c2844d012a17142">model</a>();</div>
<div class="line"><span class="lineno">  945</span>    }</div>
<div class="line"><span class="lineno">  946</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  947</span>        r = <a class="code hl_function" href="model_8c.html#a88cc80b1bb6c547c836b5490c0db3099">stop_moving</a>();</div>
<div class="line"><span class="lineno">  948</span> </div>
<div class="line"><span class="lineno">  949</span> </div>
<div class="line"><span class="lineno">  950</span>    knet_close(<a class="code hl_variable" href="model_8c.html#ab6f899a116b8a0c5179cd0f0cef9c4d6">dsPic</a>);</div>
<div class="line"><span class="lineno">  951</span> </div>
<div class="line"><span class="lineno">  952</span>    <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno">  953</span>}</div>
<div class="ttc" id="amodel_8c_html_a024bee244394eeb174d636f297a7e857"><div class="ttname"><a href="model_8c.html#a024bee244394eeb174d636f297a7e857">display_battery</a></div><div class="ttdeci">int display_battery()</div><div class="ttdoc">display battery info</div><div class="ttdef"><b>Definition:</b> model.c:58</div></div>
<div class="ttc" id="amodel_8c_html_a51433c029591b579b2325061d785ca36"><div class="ttname"><a href="model_8c.html#a51433c029591b579b2325061d785ca36">run</a></div><div class="ttdeci">int run(void)</div><div class="ttdoc">Robot is controlled with zqsd input, a for quit, e for stop.</div><div class="ttdef"><b>Definition:</b> model.c:270</div></div>
<div class="ttc" id="amodel_8c_html_a88cc80b1bb6c547c836b5490c0db3099"><div class="ttname"><a href="model_8c.html#a88cc80b1bb6c547c836b5490c0db3099">stop_moving</a></div><div class="ttdeci">int stop_moving()</div><div class="ttdoc">stop robot's motor</div><div class="ttdef"><b>Definition:</b> model.c:237</div></div>
<div class="ttc" id="amodel_8c_html_afff2d3c32d3cf9812c2844d012a17142"><div class="ttname"><a href="model_8c.html#afff2d3c32d3cf9812c2844d012a17142">model</a></div><div class="ttdeci">int model(void)</div><div class="ttdoc">Robot model based on our work.</div><div class="ttdef"><b>Definition:</b> model.c:881</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_a0ddf1224851353fc92bfbff6f499fa97_cgraph.png" border="0" usemap="#amodel_8c_a0ddf1224851353fc92bfbff6f499fa97_cgraph" alt=""/></div>
<map name="amodel_8c_a0ddf1224851353fc92bfbff6f499fa97_cgraph" id="amodel_8c_a0ddf1224851353fc92bfbff6f499fa97_cgraph">
<area shape="rect" title="Main program function." alt="" coords="5,545,56,572"/>
<area shape="rect" href="model_8c.html#a024bee244394eeb174d636f297a7e857" title="display battery info" alt="" coords="104,443,215,469"/>
<area shape="rect" href="model_8c.html#afff2d3c32d3cf9812c2844d012a17142" title="Robot model based on our work." alt="" coords="131,493,188,520"/>
<area shape="rect" href="model_8c.html#a88cc80b1bb6c547c836b5490c0db3099" title="stop robot&#39;s motor" alt="" coords="284,727,380,753"/>
<area shape="rect" href="model_8c.html#a51433c029591b579b2325061d785ca36" title="Robot is controlled with zqsd input, a for quit, e for stop." alt="" coords="139,727,179,753"/>
<area shape="rect" href="model_8c.html#a42168e51ee7171713d66b7dcbb41887a" title="function that select behavioral grroup to compute robot&#39;s speed based on input" alt="" coords="275,519,389,545"/>
<area shape="rect" href="model_8c.html#a22159ec5786bcd0c518d86dc97d44b4e" title="function to make robot move" alt="" coords="1107,591,1162,617"/>
<area shape="rect" href="model_8c.html#a13b684a14e79f0144fbfdbd71bb6bc6e" title="function that make animation for death" alt="" coords="1076,47,1193,73"/>
<area shape="rect" href="model_8c.html#afdbf3026a1d40b44651f0f5f76ad7102" title="function to read and store sensors values" alt="" coords="486,363,579,389"/>
<area shape="rect" href="model_8c.html#a0d6be2c2d6d79c4bf8daa9019640e5a7" title="function that store actual for sensor values for later use" alt="" coords="263,468,401,495"/>
<area shape="rect" href="model_8c.html#a8d387ae5e71c0596ea733356d5304663" title="function that print previous and actual sensor values" alt="" coords="267,676,397,703"/>
<area shape="rect" href="model_8c.html#aa752ff33a7112b07dc5f606c72432459" title="function that print internal variables" alt="" coords="293,569,371,596"/>
<area shape="rect" href="model_8c.html#ab5b9c8b8ad9d20f047d6ff2ba808dacc" title="function that update the internal variables, compute deficits, cues and motivation" alt="" coords="285,261,379,288"/>
<area shape="rect" href="model_8c.html#a5bf656f8e903944d7b5c9e1166eb71c4" title="Winner take all for decision making." alt="" coords="273,211,391,237"/>
<area shape="rect" href="model_8c.html#a256b18090d240375c58448c8693d391b" title="function that select sub&#45;behavioral group for energy" alt="" coords="449,464,616,491"/>
<area shape="rect" href="model_8c.html#a8de3d99966a8a9e1e793c359877b04a3" title="function that select sub&#45;behavioral group for integrity" alt="" coords="465,515,600,557"/>
<area shape="rect" href="model_8c.html#a9b71e438b829313af4267abdfa355e66" title="function that select sub&#45;behavioral group for tegument" alt="" coords="461,581,604,622"/>
<area shape="rect" href="model_8c.html#a03aafff51ffe76d9da3f028bef80161b" title="function that increase physiological energy variable" alt="" coords="719,464,759,491"/>
<area shape="rect" href="model_8c.html#ac05d0fc423a7e961f72d76e0b5cdfa9e" title="function that select send mootor control for food seeking" alt="" coords="900,515,983,541"/>
<area shape="rect" href="model_8c.html#a99aa10b152e9998e638b721be1840266" title="function that give motor speed avoidance control" alt="" coords="915,565,968,592"/>
<area shape="rect" href="model_8c.html#a059df531c8f30b7a8700a6b1209fd666" title="function that increase physiological tegument variable" alt="" coords="709,616,768,643"/>
<area shape="rect" href="model_8c.html#a23bae2c9f13446680670ca6f98121f22" title="function that select send mootor control for groooming spot seeking" alt="" coords="870,667,1013,693"/>
<area shape="rect" href="model_8c.html#a1ae2fb5c7962e93ebf2074037de03226" title="function that make a grooming animation" alt="" coords="881,616,1002,643"/>
<area shape="rect" href="model_8c.html#adf91428d3c07a9e825283b794ead7f4c" title="function that set color for 4 robot leds" alt="" coords="1248,181,1319,208"/>
<area shape="rect" href="model_8c.html#a970963d2eed5a3ef973adef84ac6b735" title="function that print sensor values" alt="" coords="483,748,583,775"/>
<area shape="rect" href="model_8c.html#a4c16fb089e42438d504caa856a3c97ac" title="function that print diff between actual and previous sensor data" alt="" coords="469,799,597,841"/>
<area shape="rect" href="model_8c.html#af95500fa642cb6e2114df9f22cef1b49" title="function that print diff between actual and previous sensor data" alt="" coords="470,865,595,892"/>
<area shape="rect" href="model_8c.html#ae5cb99f889d3e3964f2107a2f0b660e3" title="function that print previous sensor values" alt="" coords="459,647,606,673"/>
<area shape="rect" href="model_8c.html#a5bf485e78be0ae99ec1a866746d462b9" title="function that print speed table" alt="" coords="461,697,604,724"/>
<area shape="rect" href="model_8c.html#a9772aee7d0e45a3f4927f4df78ee5ed7" title="function that check if there is damage based on two types of damage" alt="" coords="471,261,595,288"/>
<area shape="rect" href="model_8c.html#a507792eccb7b93c5c65436fd8f37c84b" title="function that compute cues" alt="" coords="479,43,586,69"/>
<area shape="rect" href="model_8c.html#a4839931386cb5fae8e015d2173de57e0" title="function that compute deficits for physiological internal values" alt="" coords="475,93,590,120"/>
<area shape="rect" href="model_8c.html#a60c16f1cf7d0c222208477d5810a4020" title="function that compute motivations for physiological internal values" alt="" coords="459,144,606,171"/>
<area shape="rect" href="model_8c.html#a1a58010fca227c64de0d57e5f5a8a0ea" title="function that decrease physiological variables" alt="" coords="457,195,608,237"/>
<area shape="rect" href="model_8c.html#a045b7ae19635db4c0c565677d9cd3071" title="function that compute circulare based damage" alt="" coords="691,261,787,288"/>
<area shape="rect" href="model_8c.html#aff392d961d3f5d759aa041d27780a848" title="function that compute speed based damage" alt="" coords="683,211,794,237"/>
<area shape="rect" href="model_8c.html#ad3bb390d68f40aaee86dbed19b15218c" title="function that decrease physiological variable for integrity" alt="" coords="885,261,998,288"/>
<area shape="rect" href="model_8c.html#ae44811dea0e1843c571619d692a463ac" title="function that make animation when robot has damage" alt="" coords="1069,207,1200,233"/>
<area shape="rect" href="model_8c.html#a77821830aaf0356c92238ea9d040fd9f" title="function that get mean of table and normalize it but for a float table" alt="" coords="861,211,1021,237"/>
<area shape="rect" href="model_8c.html#a762377c04f5d71221c66a23c81777f96" title="function that get mean of table and normalize it" alt="" coords="664,43,813,69"/>
</map>
</div>

</div>
</div>
<a id="afff2d3c32d3cf9812c2844d012a17142" name="afff2d3c32d3cf9812c2844d012a17142"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afff2d3c32d3cf9812c2844d012a17142">&#9670;&nbsp;</a></span>model()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int model </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Robot model based on our work. </p>
<hr  />
<p> Simple robot model</p>
<dl class="section return"><dt>Returns</dt><dd>1 is ok, 0 if error </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  881</span>               {</div>
<div class="line"><span class="lineno">  882</span>    <span class="keywordtype">int</span> iterator = 0;</div>
<div class="line"><span class="lineno">  883</span>    <a class="code hl_function" href="model_8c.html#afdbf3026a1d40b44651f0f5f76ad7102">get_sensors</a>();</div>
<div class="line"><span class="lineno">  884</span>    <span class="keywordflow">while</span>((<a class="code hl_variable" href="model_8c.html#af4f1fe78f78ef60528c944f991ceca7f">var_energy</a>&gt;0) &amp;&amp; (<a class="code hl_variable" href="model_8c.html#a5cf4f7c491e651d5fac669ae60af667d">var_tegument</a>&gt;0) &amp;&amp; (<a class="code hl_variable" href="model_8c.html#a24043223f501c4103d8ad849dcfe7416">var_integrity</a>&gt;0)){</div>
<div class="line"><span class="lineno">  885</span>        iterator++;</div>
<div class="line"><span class="lineno">  886</span>        <a class="code hl_function" href="model_8c.html#ab5b9c8b8ad9d20f047d6ff2ba808dacc">update_vars</a>(1);</div>
<div class="line"><span class="lineno">  887</span>        <span class="keywordtype">int</span> behaviral = <a class="code hl_function" href="model_8c.html#a5bf656f8e903944d7b5c9e1166eb71c4">winner_takes_all</a>(<a class="code hl_variable" href="model_8c.html#a273125eebd2bdb137979392cc775f77f">mot_energy</a>,<a class="code hl_variable" href="model_8c.html#afb3d8fe19864e05769a9cae731aa8761">mot_tegument</a>,<a class="code hl_variable" href="model_8c.html#a52c8382801478332b7788ef390ff25bc">mot_integrity</a>);</div>
<div class="line"><span class="lineno">  888</span>        <a class="code hl_function" href="model_8c.html#a42168e51ee7171713d66b7dcbb41887a">compute_speed</a>(behaviral);</div>
<div class="line"><span class="lineno">  889</span>        <a class="code hl_function" href="model_8c.html#a22159ec5786bcd0c518d86dc97d44b4e">move</a>(<a class="code hl_variable" href="model_8c.html#accee4678747584fcd7984a1a9530cc7c">left_speed</a>,<a class="code hl_variable" href="model_8c.html#a5a3dc9f0e243ebe2212e56a172122fbf">right_speed</a>);</div>
<div class="line"><span class="lineno">  890</span> </div>
<div class="line"><span class="lineno">  891</span>        <span class="keywordflow">if</span>(iterator==3){</div>
<div class="line"><span class="lineno">  892</span>            <a class="code hl_function" href="model_8c.html#aa752ff33a7112b07dc5f606c72432459">print_vars</a>();</div>
<div class="line"><span class="lineno">  893</span>            <a class="code hl_function" href="model_8c.html#a8d387ae5e71c0596ea733356d5304663">print_clean_sensor</a>();</div>
<div class="line"><span class="lineno">  894</span>            iterator=0;</div>
<div class="line"><span class="lineno">  895</span>        }</div>
<div class="line"><span class="lineno">  896</span>        <a class="code hl_function" href="model_8c.html#a0d6be2c2d6d79c4bf8daa9019640e5a7">get_sensors_history</a>();</div>
<div class="line"><span class="lineno">  897</span>        usleep(<a class="code hl_define" href="model_8c.html#a078b6c12f1ac6819cecef90ab5870276">TIME</a>); <span class="comment">// wait TIME</span></div>
<div class="line"><span class="lineno">  898</span>    }</div>
<div class="line"><span class="lineno">  899</span>    <a class="code hl_function" href="model_8c.html#a88cc80b1bb6c547c836b5490c0db3099">stop_moving</a>();</div>
<div class="line"><span class="lineno">  900</span>    <a class="code hl_function" href="model_8c.html#a13b684a14e79f0144fbfdbd71bb6bc6e">death_animation</a>();</div>
<div class="line"><span class="lineno">  901</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  902</span>}</div>
<div class="ttc" id="amodel_8c_html_a0d6be2c2d6d79c4bf8daa9019640e5a7"><div class="ttname"><a href="model_8c.html#a0d6be2c2d6d79c4bf8daa9019640e5a7">get_sensors_history</a></div><div class="ttdeci">int get_sensors_history(void)</div><div class="ttdoc">function that store actual for sensor values for later use</div><div class="ttdef"><b>Definition:</b> model.c:370</div></div>
<div class="ttc" id="amodel_8c_html_a13b684a14e79f0144fbfdbd71bb6bc6e"><div class="ttname"><a href="model_8c.html#a13b684a14e79f0144fbfdbd71bb6bc6e">death_animation</a></div><div class="ttdeci">int death_animation()</div><div class="ttdoc">function that make animation for death</div><div class="ttdef"><b>Definition:</b> model.c:154</div></div>
<div class="ttc" id="amodel_8c_html_a42168e51ee7171713d66b7dcbb41887a"><div class="ttname"><a href="model_8c.html#a42168e51ee7171713d66b7dcbb41887a">compute_speed</a></div><div class="ttdeci">int compute_speed(int bhv)</div><div class="ttdoc">function that select behavioral grroup to compute robot's speed based on input</div><div class="ttdef"><b>Definition:</b> model.c:855</div></div>
<div class="ttc" id="amodel_8c_html_a5bf656f8e903944d7b5c9e1166eb71c4"><div class="ttname"><a href="model_8c.html#a5bf656f8e903944d7b5c9e1166eb71c4">winner_takes_all</a></div><div class="ttdeci">int winner_takes_all(float m1, float m2, float m3)</div><div class="ttdoc">Winner take all for decision making.</div><div class="ttdef"><b>Definition:</b> model.c:219</div></div>
<div class="ttc" id="amodel_8c_html_a8d387ae5e71c0596ea733356d5304663"><div class="ttname"><a href="model_8c.html#a8d387ae5e71c0596ea733356d5304663">print_clean_sensor</a></div><div class="ttdeci">int print_clean_sensor(void)</div><div class="ttdoc">function that print previous and actual sensor values</div><div class="ttdef"><b>Definition:</b> model.c:707</div></div>
<div class="ttc" id="amodel_8c_html_aa752ff33a7112b07dc5f606c72432459"><div class="ttname"><a href="model_8c.html#aa752ff33a7112b07dc5f606c72432459">print_vars</a></div><div class="ttdeci">int print_vars()</div><div class="ttdoc">function that print internal variables</div><div class="ttdef"><b>Definition:</b> model.c:593</div></div>
<div class="ttc" id="amodel_8c_html_afdbf3026a1d40b44651f0f5f76ad7102"><div class="ttname"><a href="model_8c.html#afdbf3026a1d40b44651f0f5f76ad7102">get_sensors</a></div><div class="ttdeci">int get_sensors(void)</div><div class="ttdoc">function to read and store sensors values</div><div class="ttdef"><b>Definition:</b> model.c:384</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_afff2d3c32d3cf9812c2844d012a17142_cgraph.png" border="0" usemap="#amodel_8c_afff2d3c32d3cf9812c2844d012a17142_cgraph" alt=""/></div>
<map name="amodel_8c_afff2d3c32d3cf9812c2844d012a17142_cgraph" id="amodel_8c_afff2d3c32d3cf9812c2844d012a17142_cgraph">
<area shape="rect" title="Robot model based on our work." alt="" coords="5,528,63,555"/>
<area shape="rect" href="model_8c.html#a42168e51ee7171713d66b7dcbb41887a" title="function that select behavioral grroup to compute robot&#39;s speed based on input" alt="" coords="123,174,237,200"/>
<area shape="rect" href="model_8c.html#a22159ec5786bcd0c518d86dc97d44b4e" title="function to make robot move" alt="" coords="955,98,1010,124"/>
<area shape="rect" href="model_8c.html#a13b684a14e79f0144fbfdbd71bb6bc6e" title="function that make animation for death" alt="" coords="924,326,1041,352"/>
<area shape="rect" href="model_8c.html#afdbf3026a1d40b44651f0f5f76ad7102" title="function to read and store sensors values" alt="" coords="334,351,427,378"/>
<area shape="rect" href="model_8c.html#a0d6be2c2d6d79c4bf8daa9019640e5a7" title="function that store actual for sensor values for later use" alt="" coords="111,554,249,580"/>
<area shape="rect" href="model_8c.html#a8d387ae5e71c0596ea733356d5304663" title="function that print previous and actual sensor values" alt="" coords="115,722,245,748"/>
<area shape="rect" href="model_8c.html#aa752ff33a7112b07dc5f606c72432459" title="function that print internal variables" alt="" coords="141,772,219,799"/>
<area shape="rect" href="model_8c.html#a88cc80b1bb6c547c836b5490c0db3099" title="stop robot&#39;s motor" alt="" coords="132,823,228,850"/>
<area shape="rect" href="model_8c.html#ab5b9c8b8ad9d20f047d6ff2ba808dacc" title="function that update the internal variables, compute deficits, cues and motivation" alt="" coords="133,503,227,530"/>
<area shape="rect" href="model_8c.html#a5bf656f8e903944d7b5c9e1166eb71c4" title="Winner take all for decision making." alt="" coords="121,874,239,900"/>
<area shape="rect" href="model_8c.html#a256b18090d240375c58448c8693d391b" title="function that select sub&#45;behavioral group for energy" alt="" coords="297,203,464,230"/>
<area shape="rect" href="model_8c.html#a8de3d99966a8a9e1e793c359877b04a3" title="function that select sub&#45;behavioral group for integrity" alt="" coords="313,57,448,98"/>
<area shape="rect" href="model_8c.html#a9b71e438b829313af4267abdfa355e66" title="function that select sub&#45;behavioral group for tegument" alt="" coords="309,137,452,178"/>
<area shape="rect" href="model_8c.html#a03aafff51ffe76d9da3f028bef80161b" title="function that increase physiological energy variable" alt="" coords="567,199,607,226"/>
<area shape="rect" href="model_8c.html#ac05d0fc423a7e961f72d76e0b5cdfa9e" title="function that select send mootor control for food seeking" alt="" coords="748,224,831,251"/>
<area shape="rect" href="model_8c.html#a99aa10b152e9998e638b721be1840266" title="function that give motor speed avoidance control" alt="" coords="763,47,816,74"/>
<area shape="rect" href="model_8c.html#a059df531c8f30b7a8700a6b1209fd666" title="function that increase physiological tegument variable" alt="" coords="557,148,616,175"/>
<area shape="rect" href="model_8c.html#a23bae2c9f13446680670ca6f98121f22" title="function that select send mootor control for groooming spot seeking" alt="" coords="718,98,861,124"/>
<area shape="rect" href="model_8c.html#a1ae2fb5c7962e93ebf2074037de03226" title="function that make a grooming animation" alt="" coords="729,148,850,175"/>
<area shape="rect" href="model_8c.html#adf91428d3c07a9e825283b794ead7f4c" title="function that set color for 4 robot leds" alt="" coords="1096,363,1167,390"/>
<area shape="rect" href="model_8c.html#a970963d2eed5a3ef973adef84ac6b735" title="function that print sensor values" alt="" coords="331,823,431,850"/>
<area shape="rect" href="model_8c.html#a4c16fb089e42438d504caa856a3c97ac" title="function that print diff between actual and previous sensor data" alt="" coords="317,874,445,916"/>
<area shape="rect" href="model_8c.html#af95500fa642cb6e2114df9f22cef1b49" title="function that print diff between actual and previous sensor data" alt="" coords="318,940,443,967"/>
<area shape="rect" href="model_8c.html#ae5cb99f889d3e3964f2107a2f0b660e3" title="function that print previous sensor values" alt="" coords="307,722,454,748"/>
<area shape="rect" href="model_8c.html#a5bf485e78be0ae99ec1a866746d462b9" title="function that print speed table" alt="" coords="309,772,452,799"/>
<area shape="rect" href="model_8c.html#a9772aee7d0e45a3f4927f4df78ee5ed7" title="function that check if there is damage based on two types of damage" alt="" coords="319,671,443,698"/>
<area shape="rect" href="model_8c.html#a507792eccb7b93c5c65436fd8f37c84b" title="function that compute cues" alt="" coords="327,452,434,479"/>
<area shape="rect" href="model_8c.html#a4839931386cb5fae8e015d2173de57e0" title="function that compute deficits for physiological internal values" alt="" coords="323,503,438,530"/>
<area shape="rect" href="model_8c.html#a60c16f1cf7d0c222208477d5810a4020" title="function that compute motivations for physiological internal values" alt="" coords="307,554,454,580"/>
<area shape="rect" href="model_8c.html#a1a58010fca227c64de0d57e5f5a8a0ea" title="function that decrease physiological variables" alt="" coords="305,605,456,646"/>
<area shape="rect" href="model_8c.html#a045b7ae19635db4c0c565677d9cd3071" title="function that compute circulare based damage" alt="" coords="539,532,635,559"/>
<area shape="rect" href="model_8c.html#aff392d961d3f5d759aa041d27780a848" title="function that compute speed based damage" alt="" coords="531,642,642,668"/>
<area shape="rect" href="model_8c.html#ad3bb390d68f40aaee86dbed19b15218c" title="function that decrease physiological variable for integrity" alt="" coords="733,467,846,494"/>
<area shape="rect" href="model_8c.html#ae44811dea0e1843c571619d692a463ac" title="function that make animation when robot has damage" alt="" coords="917,388,1048,415"/>
<area shape="rect" href="model_8c.html#a77821830aaf0356c92238ea9d040fd9f" title="function that get mean of table and normalize it but for a float table" alt="" coords="709,642,869,668"/>
<area shape="rect" href="model_8c.html#a762377c04f5d71221c66a23c81777f96" title="function that get mean of table and normalize it" alt="" coords="512,452,661,479"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_afff2d3c32d3cf9812c2844d012a17142_icgraph.png" border="0" usemap="#amodel_8c_afff2d3c32d3cf9812c2844d012a17142_icgraph" alt=""/></div>
<map name="amodel_8c_afff2d3c32d3cf9812c2844d012a17142_icgraph" id="amodel_8c_afff2d3c32d3cf9812c2844d012a17142_icgraph">
<area shape="rect" title="Robot model based on our work." alt="" coords="104,5,161,32"/>
<area shape="rect" href="model_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program function." alt="" coords="5,5,56,32"/>
</map>
</div>

</div>
</div>
<a id="a22159ec5786bcd0c518d86dc97d44b4e" name="a22159ec5786bcd0c518d86dc97d44b4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22159ec5786bcd0c518d86dc97d44b4e">&#9670;&nbsp;</a></span>move()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int move </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>motor_left</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>motor_right</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function to make robot move </p>
<hr  />
<p> Make robot move </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">motor_left</td><td>speed of robot left wheel in [-1.0,1.0] range </td></tr>
    <tr><td class="paramname">motor_right</td><td>speed of robot right wheel in [-1.0,1.0] range </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>: none </dd></dl>
<dl class="section note"><dt>Note</dt><dd>speed is computed with SPEED int, value is set to 200 </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  256</span>                                             {</div>
<div class="line"><span class="lineno">  257</span>    kh4_SetMode(kh4RegSpeed, <a class="code hl_variable" href="model_8c.html#ab6f899a116b8a0c5179cd0f0cef9c4d6">dsPic</a>);</div>
<div class="line"><span class="lineno">  258</span>    <span class="keywordflow">if</span> (kh4_set_speed(motor_left*<a class="code hl_define" href="model_8c.html#aac3553b3932cbfeeac4526ce7ca0336b">SPEED</a>, motor_right*<a class="code hl_define" href="model_8c.html#aac3553b3932cbfeeac4526ce7ca0336b">SPEED</a>, <a class="code hl_variable" href="model_8c.html#ab6f899a116b8a0c5179cd0f0cef9c4d6">dsPic</a>) &lt; 0){</div>
<div class="line"><span class="lineno">  259</span>        printf(<span class="stringliteral">&quot;ERROR: Fail on set_speed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  260</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  261</span>    }</div>
<div class="line"><span class="lineno">  262</span>}</div>
<div class="ttc" id="amodel_8c_html_aac3553b3932cbfeeac4526ce7ca0336b"><div class="ttname"><a href="model_8c.html#aac3553b3932cbfeeac4526ce7ca0336b">SPEED</a></div><div class="ttdeci">#define SPEED</div><div class="ttdoc">speed basic input</div><div class="ttdef"><b>Definition:</b> model.c:17</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_a22159ec5786bcd0c518d86dc97d44b4e_icgraph.png" border="0" usemap="#amodel_8c_a22159ec5786bcd0c518d86dc97d44b4e_icgraph" alt=""/></div>
<map name="amodel_8c_a22159ec5786bcd0c518d86dc97d44b4e_icgraph" id="amodel_8c_a22159ec5786bcd0c518d86dc97d44b4e_icgraph">
<area shape="rect" title="function to make robot move" alt="" coords="947,132,1001,159"/>
<area shape="rect" href="model_8c.html#a99aa10b152e9998e638b721be1840266" title="function that give motor speed avoidance control" alt="" coords="811,157,865,184"/>
<area shape="rect" href="model_8c.html#afff2d3c32d3cf9812c2844d012a17142" title="Robot model based on our work." alt="" coords="104,212,161,239"/>
<area shape="rect" href="model_8c.html#a1ae2fb5c7962e93ebf2074037de03226" title="function that make a grooming animation" alt="" coords="777,5,899,32"/>
<area shape="rect" href="model_8c.html#a51433c029591b579b2325061d785ca36" title="Robot is controlled with zqsd input, a for quit, e for stop." alt="" coords="423,263,463,289"/>
<area shape="rect" href="model_8c.html#ac05d0fc423a7e961f72d76e0b5cdfa9e" title="function that select send mootor control for food seeking" alt="" coords="797,107,879,133"/>
<area shape="rect" href="model_8c.html#a23bae2c9f13446680670ca6f98121f22" title="function that select send mootor control for groooming spot seeking" alt="" coords="575,56,717,83"/>
<area shape="rect" href="model_8c.html#a8de3d99966a8a9e1e793c359877b04a3" title="function that select sub&#45;behavioral group for integrity" alt="" coords="376,146,511,187"/>
<area shape="rect" href="model_8c.html#a42168e51ee7171713d66b7dcbb41887a" title="function that select behavioral grroup to compute robot&#39;s speed based on input" alt="" coords="209,124,324,151"/>
<area shape="rect" href="model_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program function." alt="" coords="5,237,56,264"/>
<area shape="rect" href="model_8c.html#a059df531c8f30b7a8700a6b1209fd666" title="function that increase physiological tegument variable" alt="" coords="617,5,675,32"/>
<area shape="rect" href="model_8c.html#a9b71e438b829313af4267abdfa355e66" title="function that select sub&#45;behavioral group for tegument" alt="" coords="372,29,515,70"/>
<area shape="rect" href="model_8c.html#a256b18090d240375c58448c8693d391b" title="function that select sub&#45;behavioral group for energy" alt="" coords="563,107,729,133"/>
</map>
</div>

</div>
</div>
<a id="a8d387ae5e71c0596ea733356d5304663" name="a8d387ae5e71c0596ea733356d5304663"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d387ae5e71c0596ea733356d5304663">&#9670;&nbsp;</a></span>print_clean_sensor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int print_clean_sensor </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function that print previous and actual sensor values </p>
<hr  />
<p> Clean sensors infos print</p>
<dl class="section return"><dt>Returns</dt><dd>0 when ok </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  707</span>                            {</div>
<div class="line"><span class="lineno">  708</span>    <a class="code hl_function" href="model_8c.html#ae5cb99f889d3e3964f2107a2f0b660e3">print_sensors_history</a>();</div>
<div class="line"><span class="lineno">  709</span>    <a class="code hl_function" href="model_8c.html#a970963d2eed5a3ef973adef84ac6b735">print_sensors</a>();</div>
<div class="line"><span class="lineno">  710</span>    <a class="code hl_function" href="model_8c.html#af95500fa642cb6e2114df9f22cef1b49">print_sensors_diff</a>();</div>
<div class="line"><span class="lineno">  711</span>    <a class="code hl_function" href="model_8c.html#a5bf485e78be0ae99ec1a866746d462b9">print_sensors_speed</a>();</div>
<div class="line"><span class="lineno">  712</span>    <a class="code hl_function" href="model_8c.html#a4c16fb089e42438d504caa856a3c97ac">print_sensors_circ_speed</a>();</div>
<div class="line"><span class="lineno">  713</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  714</span>}</div>
<div class="ttc" id="amodel_8c_html_a4c16fb089e42438d504caa856a3c97ac"><div class="ttname"><a href="model_8c.html#a4c16fb089e42438d504caa856a3c97ac">print_sensors_circ_speed</a></div><div class="ttdeci">int print_sensors_circ_speed(void)</div><div class="ttdoc">function that print diff between actual and previous sensor data</div><div class="ttdef"><b>Definition:</b> model.c:688</div></div>
<div class="ttc" id="amodel_8c_html_a5bf485e78be0ae99ec1a866746d462b9"><div class="ttname"><a href="model_8c.html#a5bf485e78be0ae99ec1a866746d462b9">print_sensors_speed</a></div><div class="ttdeci">int print_sensors_speed(void)</div><div class="ttdoc">function that print speed table</div><div class="ttdef"><b>Definition:</b> model.c:670</div></div>
<div class="ttc" id="amodel_8c_html_a970963d2eed5a3ef973adef84ac6b735"><div class="ttname"><a href="model_8c.html#a970963d2eed5a3ef973adef84ac6b735">print_sensors</a></div><div class="ttdeci">int print_sensors(void)</div><div class="ttdoc">function that print sensor values</div><div class="ttdef"><b>Definition:</b> model.c:615</div></div>
<div class="ttc" id="amodel_8c_html_ae5cb99f889d3e3964f2107a2f0b660e3"><div class="ttname"><a href="model_8c.html#ae5cb99f889d3e3964f2107a2f0b660e3">print_sensors_history</a></div><div class="ttdeci">int print_sensors_history(void)</div><div class="ttdoc">function that print previous sensor values</div><div class="ttdef"><b>Definition:</b> model.c:633</div></div>
<div class="ttc" id="amodel_8c_html_af95500fa642cb6e2114df9f22cef1b49"><div class="ttname"><a href="model_8c.html#af95500fa642cb6e2114df9f22cef1b49">print_sensors_diff</a></div><div class="ttdeci">int print_sensors_diff(void)</div><div class="ttdoc">function that print diff between actual and previous sensor data</div><div class="ttdef"><b>Definition:</b> model.c:651</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_a8d387ae5e71c0596ea733356d5304663_cgraph.png" border="0" usemap="#amodel_8c_a8d387ae5e71c0596ea733356d5304663_cgraph" alt=""/></div>
<map name="amodel_8c_a8d387ae5e71c0596ea733356d5304663_cgraph" id="amodel_8c_a8d387ae5e71c0596ea733356d5304663_cgraph">
<area shape="rect" title="function that print previous and actual sensor values" alt="" coords="5,123,136,149"/>
<area shape="rect" href="model_8c.html#a970963d2eed5a3ef973adef84ac6b735" title="function that print sensor values" alt="" coords="207,5,307,32"/>
<area shape="rect" href="model_8c.html#a4c16fb089e42438d504caa856a3c97ac" title="function that print diff between actual and previous sensor data" alt="" coords="193,57,321,98"/>
<area shape="rect" href="model_8c.html#af95500fa642cb6e2114df9f22cef1b49" title="function that print diff between actual and previous sensor data" alt="" coords="195,123,320,149"/>
<area shape="rect" href="model_8c.html#ae5cb99f889d3e3964f2107a2f0b660e3" title="function that print previous sensor values" alt="" coords="184,173,331,200"/>
<area shape="rect" href="model_8c.html#a5bf485e78be0ae99ec1a866746d462b9" title="function that print speed table" alt="" coords="186,224,329,251"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_a8d387ae5e71c0596ea733356d5304663_icgraph.png" border="0" usemap="#amodel_8c_a8d387ae5e71c0596ea733356d5304663_icgraph" alt=""/></div>
<map name="amodel_8c_a8d387ae5e71c0596ea733356d5304663_icgraph" id="amodel_8c_a8d387ae5e71c0596ea733356d5304663_icgraph">
<area shape="rect" title="function that print previous and actual sensor values" alt="" coords="209,5,340,32"/>
<area shape="rect" href="model_8c.html#afff2d3c32d3cf9812c2844d012a17142" title="Robot model based on our work." alt="" coords="104,5,161,32"/>
<area shape="rect" href="model_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program function." alt="" coords="5,5,56,32"/>
</map>
</div>

</div>
</div>
<a id="a970963d2eed5a3ef973adef84ac6b735" name="a970963d2eed5a3ef973adef84ac6b735"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a970963d2eed5a3ef973adef84ac6b735">&#9670;&nbsp;</a></span>print_sensors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int print_sensors </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function that print sensor values </p>
<hr  />
<p> Print sensors</p>
<dl class="section return"><dt>Returns</dt><dd>0 when ok </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  615</span>                       {</div>
<div class="line"><span class="lineno">  616</span>    <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  617</span>    printf(<span class="stringliteral">&quot;************************SENSOR VALUES*************************\n&quot;</span>);</div>
<div class="line"><span class="lineno">  618</span>    printf(<span class="stringliteral">&quot;**************************************************************\n&quot;</span>);</div>
<div class="line"><span class="lineno">  619</span>    printf(<span class="stringliteral">&quot;\t\t&quot;</span>);</div>
<div class="line"><span class="lineno">  620</span>    <span class="keywordflow">for</span> (i=0; i&lt;8; i++){</div>
<div class="line"><span class="lineno">  621</span>        printf(<span class="stringliteral">&quot; %d &quot;</span>, <a class="code hl_variable" href="model_8c.html#a1ee85ec09b3bcd5c3e9ef979cbf91013">sensors</a>[i]);</div>
<div class="line"><span class="lineno">  622</span>    }</div>
<div class="line"><span class="lineno">  623</span>    printf(<span class="stringliteral">&quot;\n**************************************************************\n&quot;</span>);</div>
<div class="line"><span class="lineno">  624</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  625</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_a970963d2eed5a3ef973adef84ac6b735_icgraph.png" border="0" usemap="#amodel_8c_a970963d2eed5a3ef973adef84ac6b735_icgraph" alt=""/></div>
<map name="amodel_8c_a970963d2eed5a3ef973adef84ac6b735_icgraph" id="amodel_8c_a970963d2eed5a3ef973adef84ac6b735_icgraph">
<area shape="rect" title="function that print sensor values" alt="" coords="388,5,488,32"/>
<area shape="rect" href="model_8c.html#a8d387ae5e71c0596ea733356d5304663" title="function that print previous and actual sensor values" alt="" coords="209,5,340,32"/>
<area shape="rect" href="model_8c.html#afff2d3c32d3cf9812c2844d012a17142" title="Robot model based on our work." alt="" coords="104,5,161,32"/>
<area shape="rect" href="model_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program function." alt="" coords="5,5,56,32"/>
</map>
</div>

</div>
</div>
<a id="a4c16fb089e42438d504caa856a3c97ac" name="a4c16fb089e42438d504caa856a3c97ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c16fb089e42438d504caa856a3c97ac">&#9670;&nbsp;</a></span>print_sensors_circ_speed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int print_sensors_circ_speed </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function that print diff between actual and previous sensor data </p>
<hr  />
<p> Print sensor history and acutal diff</p>
<dl class="section return"><dt>Returns</dt><dd>0 when ok </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  688</span>                                  {</div>
<div class="line"><span class="lineno">  689</span>    <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  690</span>    printf(<span class="stringliteral">&quot;*********************CIRC SPEED VALUES************************\n&quot;</span>);</div>
<div class="line"><span class="lineno">  691</span>    printf(<span class="stringliteral">&quot;**************************************************************\n&quot;</span>);</div>
<div class="line"><span class="lineno">  692</span>    printf(<span class="stringliteral">&quot;\t\t&quot;</span>);</div>
<div class="line"><span class="lineno">  693</span>    <span class="keywordflow">for</span> (i=0; i&lt;7; i++){</div>
<div class="line"><span class="lineno">  694</span>        printf(<span class="stringliteral">&quot; %.2f &quot;</span>, <a class="code hl_variable" href="model_8c.html#aca8cf00b69caa2362577672a01a6d7b8">circ_speed</a>[i]);</div>
<div class="line"><span class="lineno">  695</span>    }</div>
<div class="line"><span class="lineno">  696</span>    printf(<span class="stringliteral">&quot;\n**************************************************************\n&quot;</span>);</div>
<div class="line"><span class="lineno">  697</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  698</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_a4c16fb089e42438d504caa856a3c97ac_icgraph.png" border="0" usemap="#amodel_8c_a4c16fb089e42438d504caa856a3c97ac_icgraph" alt=""/></div>
<map name="amodel_8c_a4c16fb089e42438d504caa856a3c97ac_icgraph" id="amodel_8c_a4c16fb089e42438d504caa856a3c97ac_icgraph">
<area shape="rect" title="function that print diff between actual and previous sensor data" alt="" coords="388,5,516,47"/>
<area shape="rect" href="model_8c.html#a8d387ae5e71c0596ea733356d5304663" title="function that print previous and actual sensor values" alt="" coords="209,13,340,39"/>
<area shape="rect" href="model_8c.html#afff2d3c32d3cf9812c2844d012a17142" title="Robot model based on our work." alt="" coords="104,13,161,39"/>
<area shape="rect" href="model_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program function." alt="" coords="5,13,56,39"/>
</map>
</div>

</div>
</div>
<a id="af95500fa642cb6e2114df9f22cef1b49" name="af95500fa642cb6e2114df9f22cef1b49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af95500fa642cb6e2114df9f22cef1b49">&#9670;&nbsp;</a></span>print_sensors_diff()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int print_sensors_diff </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function that print diff between actual and previous sensor data </p>
<hr  />
<p> Print sensor history and acutal diff</p>
<dl class="section return"><dt>Returns</dt><dd>0 when ok </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  651</span>                            {</div>
<div class="line"><span class="lineno">  652</span>    <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  653</span>    printf(<span class="stringliteral">&quot;************************DIFF VALUES*************************\n&quot;</span>);</div>
<div class="line"><span class="lineno">  654</span>    printf(<span class="stringliteral">&quot;**************************************************************\n&quot;</span>);</div>
<div class="line"><span class="lineno">  655</span>    printf(<span class="stringliteral">&quot;\t\t&quot;</span>);</div>
<div class="line"><span class="lineno">  656</span>    <span class="keywordflow">for</span> (i=0; i&lt;8; i++){</div>
<div class="line"><span class="lineno">  657</span>        printf(<span class="stringliteral">&quot; %d &quot;</span>, <a class="code hl_variable" href="model_8c.html#a1ee85ec09b3bcd5c3e9ef979cbf91013">sensors</a>[i]-<a class="code hl_variable" href="model_8c.html#a2975e70127642bfc88c4783c37eca03b">prev_sensors</a>[i]);</div>
<div class="line"><span class="lineno">  658</span>    }</div>
<div class="line"><span class="lineno">  659</span>    printf(<span class="stringliteral">&quot;\n**************************************************************\n&quot;</span>);</div>
<div class="line"><span class="lineno">  660</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  661</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_af95500fa642cb6e2114df9f22cef1b49_icgraph.png" border="0" usemap="#amodel_8c_af95500fa642cb6e2114df9f22cef1b49_icgraph" alt=""/></div>
<map name="amodel_8c_af95500fa642cb6e2114df9f22cef1b49_icgraph" id="amodel_8c_af95500fa642cb6e2114df9f22cef1b49_icgraph">
<area shape="rect" title="function that print diff between actual and previous sensor data" alt="" coords="388,5,513,32"/>
<area shape="rect" href="model_8c.html#a8d387ae5e71c0596ea733356d5304663" title="function that print previous and actual sensor values" alt="" coords="209,5,340,32"/>
<area shape="rect" href="model_8c.html#afff2d3c32d3cf9812c2844d012a17142" title="Robot model based on our work." alt="" coords="104,5,161,32"/>
<area shape="rect" href="model_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program function." alt="" coords="5,5,56,32"/>
</map>
</div>

</div>
</div>
<a id="ae5cb99f889d3e3964f2107a2f0b660e3" name="ae5cb99f889d3e3964f2107a2f0b660e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5cb99f889d3e3964f2107a2f0b660e3">&#9670;&nbsp;</a></span>print_sensors_history()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int print_sensors_history </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function that print previous sensor values </p>
<hr  />
<p> Print sensor history</p>
<dl class="section return"><dt>Returns</dt><dd>0 when ok </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  633</span>                               {</div>
<div class="line"><span class="lineno">  634</span>    <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  635</span>    printf(<span class="stringliteral">&quot;************************HIST VALUES*************************\n&quot;</span>);</div>
<div class="line"><span class="lineno">  636</span>    printf(<span class="stringliteral">&quot;**************************************************************\n&quot;</span>);</div>
<div class="line"><span class="lineno">  637</span>    printf(<span class="stringliteral">&quot;\t\t&quot;</span>);</div>
<div class="line"><span class="lineno">  638</span>    <span class="keywordflow">for</span> (i=0; i&lt;8; i++){</div>
<div class="line"><span class="lineno">  639</span>        printf(<span class="stringliteral">&quot; %d &quot;</span>, <a class="code hl_variable" href="model_8c.html#a2975e70127642bfc88c4783c37eca03b">prev_sensors</a>[i]);</div>
<div class="line"><span class="lineno">  640</span>    }</div>
<div class="line"><span class="lineno">  641</span>    printf(<span class="stringliteral">&quot;\n**************************************************************\n&quot;</span>);</div>
<div class="line"><span class="lineno">  642</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  643</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_ae5cb99f889d3e3964f2107a2f0b660e3_icgraph.png" border="0" usemap="#amodel_8c_ae5cb99f889d3e3964f2107a2f0b660e3_icgraph" alt=""/></div>
<map name="amodel_8c_ae5cb99f889d3e3964f2107a2f0b660e3_icgraph" id="amodel_8c_ae5cb99f889d3e3964f2107a2f0b660e3_icgraph">
<area shape="rect" title="function that print previous sensor values" alt="" coords="388,5,535,32"/>
<area shape="rect" href="model_8c.html#a8d387ae5e71c0596ea733356d5304663" title="function that print previous and actual sensor values" alt="" coords="209,5,340,32"/>
<area shape="rect" href="model_8c.html#afff2d3c32d3cf9812c2844d012a17142" title="Robot model based on our work." alt="" coords="104,5,161,32"/>
<area shape="rect" href="model_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program function." alt="" coords="5,5,56,32"/>
</map>
</div>

</div>
</div>
<a id="a5bf485e78be0ae99ec1a866746d462b9" name="a5bf485e78be0ae99ec1a866746d462b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bf485e78be0ae99ec1a866746d462b9">&#9670;&nbsp;</a></span>print_sensors_speed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int print_sensors_speed </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function that print speed table </p>
<hr  />
<p> Print sensor speed</p>
<dl class="section return"><dt>Returns</dt><dd>0 when ok </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  670</span>                             {</div>
<div class="line"><span class="lineno">  671</span>    <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  672</span>    printf(<span class="stringliteral">&quot;*************************SPEED VALUES*************************\n&quot;</span>);</div>
<div class="line"><span class="lineno">  673</span>    printf(<span class="stringliteral">&quot;**************************************************************\n&quot;</span>);</div>
<div class="line"><span class="lineno">  674</span>    printf(<span class="stringliteral">&quot;\t&quot;</span>);</div>
<div class="line"><span class="lineno">  675</span>    <span class="keywordflow">for</span> (i=0; i&lt;8; i++){</div>
<div class="line"><span class="lineno">  676</span>        printf(<span class="stringliteral">&quot; %.2f &quot;</span>, <a class="code hl_variable" href="model_8c.html#a074e970c2069dbb55b2f964e3e1b5a11">speed</a>[i]);</div>
<div class="line"><span class="lineno">  677</span>    }</div>
<div class="line"><span class="lineno">  678</span>    printf(<span class="stringliteral">&quot;\n**************************************************************\n&quot;</span>);</div>
<div class="line"><span class="lineno">  679</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  680</span>}</div>
<div class="ttc" id="amodel_8c_html_a074e970c2069dbb55b2f964e3e1b5a11"><div class="ttname"><a href="model_8c.html#a074e970c2069dbb55b2f964e3e1b5a11">speed</a></div><div class="ttdeci">float speed[8]</div><div class="ttdoc">table for speeed based on IR sensor values</div><div class="ttdef"><b>Definition:</b> model.c:49</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_a5bf485e78be0ae99ec1a866746d462b9_icgraph.png" border="0" usemap="#amodel_8c_a5bf485e78be0ae99ec1a866746d462b9_icgraph" alt=""/></div>
<map name="amodel_8c_a5bf485e78be0ae99ec1a866746d462b9_icgraph" id="amodel_8c_a5bf485e78be0ae99ec1a866746d462b9_icgraph">
<area shape="rect" title="function that print speed table" alt="" coords="388,5,531,32"/>
<area shape="rect" href="model_8c.html#a8d387ae5e71c0596ea733356d5304663" title="function that print previous and actual sensor values" alt="" coords="209,5,340,32"/>
<area shape="rect" href="model_8c.html#afff2d3c32d3cf9812c2844d012a17142" title="Robot model based on our work." alt="" coords="104,5,161,32"/>
<area shape="rect" href="model_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program function." alt="" coords="5,5,56,32"/>
</map>
</div>

</div>
</div>
<a id="aa752ff33a7112b07dc5f606c72432459" name="aa752ff33a7112b07dc5f606c72432459"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa752ff33a7112b07dc5f606c72432459">&#9670;&nbsp;</a></span>print_vars()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int print_vars </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function that print internal variables </p>
<hr  />
<p> Print internal variables</p>
<dl class="section return"><dt>Returns</dt><dd>0 when ok </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  593</span>                {</div>
<div class="line"><span class="lineno">  594</span>    system(<span class="stringliteral">&quot;clear&quot;</span>); <span class="comment">/*clear output screen*/</span></div>
<div class="line"><span class="lineno">  595</span>    printf(<span class="stringliteral">&quot;************************MODEL UPDATE**************************\n&quot;</span>);</div>
<div class="line"><span class="lineno">  596</span>    printf(<span class="stringliteral">&quot;**************************************************************\n&quot;</span>);</div>
<div class="line"><span class="lineno">  597</span>    printf(<span class="stringliteral">&quot;energy= %.2f | tegument = %.2f | integrity = %.2f\n&quot;</span>, <a class="code hl_variable" href="model_8c.html#af4f1fe78f78ef60528c944f991ceca7f">var_energy</a>*100.0, <a class="code hl_variable" href="model_8c.html#a5cf4f7c491e651d5fac669ae60af667d">var_tegument</a>*100.0, <a class="code hl_variable" href="model_8c.html#a24043223f501c4103d8ad849dcfe7416">var_integrity</a>*100.0);</div>
<div class="line"><span class="lineno">  598</span>    printf(<span class="stringliteral">&quot;**************************************************************\n&quot;</span>);</div>
<div class="line"><span class="lineno">  599</span>    printf(<span class="stringliteral">&quot;def= %.2f | def = %.2f | def = %.2f\n&quot;</span>, <a class="code hl_variable" href="model_8c.html#acc0df53ad73ec6a6bd79841b15504a66">def_energy</a>*100.0, <a class="code hl_variable" href="model_8c.html#a5f9eb877fe2738dae536a6f5a0fb1080">def_tegument</a>*100.0, <a class="code hl_variable" href="model_8c.html#a0689660b72c446b95cd5c9d9dc6a91dd">def_integrity</a>*100.0);</div>
<div class="line"><span class="lineno">  600</span>    printf(<span class="stringliteral">&quot;**************************************************************\n&quot;</span>);</div>
<div class="line"><span class="lineno">  601</span>    printf(<span class="stringliteral">&quot;cue= %.2f | cue = %.2f | cue = %.2f\n&quot;</span>, <a class="code hl_variable" href="model_8c.html#a058d1dbc8d7d4223a3071bd3a7e46b9f">cue_energy</a>*100.0, <a class="code hl_variable" href="model_8c.html#a4c429a7e08bb24d3367e060a10cb98ca">cue_tegument</a>*100, <a class="code hl_variable" href="model_8c.html#ad2c9a6bd1bf91b6fd3c76584b941da17">cue_integrity</a>*100.0);</div>
<div class="line"><span class="lineno">  602</span>    printf(<span class="stringliteral">&quot;**************************************************************\n&quot;</span>);</div>
<div class="line"><span class="lineno">  603</span>    printf(<span class="stringliteral">&quot;mot= %.2f | mot = %.2f | mot = %.2f\n&quot;</span>, <a class="code hl_variable" href="model_8c.html#a273125eebd2bdb137979392cc775f77f">mot_energy</a>*100.0, <a class="code hl_variable" href="model_8c.html#afb3d8fe19864e05769a9cae731aa8761">mot_tegument</a>*100.0, <a class="code hl_variable" href="model_8c.html#a52c8382801478332b7788ef390ff25bc">mot_integrity</a>*100.0);</div>
<div class="line"><span class="lineno">  604</span>    printf(<span class="stringliteral">&quot;**************************************************************\n&quot;</span>);</div>
<div class="line"><span class="lineno">  605</span> </div>
<div class="line"><span class="lineno">  606</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  607</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_aa752ff33a7112b07dc5f606c72432459_icgraph.png" border="0" usemap="#amodel_8c_aa752ff33a7112b07dc5f606c72432459_icgraph" alt=""/></div>
<map name="amodel_8c_aa752ff33a7112b07dc5f606c72432459_icgraph" id="amodel_8c_aa752ff33a7112b07dc5f606c72432459_icgraph">
<area shape="rect" title="function that print internal variables" alt="" coords="209,5,288,32"/>
<area shape="rect" href="model_8c.html#afff2d3c32d3cf9812c2844d012a17142" title="Robot model based on our work." alt="" coords="104,5,161,32"/>
<area shape="rect" href="model_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program function." alt="" coords="5,5,56,32"/>
</map>
</div>

</div>
</div>
<a id="ae0c3fbb5b2d6e17fcd9f47246bca839d" name="ae0c3fbb5b2d6e17fcd9f47246bca839d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0c3fbb5b2d6e17fcd9f47246bca839d">&#9670;&nbsp;</a></span>read_and_print_sensors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int read_and_print_sensors </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function to read and print robot's ir and us sensors </p>
<hr  />
<p> Read and print our sensors</p>
<dl class="section return"><dt>Returns</dt><dd>0 if ok, -2 if error </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  334</span>                                {</div>
<div class="line"><span class="lineno">  335</span>    <span class="keywordtype">char</span> Buffer[<a class="code hl_define" href="model_8c.html#a84977424b647dd9248ebf1436aaa1cc8">MAXBUFFERSIZE</a>], buf[<a class="code hl_define" href="model_8c.html#a84977424b647dd9248ebf1436aaa1cc8">MAXBUFFERSIZE</a>];</div>
<div class="line"><span class="lineno">  336</span>    <span class="keywordtype">int</span> i, sensor, ret;</div>
<div class="line"><span class="lineno">  337</span>    <span class="keywordflow">if</span>(kh4_proximity_ir((<span class="keywordtype">char</span> *)Buffer, <a class="code hl_variable" href="model_8c.html#ab6f899a116b8a0c5179cd0f0cef9c4d6">dsPic</a>)&gt;=0){ </div>
<div class="line"><span class="lineno">  338</span>        printf(<span class="stringliteral">&quot;Reading sensor proximity \n&quot;</span>);</div>
<div class="line"><span class="lineno">  339</span>        <span class="keywordflow">for</span> (i=0;i&lt;12;i++){</div>
<div class="line"><span class="lineno">  340</span>            sensor=(Buffer[i*2] | Buffer[i*2+1]&lt;&lt;8);</div>
<div class="line"><span class="lineno">  341</span>            printf(<span class="stringliteral">&quot; %d &quot;</span>,sensor);</div>
<div class="line"><span class="lineno">  342</span>        }</div>
<div class="line"><span class="lineno">  343</span>        printf(<span class="stringliteral">&quot;\n&quot;</span>);                                                                       </div>
<div class="line"><span class="lineno">  344</span>        ret = 0;    </div>
<div class="line"><span class="lineno">  345</span>    }</div>
<div class="line"><span class="lineno">  346</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  347</span>        ret = -2;</div>
<div class="line"><span class="lineno">  348</span> </div>
<div class="line"><span class="lineno">  349</span>    <span class="keywordflow">if</span>(kh4_measure_us((<span class="keywordtype">char</span> *)Buffer, <a class="code hl_variable" href="model_8c.html#ab6f899a116b8a0c5179cd0f0cef9c4d6">dsPic</a>)&gt;=0)</div>
<div class="line"><span class="lineno">  350</span>    {</div>
<div class="line"><span class="lineno">  351</span>        sprintf(buf,<span class="stringliteral">&quot;g&quot;</span>);</div>
<div class="line"><span class="lineno">  352</span>        printf(<span class="stringliteral">&quot;Reading sensor us \n&quot;</span>);</div>
<div class="line"><span class="lineno">  353</span>        <span class="keywordflow">for</span> (i=0;i&lt;5;i++) {</div>
<div class="line"><span class="lineno">  354</span>            printf(<span class="stringliteral">&quot; %d &quot;</span>,Buffer[i*2] | Buffer[i*2+1]&lt;&lt;8);</div>
<div class="line"><span class="lineno">  355</span>        }</div>
<div class="line"><span class="lineno">  356</span>        printf(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno">  357</span>        ret = 0;</div>
<div class="line"><span class="lineno">  358</span>    }</div>
<div class="line"><span class="lineno">  359</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  360</span>        ret = -2;</div>
<div class="line"><span class="lineno">  361</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  362</span>}</div>
<div class="ttc" id="amodel_8c_html_a84977424b647dd9248ebf1436aaa1cc8"><div class="ttname"><a href="model_8c.html#a84977424b647dd9248ebf1436aaa1cc8">MAXBUFFERSIZE</a></div><div class="ttdeci">#define MAXBUFFERSIZE</div><div class="ttdoc">Buffer size for robot communication.</div><div class="ttdef"><b>Definition:</b> model.c:19</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a51433c029591b579b2325061d785ca36" name="a51433c029591b579b2325061d785ca36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51433c029591b579b2325061d785ca36">&#9670;&nbsp;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int run </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Robot is controlled with zqsd input, a for quit, e for stop. </p>
<hr  />
<p> Control robot with keyboard</p>
<dl class="section return"><dt>Returns</dt><dd>: none </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  270</span>             {</div>
<div class="line"><span class="lineno">  271</span>    <span class="keywordtype">char</span> ctrl;  <span class="comment">// char used for keyboard input</span></div>
<div class="line"><span class="lineno">  272</span>    ctrl = <span class="charliteral">&#39;r&#39;</span>;</div>
<div class="line"><span class="lineno">  273</span>    <span class="keywordflow">while</span>(ctrl!=<span class="charliteral">&#39;a&#39;</span>){</div>
<div class="line"><span class="lineno">  274</span>        printf(<span class="stringliteral">&quot;z,q,s,d for robot control, e for stop, a for exit\n&quot;</span>);</div>
<div class="line"><span class="lineno">  275</span>        scanf(<span class="stringliteral">&quot;%c&quot;</span>, &amp;ctrl);</div>
<div class="line"><span class="lineno">  276</span>        printf(<span class="stringliteral">&quot;%c \n&quot;</span>, ctrl);</div>
<div class="line"><span class="lineno">  277</span>        <span class="keywordflow">switch</span>(ctrl){</div>
<div class="line"><span class="lineno">  278</span>            <span class="keywordflow">case</span> <span class="charliteral">&#39;z&#39;</span>:</div>
<div class="line"><span class="lineno">  279</span>                printf(<span class="stringliteral">&quot;Move forward\n&quot;</span>);</div>
<div class="line"><span class="lineno">  280</span>                <a class="code hl_function" href="model_8c.html#a22159ec5786bcd0c518d86dc97d44b4e">move</a>(1.0,1.0);</div>
<div class="line"><span class="lineno">  281</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  282</span>            <span class="keywordflow">case</span> <span class="charliteral">&#39;q&#39;</span>:</div>
<div class="line"><span class="lineno">  283</span>                printf(<span class="stringliteral">&quot;Move left\n&quot;</span>);</div>
<div class="line"><span class="lineno">  284</span>                <a class="code hl_function" href="model_8c.html#a22159ec5786bcd0c518d86dc97d44b4e">move</a>(-1.0,1.0);</div>
<div class="line"><span class="lineno">  285</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  286</span>            <span class="keywordflow">case</span> <span class="charliteral">&#39;s&#39;</span>:</div>
<div class="line"><span class="lineno">  287</span>                printf(<span class="stringliteral">&quot;Move backwardt\n&quot;</span>);</div>
<div class="line"><span class="lineno">  288</span>                <a class="code hl_function" href="model_8c.html#a22159ec5786bcd0c518d86dc97d44b4e">move</a>(-1.0,-1.0);</div>
<div class="line"><span class="lineno">  289</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  290</span>            <span class="keywordflow">case</span> <span class="charliteral">&#39;d&#39;</span>:</div>
<div class="line"><span class="lineno">  291</span>                printf(<span class="stringliteral">&quot;Move right\n&quot;</span>);</div>
<div class="line"><span class="lineno">  292</span>                <a class="code hl_function" href="model_8c.html#a22159ec5786bcd0c518d86dc97d44b4e">move</a>(1.0,-1.0);</div>
<div class="line"><span class="lineno">  293</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  294</span>            <span class="keywordflow">case</span> <span class="charliteral">&#39;e&#39;</span>:</div>
<div class="line"><span class="lineno">  295</span>                <a class="code hl_function" href="model_8c.html#a88cc80b1bb6c547c836b5490c0db3099">stop_moving</a>();</div>
<div class="line"><span class="lineno">  296</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  297</span>            <span class="keywordflow">case</span> <span class="charliteral">&#39;a&#39;</span>:</div>
<div class="line"><span class="lineno">  298</span>                printf(<span class="stringliteral">&quot;Exit program\n&quot;</span>);</div>
<div class="line"><span class="lineno">  299</span>                <a class="code hl_function" href="model_8c.html#a88cc80b1bb6c547c836b5490c0db3099">stop_moving</a>();</div>
<div class="line"><span class="lineno">  300</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  301</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  302</span>                printf(<span class="stringliteral">&quot;Error : Unknown command\n&quot;</span>);</div>
<div class="line"><span class="lineno">  303</span>        }</div>
<div class="line"><span class="lineno">  304</span>    }</div>
<div class="line"><span class="lineno">  305</span>    </div>
<div class="line"><span class="lineno">  306</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_a51433c029591b579b2325061d785ca36_cgraph.png" border="0" usemap="#amodel_8c_a51433c029591b579b2325061d785ca36_cgraph" alt=""/></div>
<map name="amodel_8c_a51433c029591b579b2325061d785ca36_cgraph" id="amodel_8c_a51433c029591b579b2325061d785ca36_cgraph">
<area shape="rect" title="Robot is controlled with zqsd input, a for quit, e for stop." alt="" coords="5,31,45,57"/>
<area shape="rect" href="model_8c.html#a22159ec5786bcd0c518d86dc97d44b4e" title="function to make robot move" alt="" coords="114,5,169,32"/>
<area shape="rect" href="model_8c.html#a88cc80b1bb6c547c836b5490c0db3099" title="stop robot&#39;s motor" alt="" coords="93,56,189,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_a51433c029591b579b2325061d785ca36_icgraph.png" border="0" usemap="#amodel_8c_a51433c029591b579b2325061d785ca36_icgraph" alt=""/></div>
<map name="amodel_8c_a51433c029591b579b2325061d785ca36_icgraph" id="amodel_8c_a51433c029591b579b2325061d785ca36_icgraph">
<area shape="rect" title="Robot is controlled with zqsd input, a for quit, e for stop." alt="" coords="104,5,144,32"/>
<area shape="rect" href="model_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program function." alt="" coords="5,5,56,32"/>
</map>
</div>

</div>
</div>
<a id="ac05d0fc423a7e961f72d76e0b5cdfa9e" name="ac05d0fc423a7e961f72d76e0b5cdfa9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac05d0fc423a7e961f72d76e0b5cdfa9e">&#9670;&nbsp;</a></span>seek_food()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int seek_food </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function that select send mootor control for food seeking </p>
<hr  />
<p> Food seeking behavior</p>
<dl class="section return"><dt>Returns</dt><dd>0 when ok </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  733</span>                   {</div>
<div class="line"><span class="lineno">  734</span>    <a class="code hl_function" href="model_8c.html#a22159ec5786bcd0c518d86dc97d44b4e">move</a>(0.8,0.8);</div>
<div class="line"><span class="lineno">  735</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  736</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_ac05d0fc423a7e961f72d76e0b5cdfa9e_cgraph.png" border="0" usemap="#amodel_8c_ac05d0fc423a7e961f72d76e0b5cdfa9e_cgraph" alt=""/></div>
<map name="amodel_8c_ac05d0fc423a7e961f72d76e0b5cdfa9e_cgraph" id="amodel_8c_ac05d0fc423a7e961f72d76e0b5cdfa9e_cgraph">
<area shape="rect" title="function that select send mootor control for food seeking" alt="" coords="5,5,88,32"/>
<area shape="rect" href="model_8c.html#a22159ec5786bcd0c518d86dc97d44b4e" title="function to make robot move" alt="" coords="136,5,191,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_ac05d0fc423a7e961f72d76e0b5cdfa9e_icgraph.png" border="0" usemap="#amodel_8c_ac05d0fc423a7e961f72d76e0b5cdfa9e_icgraph" alt=""/></div>
<map name="amodel_8c_ac05d0fc423a7e961f72d76e0b5cdfa9e_icgraph" id="amodel_8c_ac05d0fc423a7e961f72d76e0b5cdfa9e_icgraph">
<area shape="rect" title="function that select send mootor control for food seeking" alt="" coords="587,5,669,32"/>
<area shape="rect" href="model_8c.html#a256b18090d240375c58448c8693d391b" title="function that select sub&#45;behavioral group for energy" alt="" coords="372,5,539,32"/>
<area shape="rect" href="model_8c.html#a42168e51ee7171713d66b7dcbb41887a" title="function that select behavioral grroup to compute robot&#39;s speed based on input" alt="" coords="209,5,324,32"/>
<area shape="rect" href="model_8c.html#afff2d3c32d3cf9812c2844d012a17142" title="Robot model based on our work." alt="" coords="104,5,161,32"/>
<area shape="rect" href="model_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program function." alt="" coords="5,5,56,32"/>
</map>
</div>

</div>
</div>
<a id="a23bae2c9f13446680670ca6f98121f22" name="a23bae2c9f13446680670ca6f98121f22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23bae2c9f13446680670ca6f98121f22">&#9670;&nbsp;</a></span>seek_grooming_spot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int seek_grooming_spot </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function that select send mootor control for groooming spot seeking </p>
<hr  />
<p> Grooming spot seeking behavior</p>
<dl class="section return"><dt>Returns</dt><dd>0 when ok </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  773</span>                            {</div>
<div class="line"><span class="lineno">  774</span>    <a class="code hl_function" href="model_8c.html#a22159ec5786bcd0c518d86dc97d44b4e">move</a>(0.8,0.8);</div>
<div class="line"><span class="lineno">  775</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  776</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_a23bae2c9f13446680670ca6f98121f22_cgraph.png" border="0" usemap="#amodel_8c_a23bae2c9f13446680670ca6f98121f22_cgraph" alt=""/></div>
<map name="amodel_8c_a23bae2c9f13446680670ca6f98121f22_cgraph" id="amodel_8c_a23bae2c9f13446680670ca6f98121f22_cgraph">
<area shape="rect" title="function that select send mootor control for groooming spot seeking" alt="" coords="5,5,148,32"/>
<area shape="rect" href="model_8c.html#a22159ec5786bcd0c518d86dc97d44b4e" title="function to make robot move" alt="" coords="196,5,251,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_a23bae2c9f13446680670ca6f98121f22_icgraph.png" border="0" usemap="#amodel_8c_a23bae2c9f13446680670ca6f98121f22_icgraph" alt=""/></div>
<map name="amodel_8c_a23bae2c9f13446680670ca6f98121f22_icgraph" id="amodel_8c_a23bae2c9f13446680670ca6f98121f22_icgraph">
<area shape="rect" title="function that select send mootor control for groooming spot seeking" alt="" coords="563,13,705,39"/>
<area shape="rect" href="model_8c.html#a9b71e438b829313af4267abdfa355e66" title="function that select sub&#45;behavioral group for tegument" alt="" coords="372,5,515,47"/>
<area shape="rect" href="model_8c.html#a42168e51ee7171713d66b7dcbb41887a" title="function that select behavioral grroup to compute robot&#39;s speed based on input" alt="" coords="209,13,324,39"/>
<area shape="rect" href="model_8c.html#afff2d3c32d3cf9812c2844d012a17142" title="Robot model based on our work." alt="" coords="104,13,161,39"/>
<area shape="rect" href="model_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program function." alt="" coords="5,13,56,39"/>
</map>
</div>

</div>
</div>
<a id="adf91428d3c07a9e825283b794ead7f4c" name="adf91428d3c07a9e825283b794ead7f4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf91428d3c07a9e825283b794ead7f4c">&#9670;&nbsp;</a></span>set_leds()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int set_leds </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>left</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>right</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>back</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function that set color for 4 robot leds </p>
<hr  />
<p> Set robot leds</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">left,color</td><td>for left led </td></tr>
    <tr><td class="paramname">right,color</td><td>for right led </td></tr>
    <tr><td class="paramname">back,color</td><td>for back led </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>For color selection : (0 off, 1 white, 2 green, 3 blue, 4 red) </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>: 0 when ok </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">   79</span>                                           {</div>
<div class="line"><span class="lineno">   80</span>    int32_t lr, lg, lb, rr, rg, rb, br, bg, bb;</div>
<div class="line"><span class="lineno">   81</span>    <span class="keywordflow">switch</span>(left){</div>
<div class="line"><span class="lineno">   82</span>        <span class="keywordflow">case</span> 0: <span class="comment">// off</span></div>
<div class="line"><span class="lineno">   83</span>            lr=0; lg=0; lb=0;</div>
<div class="line"><span class="lineno">   84</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   85</span>        <span class="keywordflow">case</span> 1: <span class="comment">//white</span></div>
<div class="line"><span class="lineno">   86</span>            lr=255; lg=255; lb=255;</div>
<div class="line"><span class="lineno">   87</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   88</span>        <span class="keywordflow">case</span> 2: <span class="comment">//green</span></div>
<div class="line"><span class="lineno">   89</span>            lr=0; lg=255; lb=0;</div>
<div class="line"><span class="lineno">   90</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   91</span>        <span class="keywordflow">case</span> 3: <span class="comment">//blue</span></div>
<div class="line"><span class="lineno">   92</span>            lr=0; lg=0; lb=255;</div>
<div class="line"><span class="lineno">   93</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   94</span>        <span class="keywordflow">case</span> 4: <span class="comment">//red</span></div>
<div class="line"><span class="lineno">   95</span>            lr=255; lg=0; lb=0;</div>
<div class="line"><span class="lineno">   96</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   97</span>    }</div>
<div class="line"><span class="lineno">   98</span>    <span class="keywordflow">switch</span>(right){</div>
<div class="line"><span class="lineno">   99</span>        <span class="keywordflow">case</span> 0: <span class="comment">// off</span></div>
<div class="line"><span class="lineno">  100</span>            rr=0; rg=0; rb=0;</div>
<div class="line"><span class="lineno">  101</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  102</span>        <span class="keywordflow">case</span> 1: <span class="comment">//white</span></div>
<div class="line"><span class="lineno">  103</span>            rr=255; rg=255; rb=255;</div>
<div class="line"><span class="lineno">  104</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  105</span>        <span class="keywordflow">case</span> 2: <span class="comment">//green</span></div>
<div class="line"><span class="lineno">  106</span>            rr=0; rg=255; rb=0;</div>
<div class="line"><span class="lineno">  107</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  108</span>        <span class="keywordflow">case</span> 3: <span class="comment">//blue</span></div>
<div class="line"><span class="lineno">  109</span>            rr=0; rg=0; rb=255;</div>
<div class="line"><span class="lineno">  110</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  111</span>        <span class="keywordflow">case</span> 4: <span class="comment">//red</span></div>
<div class="line"><span class="lineno">  112</span>            rr=255; rg=0; rb=0;</div>
<div class="line"><span class="lineno">  113</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  114</span>    }</div>
<div class="line"><span class="lineno">  115</span>    <span class="keywordflow">switch</span>(back){</div>
<div class="line"><span class="lineno">  116</span>        <span class="keywordflow">case</span> 0: <span class="comment">// off</span></div>
<div class="line"><span class="lineno">  117</span>            br=0; bg=0; bb=0;</div>
<div class="line"><span class="lineno">  118</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  119</span>        <span class="keywordflow">case</span> 1: <span class="comment">//white</span></div>
<div class="line"><span class="lineno">  120</span>            br=255; bg=255; bb=255;</div>
<div class="line"><span class="lineno">  121</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  122</span>        <span class="keywordflow">case</span> 2: <span class="comment">//green</span></div>
<div class="line"><span class="lineno">  123</span>            br=0; bg=255; bb=0;</div>
<div class="line"><span class="lineno">  124</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  125</span>        <span class="keywordflow">case</span> 3: <span class="comment">//blue</span></div>
<div class="line"><span class="lineno">  126</span>            br=0; bg=0; bb=255;</div>
<div class="line"><span class="lineno">  127</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  128</span>        <span class="keywordflow">case</span> 4: <span class="comment">//red</span></div>
<div class="line"><span class="lineno">  129</span>            br=255; bg=0; bb=0;</div>
<div class="line"><span class="lineno">  130</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  131</span>    }</div>
<div class="line"><span class="lineno">  132</span> </div>
<div class="line"><span class="lineno">  133</span>    kh4_SetRGBLeds(lr, lg, lb, rr, rg, rb, br, bg, bb, <a class="code hl_variable" href="model_8c.html#ab6f899a116b8a0c5179cd0f0cef9c4d6">dsPic</a>);</div>
<div class="line"><span class="lineno">  134</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  135</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_adf91428d3c07a9e825283b794ead7f4c_icgraph.png" border="0" usemap="#amodel_8c_adf91428d3c07a9e825283b794ead7f4c_icgraph" alt=""/></div>
<map name="amodel_8c_adf91428d3c07a9e825283b794ead7f4c_icgraph" id="amodel_8c_adf91428d3c07a9e825283b794ead7f4c_icgraph">
<area shape="rect" title="function that set color for 4 robot leds" alt="" coords="1025,132,1096,159"/>
<area shape="rect" href="model_8c.html#ae44811dea0e1843c571619d692a463ac" title="function that make animation when robot has damage" alt="" coords="847,81,977,108"/>
<area shape="rect" href="model_8c.html#a13b684a14e79f0144fbfdbd71bb6bc6e" title="function that make animation for death" alt="" coords="681,132,799,159"/>
<area shape="rect" href="model_8c.html#acfb70eef697ff0c61b7a04fd7bb857ba" title="function that turn of all leds" alt="" coords="863,183,961,209"/>
<area shape="rect" href="model_8c.html#ad3bb390d68f40aaee86dbed19b15218c" title="function that decrease physiological variable for integrity" alt="" coords="683,81,797,108"/>
<area shape="rect" href="model_8c.html#a045b7ae19635db4c0c565677d9cd3071" title="function that compute circulare based damage" alt="" coords="530,5,626,32"/>
<area shape="rect" href="model_8c.html#aff392d961d3f5d759aa041d27780a848" title="function that compute speed based damage" alt="" coords="523,56,633,83"/>
<area shape="rect" href="model_8c.html#a9772aee7d0e45a3f4927f4df78ee5ed7" title="function that check if there is damage based on two types of damage" alt="" coords="351,56,475,83"/>
<area shape="rect" href="model_8c.html#ab5b9c8b8ad9d20f047d6ff2ba808dacc" title="function that update the internal variables, compute deficits, cues and motivation" alt="" coords="209,107,303,133"/>
<area shape="rect" href="model_8c.html#afff2d3c32d3cf9812c2844d012a17142" title="Robot model based on our work." alt="" coords="104,132,161,159"/>
<area shape="rect" href="model_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program function." alt="" coords="5,132,56,159"/>
</map>
</div>

</div>
</div>
<a id="aff392d961d3f5d759aa041d27780a848" name="aff392d961d3f5d759aa041d27780a848"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff392d961d3f5d759aa041d27780a848">&#9670;&nbsp;</a></span>speed_damage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int speed_damage </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function that compute speed based damage </p>
<hr  />
<p> TODO Speed damage function</p>
<dl class="section return"><dt>Returns</dt><dd>0 when not, 1 when yes </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  527</span>                      {</div>
<div class="line"><span class="lineno">  528</span>    <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  529</span>    <span class="keywordtype">int</span> diff[8];</div>
<div class="line"><span class="lineno">  530</span>    <span class="keywordflow">for</span>(i=0; i&lt;8; i++){</div>
<div class="line"><span class="lineno">  531</span>        <span class="comment">// TODO : FIX ERROR HERE</span></div>
<div class="line"><span class="lineno">  532</span>        diff[i] = (<a class="code hl_variable" href="model_8c.html#a1ee85ec09b3bcd5c3e9ef979cbf91013">sensors</a>[i]-<a class="code hl_variable" href="model_8c.html#a2975e70127642bfc88c4783c37eca03b">prev_sensors</a>[i]); <span class="comment">// compute distance between previous and current sensor data</span></div>
<div class="line"><span class="lineno">  533</span>        <span class="keywordflow">if</span>(abs(diff[i]) &gt; 0.05*(<a class="code hl_define" href="model_8c.html#ae4f6058c45a018de2c45bc43f0c405ae">MAX_DIST</a>-<a class="code hl_define" href="model_8c.html#a0242b872f13ae044f308ee8865fecc57">MIN_DIST</a>)){ <span class="comment">// if distance is greater than 5% of the actual MAX_DIST-MIN_DIST</span></div>
<div class="line"><span class="lineno">  534</span>            <a class="code hl_variable" href="model_8c.html#a074e970c2069dbb55b2f964e3e1b5a11">speed</a>[i] = (<a class="code hl_variable" href="model_8c.html#a074e970c2069dbb55b2f964e3e1b5a11">speed</a>[i] + (diff[i]/<a class="code hl_define" href="model_8c.html#a078b6c12f1ac6819cecef90ab5870276">TIME</a>))/2.0; <span class="comment">// speed get mean of it previous value and actual speed</span></div>
<div class="line"><span class="lineno">  535</span>        }</div>
<div class="line"><span class="lineno">  536</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  537</span>            <a class="code hl_variable" href="model_8c.html#a074e970c2069dbb55b2f964e3e1b5a11">speed</a>[i] = 0.0;</div>
<div class="line"><span class="lineno">  538</span> </div>
<div class="line"><span class="lineno">  539</span>        <span class="comment">// printf(&quot;s[%d]=%d-ps[%d]=%d =&gt; d[%d]%d &quot;,i, sensors[i], i, prev_sensors[i], i, diff[i]); </span></div>
<div class="line"><span class="lineno">  540</span>        <span class="comment">// printf(&quot; s[%d]:%.2f | &quot;,i, speed[i]);</span></div>
<div class="line"><span class="lineno">  541</span>    }</div>
<div class="line"><span class="lineno">  542</span>    printf(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno">  543</span>    <span class="keywordtype">float</span> mean = <a class="code hl_function" href="model_8c.html#a77821830aaf0356c92238ea9d040fd9f">get_mean_normalized_f</a>(<a class="code hl_variable" href="model_8c.html#a074e970c2069dbb55b2f964e3e1b5a11">speed</a>, 8, 0.0, (<a class="code hl_define" href="model_8c.html#ae4f6058c45a018de2c45bc43f0c405ae">MAX_DIST</a>/<a class="code hl_define" href="model_8c.html#a078b6c12f1ac6819cecef90ab5870276">TIME</a>)); <span class="comment">// get mean of speed for all sensors</span></div>
<div class="line"><span class="lineno">  544</span>    printf(<span class="stringliteral">&quot;mean: %f\n&quot;</span>, mean);</div>
<div class="line"><span class="lineno">  545</span>    <span class="comment">// TODO : FIX ERROR HERE</span></div>
<div class="line"><span class="lineno">  546</span>    <span class="keywordflow">if</span>(mean &gt; 0.05*(1.0/8.0)){ <span class="comment">// if mean speed is superior as 5% of max speed</span></div>
<div class="line"><span class="lineno">  547</span>        <span class="keywordflow">for</span>(i=0; i&lt;8; i++){</div>
<div class="line"><span class="lineno">  548</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="model_8c.html#a074e970c2069dbb55b2f964e3e1b5a11">speed</a>[i]&gt;0.05) <span class="comment">// if for ith sensor speed is greater than 5% of max speed</span></div>
<div class="line"><span class="lineno">  549</span>                <a class="code hl_function" href="model_8c.html#ad3bb390d68f40aaee86dbed19b15218c">induce_damage</a>(<a class="code hl_variable" href="model_8c.html#a074e970c2069dbb55b2f964e3e1b5a11">speed</a>[i]); <span class="comment">// induce damage</span></div>
<div class="line"><span class="lineno">  550</span>        }</div>
<div class="line"><span class="lineno">  551</span>        <span class="keywordflow">return</span> 1; <span class="comment">// there is damage</span></div>
<div class="line"><span class="lineno">  552</span>    }</div>
<div class="line"><span class="lineno">  553</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  554</span>}</div>
<div class="ttc" id="amodel_8c_html_a77821830aaf0356c92238ea9d040fd9f"><div class="ttname"><a href="model_8c.html#a77821830aaf0356c92238ea9d040fd9f">get_mean_normalized_f</a></div><div class="ttdeci">float get_mean_normalized_f(float table[], int size, float min, float max)</div><div class="ttdoc">function that get mean of table and normalize it but for a float table</div><div class="ttdef"><b>Definition:</b> model.c:454</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_aff392d961d3f5d759aa041d27780a848_cgraph.png" border="0" usemap="#amodel_8c_aff392d961d3f5d759aa041d27780a848_cgraph" alt=""/></div>
<map name="amodel_8c_aff392d961d3f5d759aa041d27780a848_cgraph" id="amodel_8c_aff392d961d3f5d759aa041d27780a848_cgraph">
<area shape="rect" title="function that compute speed based damage" alt="" coords="5,85,116,112"/>
<area shape="rect" href="model_8c.html#a77821830aaf0356c92238ea9d040fd9f" title="function that get mean of table and normalize it but for a float table" alt="" coords="164,35,324,61"/>
<area shape="rect" href="model_8c.html#ad3bb390d68f40aaee86dbed19b15218c" title="function that decrease physiological variable for integrity" alt="" coords="187,212,301,239"/>
<area shape="rect" href="model_8c.html#ae44811dea0e1843c571619d692a463ac" title="function that make animation when robot has damage" alt="" coords="372,376,503,403"/>
<area shape="rect" href="model_8c.html#ab5b9c8b8ad9d20f047d6ff2ba808dacc" title="function that update the internal variables, compute deficits, cues and motivation" alt="" coords="391,173,484,200"/>
<area shape="rect" href="model_8c.html#adf91428d3c07a9e825283b794ead7f4c" title="function that set color for 4 robot leds" alt="" coords="591,376,661,403"/>
<area shape="rect" href="model_8c.html#a9772aee7d0e45a3f4927f4df78ee5ed7" title="function that check if there is damage based on two types of damage" alt="" coords="564,5,688,32"/>
<area shape="rect" href="model_8c.html#a507792eccb7b93c5c65436fd8f37c84b" title="function that compute cues" alt="" coords="573,275,679,301"/>
<area shape="rect" href="model_8c.html#a4839931386cb5fae8e015d2173de57e0" title="function that compute deficits for physiological internal values" alt="" coords="569,173,683,200"/>
<area shape="rect" href="model_8c.html#a60c16f1cf7d0c222208477d5810a4020" title="function that compute motivations for physiological internal values" alt="" coords="553,224,699,251"/>
<area shape="rect" href="model_8c.html#a1a58010fca227c64de0d57e5f5a8a0ea" title="function that decrease physiological variables" alt="" coords="551,57,701,98"/>
<area shape="rect" href="model_8c.html#afdbf3026a1d40b44651f0f5f76ad7102" title="function to read and store sensors values" alt="" coords="579,123,673,149"/>
<area shape="rect" href="model_8c.html#a045b7ae19635db4c0c565677d9cd3071" title="function that compute circulare based damage" alt="" coords="776,325,872,352"/>
<area shape="rect" href="model_8c.html#a762377c04f5d71221c66a23c81777f96" title="function that get mean of table and normalize it" alt="" coords="749,275,899,301"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_aff392d961d3f5d759aa041d27780a848_icgraph.png" border="0" usemap="#amodel_8c_aff392d961d3f5d759aa041d27780a848_icgraph" alt=""/></div>
<map name="amodel_8c_aff392d961d3f5d759aa041d27780a848_icgraph" id="amodel_8c_aff392d961d3f5d759aa041d27780a848_icgraph">
<area shape="rect" title="function that compute speed based damage" alt="" coords="624,66,735,93"/>
<area shape="rect" href="model_8c.html#a9772aee7d0e45a3f4927f4df78ee5ed7" title="function that check if there is damage based on two types of damage" alt="" coords="452,41,576,67"/>
<area shape="rect" href="model_8c.html#ab5b9c8b8ad9d20f047d6ff2ba808dacc" title="function that update the internal variables, compute deficits, cues and motivation" alt="" coords="311,41,404,67"/>
<area shape="rect" href="model_8c.html#ad3bb390d68f40aaee86dbed19b15218c" title="function that decrease physiological variable for integrity" alt="" coords="149,91,263,118"/>
<area shape="rect" href="model_8c.html#afff2d3c32d3cf9812c2844d012a17142" title="Robot model based on our work." alt="" coords="177,41,235,67"/>
<area shape="rect" href="model_8c.html#a045b7ae19635db4c0c565677d9cd3071" title="function that compute circulare based damage" alt="" coords="5,91,101,118"/>
<area shape="rect" href="model_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program function." alt="" coords="28,41,79,67"/>
</map>
</div>

</div>
</div>
<a id="a88cc80b1bb6c547c836b5490c0db3099" name="a88cc80b1bb6c547c836b5490c0db3099"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88cc80b1bb6c547c836b5490c0db3099">&#9670;&nbsp;</a></span>stop_moving()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stop_moving </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>stop robot's motor </p>
<hr  />
<p> Make robot stop</p>
<dl class="section return"><dt>Returns</dt><dd>: none </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Robot's wheels are stopeed and robot is set in stop mode. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  237</span>                 {</div>
<div class="line"><span class="lineno">  238</span>    <span class="comment">// Stop wheel motors</span></div>
<div class="line"><span class="lineno">  239</span>    printf(<span class="stringliteral">&quot;Stopping motors\n&quot;</span>);</div>
<div class="line"><span class="lineno">  240</span>    kh4_SetMode(kh4RegSpeed, <a class="code hl_variable" href="model_8c.html#ab6f899a116b8a0c5179cd0f0cef9c4d6">dsPic</a>);</div>
<div class="line"><span class="lineno">  241</span>    kh4_set_speed(0, 0, <a class="code hl_variable" href="model_8c.html#ab6f899a116b8a0c5179cd0f0cef9c4d6">dsPic</a>);</div>
<div class="line"><span class="lineno">  242</span>    <span class="comment">// LEDs off</span></div>
<div class="line"><span class="lineno">  243</span>    kh4_SetRGBLeds(0, 0, 0, 0, 0, 0, 0, 0, 0, <a class="code hl_variable" href="model_8c.html#ab6f899a116b8a0c5179cd0f0cef9c4d6">dsPic</a>);</div>
<div class="line"><span class="lineno">  244</span>    kh4_SetMode(kh4RegIdle, <a class="code hl_variable" href="model_8c.html#ab6f899a116b8a0c5179cd0f0cef9c4d6">dsPic</a>);</div>
<div class="line"><span class="lineno">  245</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  246</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_a88cc80b1bb6c547c836b5490c0db3099_icgraph.png" border="0" usemap="#amodel_8c_a88cc80b1bb6c547c836b5490c0db3099_icgraph" alt=""/></div>
<map name="amodel_8c_a88cc80b1bb6c547c836b5490c0db3099_icgraph" id="amodel_8c_a88cc80b1bb6c547c836b5490c0db3099_icgraph">
<area shape="rect" title="stop robot&#39;s motor" alt="" coords="209,20,305,46"/>
<area shape="rect" href="model_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program function." alt="" coords="5,20,56,46"/>
<area shape="rect" href="model_8c.html#afff2d3c32d3cf9812c2844d012a17142" title="Robot model based on our work." alt="" coords="104,20,161,46"/>
<area shape="rect" href="model_8c.html#a51433c029591b579b2325061d785ca36" title="Robot is controlled with zqsd input, a for quit, e for stop." alt="" coords="113,70,153,97"/>
</map>
</div>

</div>
</div>
<a id="a9b71e438b829313af4267abdfa355e66" name="a9b71e438b829313af4267abdfa355e66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b71e438b829313af4267abdfa355e66">&#9670;&nbsp;</a></span>tegument_behavioral_group()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tegument_behavioral_group </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function that select sub-behavioral group for tegument </p>
<hr  />
<p> Tegument behavioral group</p>
<dl class="section return"><dt>Returns</dt><dd>0 when ok </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  796</span>                                   {</div>
<div class="line"><span class="lineno">  797</span>    <span class="keywordtype">int</span> can_groom = 0;</div>
<div class="line"><span class="lineno">  798</span>    <span class="keywordflow">if</span>(can_groom)</div>
<div class="line"><span class="lineno">  799</span>        <a class="code hl_function" href="model_8c.html#a059df531c8f30b7a8700a6b1209fd666">groom</a>();</div>
<div class="line"><span class="lineno">  800</span>    <a class="code hl_function" href="model_8c.html#a23bae2c9f13446680670ca6f98121f22">seek_grooming_spot</a>();</div>
<div class="line"><span class="lineno">  801</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  802</span>}</div>
<div class="ttc" id="amodel_8c_html_a059df531c8f30b7a8700a6b1209fd666"><div class="ttname"><a href="model_8c.html#a059df531c8f30b7a8700a6b1209fd666">groom</a></div><div class="ttdeci">int groom(void)</div><div class="ttdoc">function that increase physiological tegument variable</div><div class="ttdef"><b>Definition:</b> model.c:784</div></div>
<div class="ttc" id="amodel_8c_html_a23bae2c9f13446680670ca6f98121f22"><div class="ttname"><a href="model_8c.html#a23bae2c9f13446680670ca6f98121f22">seek_grooming_spot</a></div><div class="ttdeci">int seek_grooming_spot(void)</div><div class="ttdoc">function that select send mootor control for groooming spot seeking</div><div class="ttdef"><b>Definition:</b> model.c:773</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_a9b71e438b829313af4267abdfa355e66_cgraph.png" border="0" usemap="#amodel_8c_a9b71e438b829313af4267abdfa355e66_cgraph" alt=""/></div>
<map name="amodel_8c_a9b71e438b829313af4267abdfa355e66_cgraph" id="amodel_8c_a9b71e438b829313af4267abdfa355e66_cgraph">
<area shape="rect" title="function that select sub&#45;behavioral group for tegument" alt="" coords="5,23,148,65"/>
<area shape="rect" href="model_8c.html#a059df531c8f30b7a8700a6b1209fd666" title="function that increase physiological tegument variable" alt="" coords="196,5,255,32"/>
<area shape="rect" href="model_8c.html#a23bae2c9f13446680670ca6f98121f22" title="function that select send mootor control for groooming spot seeking" alt="" coords="303,56,445,83"/>
<area shape="rect" href="model_8c.html#a1ae2fb5c7962e93ebf2074037de03226" title="function that make a grooming animation" alt="" coords="313,5,435,32"/>
<area shape="rect" href="model_8c.html#a22159ec5786bcd0c518d86dc97d44b4e" title="function to make robot move" alt="" coords="493,31,548,57"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_a9b71e438b829313af4267abdfa355e66_icgraph.png" border="0" usemap="#amodel_8c_a9b71e438b829313af4267abdfa355e66_icgraph" alt=""/></div>
<map name="amodel_8c_a9b71e438b829313af4267abdfa355e66_icgraph" id="amodel_8c_a9b71e438b829313af4267abdfa355e66_icgraph">
<area shape="rect" title="function that select sub&#45;behavioral group for tegument" alt="" coords="372,5,515,47"/>
<area shape="rect" href="model_8c.html#a42168e51ee7171713d66b7dcbb41887a" title="function that select behavioral grroup to compute robot&#39;s speed based on input" alt="" coords="209,13,324,39"/>
<area shape="rect" href="model_8c.html#afff2d3c32d3cf9812c2844d012a17142" title="Robot model based on our work." alt="" coords="104,13,161,39"/>
<area shape="rect" href="model_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program function." alt="" coords="5,13,56,39"/>
</map>
</div>

</div>
</div>
<a id="acfb70eef697ff0c61b7a04fd7bb857ba" name="acfb70eef697ff0c61b7a04fd7bb857ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfb70eef697ff0c61b7a04fd7bb857ba">&#9670;&nbsp;</a></span>turn_off_leds()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int turn_off_leds </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function that turn of all leds </p>
<hr  />
<p> Turn off leds</p>
<dl class="section return"><dt>Returns</dt><dd>: 0 when ok </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  143</span>                   {</div>
<div class="line"><span class="lineno">  144</span>    <a class="code hl_function" href="model_8c.html#adf91428d3c07a9e825283b794ead7f4c">set_leds</a>(0,0,0);</div>
<div class="line"><span class="lineno">  145</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  146</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_acfb70eef697ff0c61b7a04fd7bb857ba_cgraph.png" border="0" usemap="#amodel_8c_acfb70eef697ff0c61b7a04fd7bb857ba_cgraph" alt=""/></div>
<map name="amodel_8c_acfb70eef697ff0c61b7a04fd7bb857ba_cgraph" id="amodel_8c_acfb70eef697ff0c61b7a04fd7bb857ba_cgraph">
<area shape="rect" title="function that turn of all leds" alt="" coords="5,5,103,32"/>
<area shape="rect" href="model_8c.html#adf91428d3c07a9e825283b794ead7f4c" title="function that set color for 4 robot leds" alt="" coords="151,5,221,32"/>
</map>
</div>

</div>
</div>
<a id="ab5b9c8b8ad9d20f047d6ff2ba808dacc" name="ab5b9c8b8ad9d20f047d6ff2ba808dacc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5b9c8b8ad9d20f047d6ff2ba808dacc">&#9670;&nbsp;</a></span>update_vars()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int update_vars </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>loopstart</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function that update the internal variables, compute deficits, cues and motivation </p>
<hr  />
<p> Update internal variables</p>
<dl class="section return"><dt>Returns</dt><dd>0 when ok </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loopstart,an</td><td>int set to 1 when it's loop start </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">  575</span>                              {</div>
<div class="line"><span class="lineno">  576</span>    <span class="keywordflow">if</span>(loopstart){</div>
<div class="line"><span class="lineno">  577</span>        <a class="code hl_function" href="model_8c.html#a1a58010fca227c64de0d57e5f5a8a0ea">decrease_physoligical_variables</a>();</div>
<div class="line"><span class="lineno">  578</span>        <a class="code hl_function" href="model_8c.html#afdbf3026a1d40b44651f0f5f76ad7102">get_sensors</a>();</div>
<div class="line"><span class="lineno">  579</span>        <a class="code hl_function" href="model_8c.html#a9772aee7d0e45a3f4927f4df78ee5ed7">check_if_damage</a>();</div>
<div class="line"><span class="lineno">  580</span>    }</div>
<div class="line"><span class="lineno">  581</span>    <a class="code hl_function" href="model_8c.html#a4839931386cb5fae8e015d2173de57e0">compute_deficit</a>();</div>
<div class="line"><span class="lineno">  582</span>    <a class="code hl_function" href="model_8c.html#a507792eccb7b93c5c65436fd8f37c84b">compute_cues</a>();</div>
<div class="line"><span class="lineno">  583</span>    <a class="code hl_function" href="model_8c.html#a60c16f1cf7d0c222208477d5810a4020">compute_motivations</a>();</div>
<div class="line"><span class="lineno">  584</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  585</span>}</div>
<div class="ttc" id="amodel_8c_html_a1a58010fca227c64de0d57e5f5a8a0ea"><div class="ttname"><a href="model_8c.html#a1a58010fca227c64de0d57e5f5a8a0ea">decrease_physoligical_variables</a></div><div class="ttdeci">int decrease_physoligical_variables(void)</div><div class="ttdoc">function that decrease physiological variables</div><div class="ttdef"><b>Definition:</b> model.c:483</div></div>
<div class="ttc" id="amodel_8c_html_a4839931386cb5fae8e015d2173de57e0"><div class="ttname"><a href="model_8c.html#a4839931386cb5fae8e015d2173de57e0">compute_deficit</a></div><div class="ttdeci">int compute_deficit(void)</div><div class="ttdoc">function that compute deficits for physiological internal values</div><div class="ttdef"><b>Definition:</b> model.c:409</div></div>
<div class="ttc" id="amodel_8c_html_a507792eccb7b93c5c65436fd8f37c84b"><div class="ttname"><a href="model_8c.html#a507792eccb7b93c5c65436fd8f37c84b">compute_cues</a></div><div class="ttdeci">int compute_cues(void)</div><div class="ttdoc">function that compute cues</div><div class="ttdef"><b>Definition:</b> model.c:470</div></div>
<div class="ttc" id="amodel_8c_html_a60c16f1cf7d0c222208477d5810a4020"><div class="ttname"><a href="model_8c.html#a60c16f1cf7d0c222208477d5810a4020">compute_motivations</a></div><div class="ttdeci">int compute_motivations(void)</div><div class="ttdoc">function that compute motivations for physiological internal values</div><div class="ttdef"><b>Definition:</b> model.c:425</div></div>
<div class="ttc" id="amodel_8c_html_a9772aee7d0e45a3f4927f4df78ee5ed7"><div class="ttname"><a href="model_8c.html#a9772aee7d0e45a3f4927f4df78ee5ed7">check_if_damage</a></div><div class="ttdeci">int check_if_damage(void)</div><div class="ttdoc">function that check if there is damage based on two types of damage</div><div class="ttdef"><b>Definition:</b> model.c:562</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_ab5b9c8b8ad9d20f047d6ff2ba808dacc_cgraph.png" border="0" usemap="#amodel_8c_ab5b9c8b8ad9d20f047d6ff2ba808dacc_cgraph" alt=""/></div>
<map name="amodel_8c_ab5b9c8b8ad9d20f047d6ff2ba808dacc_cgraph" id="amodel_8c_ab5b9c8b8ad9d20f047d6ff2ba808dacc_cgraph">
<area shape="rect" title="function that update the internal variables, compute deficits, cues and motivation" alt="" coords="5,156,99,182"/>
<area shape="rect" href="model_8c.html#a9772aee7d0e45a3f4927f4df78ee5ed7" title="function that check if there is damage based on two types of damage" alt="" coords="160,54,284,81"/>
<area shape="rect" href="model_8c.html#a507792eccb7b93c5c65436fd8f37c84b" title="function that compute cues" alt="" coords="169,324,275,350"/>
<area shape="rect" href="model_8c.html#a4839931386cb5fae8e015d2173de57e0" title="function that compute deficits for physiological internal values" alt="" coords="165,105,279,132"/>
<area shape="rect" href="model_8c.html#a60c16f1cf7d0c222208477d5810a4020" title="function that compute motivations for physiological internal values" alt="" coords="149,156,295,182"/>
<area shape="rect" href="model_8c.html#a1a58010fca227c64de0d57e5f5a8a0ea" title="function that decrease physiological variables" alt="" coords="147,207,297,248"/>
<area shape="rect" href="model_8c.html#afdbf3026a1d40b44651f0f5f76ad7102" title="function to read and store sensors values" alt="" coords="175,273,269,300"/>
<area shape="rect" href="model_8c.html#a045b7ae19635db4c0c565677d9cd3071" title="function that compute circulare based damage" alt="" coords="372,54,468,81"/>
<area shape="rect" href="model_8c.html#aff392d961d3f5d759aa041d27780a848" title="function that compute speed based damage" alt="" coords="365,105,475,132"/>
<area shape="rect" href="model_8c.html#ad3bb390d68f40aaee86dbed19b15218c" title="function that decrease physiological variable for integrity" alt="" coords="566,54,679,81"/>
<area shape="rect" href="model_8c.html#ae44811dea0e1843c571619d692a463ac" title="function that make animation when robot has damage" alt="" coords="751,54,881,81"/>
<area shape="rect" href="model_8c.html#adf91428d3c07a9e825283b794ead7f4c" title="function that set color for 4 robot leds" alt="" coords="929,54,1000,81"/>
<area shape="rect" href="model_8c.html#a77821830aaf0356c92238ea9d040fd9f" title="function that get mean of table and normalize it but for a float table" alt="" coords="543,105,703,132"/>
<area shape="rect" href="model_8c.html#a762377c04f5d71221c66a23c81777f96" title="function that get mean of table and normalize it" alt="" coords="345,324,495,350"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_ab5b9c8b8ad9d20f047d6ff2ba808dacc_icgraph.png" border="0" usemap="#amodel_8c_ab5b9c8b8ad9d20f047d6ff2ba808dacc_icgraph" alt=""/></div>
<map name="amodel_8c_ab5b9c8b8ad9d20f047d6ff2ba808dacc_icgraph" id="amodel_8c_ab5b9c8b8ad9d20f047d6ff2ba808dacc_icgraph">
<area shape="rect" title="function that update the internal variables, compute deficits, cues and motivation" alt="" coords="497,107,591,133"/>
<area shape="rect" href="model_8c.html#ad3bb390d68f40aaee86dbed19b15218c" title="function that decrease physiological variable for integrity" alt="" coords="336,56,449,83"/>
<area shape="rect" href="model_8c.html#afff2d3c32d3cf9812c2844d012a17142" title="Robot model based on our work." alt="" coords="364,107,421,133"/>
<area shape="rect" href="model_8c.html#a045b7ae19635db4c0c565677d9cd3071" title="function that compute circulare based damage" alt="" coords="185,5,281,32"/>
<area shape="rect" href="model_8c.html#aff392d961d3f5d759aa041d27780a848" title="function that compute speed based damage" alt="" coords="177,56,288,83"/>
<area shape="rect" href="model_8c.html#a9772aee7d0e45a3f4927f4df78ee5ed7" title="function that check if there is damage based on two types of damage" alt="" coords="5,56,129,83"/>
<area shape="rect" href="model_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program function." alt="" coords="207,107,258,133"/>
</map>
</div>

</div>
</div>
<a id="a5bf656f8e903944d7b5c9e1166eb71c4" name="a5bf656f8e903944d7b5c9e1166eb71c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bf656f8e903944d7b5c9e1166eb71c4">&#9670;&nbsp;</a></span>winner_takes_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int winner_takes_all </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>m1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>m2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>m3</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Winner take all for decision making. </p>
<hr  />
<p> Function that takes motivations as input and return behaviral group</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m1</td><td>motivation for ernergy </td></tr>
    <tr><td class="paramname">m2</td><td>motivation for tegument </td></tr>
    <tr><td class="paramname">m3</td><td>motivation for integrity </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if energy, 2 if tegument, 3 if integrity, -1 if error </dd></dl>
<dl class="section note"><dt>Note</dt><dd>WTA is used for selection </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  219</span>                                                  {</div>
<div class="line"><span class="lineno">  220</span>    <span class="keywordflow">if</span>((m1 &gt; m2) &amp;&amp; (m1 &gt; m3))</div>
<div class="line"><span class="lineno">  221</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  222</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span>((m2 &gt; m1) &amp;&amp; (m2 &gt; m3))</div>
<div class="line"><span class="lineno">  223</span>        <span class="keywordflow">return</span> 2;</div>
<div class="line"><span class="lineno">  224</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span>((m3 &gt; m1) &amp;&amp; (m3 &gt; m2))</div>
<div class="line"><span class="lineno">  225</span>        <span class="keywordflow">return</span> 3;</div>
<div class="line"><span class="lineno">  226</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  227</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  228</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="model_8c_a5bf656f8e903944d7b5c9e1166eb71c4_icgraph.png" border="0" usemap="#amodel_8c_a5bf656f8e903944d7b5c9e1166eb71c4_icgraph" alt=""/></div>
<map name="amodel_8c_a5bf656f8e903944d7b5c9e1166eb71c4_icgraph" id="amodel_8c_a5bf656f8e903944d7b5c9e1166eb71c4_icgraph">
<area shape="rect" title="Winner take all for decision making." alt="" coords="209,5,328,32"/>
<area shape="rect" href="model_8c.html#afff2d3c32d3cf9812c2844d012a17142" title="Robot model based on our work." alt="" coords="104,5,161,32"/>
<area shape="rect" href="model_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main program function." alt="" coords="5,5,56,32"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a8498583fd530c799fdd9046d09e10134" name="a8498583fd530c799fdd9046d09e10134"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8498583fd530c799fdd9046d09e10134">&#9670;&nbsp;</a></span>_secure_led_animation</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int _secure_led_animation = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>to secure threading led animation </p>

</div>
</div>
<a id="aca8cf00b69caa2362577672a01a6d7b8" name="aca8cf00b69caa2362577672a01a6d7b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca8cf00b69caa2362577672a01a6d7b8">&#9670;&nbsp;</a></span>circ_speed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float circ_speed[7]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>table for circular speeed based on IR sensor values (size is n-1 because of circular speeed) </p>

</div>
</div>
<a id="a058d1dbc8d7d4223a3071bd3a7e46b9f" name="a058d1dbc8d7d4223a3071bd3a7e46b9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a058d1dbc8d7d4223a3071bd3a7e46b9f">&#9670;&nbsp;</a></span>cue_energy</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float cue_energy = 1.0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>cue for ernergy </p>

</div>
</div>
<a id="ad2c9a6bd1bf91b6fd3c76584b941da17" name="ad2c9a6bd1bf91b6fd3c76584b941da17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2c9a6bd1bf91b6fd3c76584b941da17">&#9670;&nbsp;</a></span>cue_integrity</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float cue_integrity = 1.0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>cue for integrity </p>

</div>
</div>
<a id="a4c429a7e08bb24d3367e060a10cb98ca" name="a4c429a7e08bb24d3367e060a10cb98ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c429a7e08bb24d3367e060a10cb98ca">&#9670;&nbsp;</a></span>cue_tegument</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float cue_tegument = 1.0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>cue for tegument </p>

</div>
</div>
<a id="acc0df53ad73ec6a6bd79841b15504a66" name="acc0df53ad73ec6a6bd79841b15504a66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc0df53ad73ec6a6bd79841b15504a66">&#9670;&nbsp;</a></span>def_energy</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float def_energy = 1.0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>deficit for ernergy </p>

</div>
</div>
<a id="a0689660b72c446b95cd5c9d9dc6a91dd" name="a0689660b72c446b95cd5c9d9dc6a91dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0689660b72c446b95cd5c9d9dc6a91dd">&#9670;&nbsp;</a></span>def_integrity</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float def_integrity = 1.0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>deficit for integrity </p>

</div>
</div>
<a id="a5f9eb877fe2738dae536a6f5a0fb1080" name="a5f9eb877fe2738dae536a6f5a0fb1080"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f9eb877fe2738dae536a6f5a0fb1080">&#9670;&nbsp;</a></span>def_tegument</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float def_tegument = 1.0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>deficit for tegument </p>

</div>
</div>
<a id="ab6f899a116b8a0c5179cd0f0cef9c4d6" name="ab6f899a116b8a0c5179cd0f0cef9c4d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6f899a116b8a0c5179cd0f0cef9c4d6">&#9670;&nbsp;</a></span>dsPic</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">knet_dev_t* dsPic</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>robot pic microcontroller access </p>

</div>
</div>
<a id="accee4678747584fcd7984a1a9530cc7c" name="accee4678747584fcd7984a1a9530cc7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accee4678747584fcd7984a1a9530cc7c">&#9670;&nbsp;</a></span>left_speed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float left_speed</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>speed of left motor </p>

</div>
</div>
<a id="a273125eebd2bdb137979392cc775f77f" name="a273125eebd2bdb137979392cc775f77f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a273125eebd2bdb137979392cc775f77f">&#9670;&nbsp;</a></span>mot_energy</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float mot_energy = 1.0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>motivation for ernergy </p>

</div>
</div>
<a id="a52c8382801478332b7788ef390ff25bc" name="a52c8382801478332b7788ef390ff25bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52c8382801478332b7788ef390ff25bc">&#9670;&nbsp;</a></span>mot_integrity</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float mot_integrity = 1.0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>motivation for integrity </p>

</div>
</div>
<a id="afb3d8fe19864e05769a9cae731aa8761" name="afb3d8fe19864e05769a9cae731aa8761"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb3d8fe19864e05769a9cae731aa8761">&#9670;&nbsp;</a></span>mot_tegument</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float mot_tegument = 1.0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>motivation for tegument </p>

</div>
</div>
<a id="a2975e70127642bfc88c4783c37eca03b" name="a2975e70127642bfc88c4783c37eca03b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2975e70127642bfc88c4783c37eca03b">&#9670;&nbsp;</a></span>prev_sensors</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int prev_sensors[8]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>to store previous sensors values for </p>

</div>
</div>
<a id="a5a3dc9f0e243ebe2212e56a172122fbf" name="a5a3dc9f0e243ebe2212e56a172122fbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a3dc9f0e243ebe2212e56a172122fbf">&#9670;&nbsp;</a></span>right_speed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float right_speed</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>speed of right motor </p>

</div>
</div>
<a id="a1ee85ec09b3bcd5c3e9ef979cbf91013" name="a1ee85ec09b3bcd5c3e9ef979cbf91013"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ee85ec09b3bcd5c3e9ef979cbf91013">&#9670;&nbsp;</a></span>sensors</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sensors[8]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>actual sensors values </p>

</div>
</div>
<a id="a074e970c2069dbb55b2f964e3e1b5a11" name="a074e970c2069dbb55b2f964e3e1b5a11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a074e970c2069dbb55b2f964e3e1b5a11">&#9670;&nbsp;</a></span>speed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float speed[8]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>table for speeed based on IR sensor values </p>

</div>
</div>
<a id="af4f1fe78f78ef60528c944f991ceca7f" name="af4f1fe78f78ef60528c944f991ceca7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4f1fe78f78ef60528c944f991ceca7f">&#9670;&nbsp;</a></span>var_energy</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float var_energy = 1.0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>physological variable for ernergy </p>

</div>
</div>
<a id="a24043223f501c4103d8ad849dcfe7416" name="a24043223f501c4103d8ad849dcfe7416"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24043223f501c4103d8ad849dcfe7416">&#9670;&nbsp;</a></span>var_integrity</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float var_integrity = 1.0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>physological variable for integrity </p>

</div>
</div>
<a id="a5cf4f7c491e651d5fac669ae60af667d" name="a5cf4f7c491e651d5fac669ae60af667d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cf4f7c491e651d5fac669ae60af667d">&#9670;&nbsp;</a></span>var_tegument</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float var_tegument = 1.0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>physological variable for tegument </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="model_8c.html">model.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
